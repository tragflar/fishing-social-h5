import{u as e,i as t,o as a,c as o,r as l,a as n,b as i,d as r,e as s,f as c,n as u,g as d,w as p,h as v,p as m,j as f,k as h,l as g,m as b,q as y,T as x,s as w,t as k,v as S,F as C,x as B,y as T,z as D,A as O,C as V,B as A,D as I,E as P,G as z,H as $,I as E}from"./vendor-788d0564.js";function M(){}const L=Object.assign,F="undefined"!=typeof window,R=e=>null!==e&&"object"==typeof e,H=e=>null!=e,j=e=>"function"==typeof e,N=e=>R(e)&&j(e.then)&&j(e.catch),W=e=>"[object Date]"===Object.prototype.toString.call(e)&&!Number.isNaN(e.getTime());function Y(e){return e=e.replace(/[^-|\d]/g,""),/^((\+86)|(86))?(1)\d{10}$/.test(e)||/^0[0-9-]{10,13}$/.test(e)}const U=e=>"number"==typeof e||/^\d+(\.\d+)?$/.test(e);function q(e,t){const a=t.split(".");let o=e;return a.forEach(e=>{var t;o=R(o)&&null!=(t=o[e])?t:""}),o}function X(e,t,a){return t.reduce((t,o)=>(a&&void 0===e[o]||(t[o]=e[o]),t),{})}const Z=(e,t)=>JSON.stringify(e)===JSON.stringify(t),G=e=>Array.isArray(e)?e:[e],K=null,_=[Number,String],J={type:Boolean,default:!0},Q=e=>({type:e,required:!0}),ee=()=>({type:Array,default:()=>[]}),te=e=>({type:Number,default:e}),ae=e=>({type:_,default:e}),oe=e=>({type:String,default:e});var le="undefined"!=typeof window;function ne(e){return le?requestAnimationFrame(e):-1}function ie(e){le&&cancelAnimationFrame(e)}function re(e){ne(()=>ne(e))}var se=(e,t)=>({top:0,left:0,right:e,bottom:t,width:e,height:t}),ce=t=>{const a=e(t);if(a===window){const e=a.innerWidth,t=a.innerHeight;return se(e,t)}return(null==a?void 0:a.getBoundingClientRect)?a.getBoundingClientRect():se(0,0)};function ue(e){const n=t(e,null);if(n){const e=v(),{link:t,unlink:l,internalChildren:i}=n;t(e),a(()=>l(e));return{parent:n,index:o(()=>i.indexOf(e))}}return{parent:null,index:l(-1)}}var de=(e,t)=>{const a=e.indexOf(t);return-1===a?e.findIndex(e=>void 0!==t.key&&null!==t.key&&e.type===t.type&&e.key===t.key):a};function pe(e,t,a){const o=function(e){const t=[],a=e=>{Array.isArray(e)&&e.forEach(e=>{var o;f(e)&&(t.push(e),(null==(o=e.component)?void 0:o.subTree)&&(t.push(e.component.subTree),a(e.component.subTree.children)),e.children&&a(e.children))})};return a(e),t}(e.subTree.children);a.sort((e,t)=>de(o,e.vnode)-de(o,t.vnode));const l=a.map(e=>e.proxy);t.sort((e,t)=>l.indexOf(e)-l.indexOf(t))}function ve(e){const t=n([]),a=n([]),o=v();return{children:t,linkChildren:l=>{m(e,Object.assign({link:e=>{e.proxy&&(a.push(e),t.push(e.proxy),pe(o,t,a))},unlink:e=>{const o=a.indexOf(e);t.splice(o,1),a.splice(o,1)},children:t,internalChildren:a},l))}}}var me,fe,he=1e3,ge=6e4,be=36e5,ye=24*be;function xe(e){let t,a,n,c;const u=l(e.time),d=o(()=>{return{total:e=u.value,days:Math.floor(e/ye),hours:Math.floor(e%ye/be),minutes:Math.floor(e%be/ge),seconds:Math.floor(e%ge/he),milliseconds:Math.floor(e%he)};var e}),p=()=>{n=!1,ie(t)},v=()=>Math.max(a-Date.now(),0),m=t=>{var a,o;u.value=t,null==(a=e.onChange)||a.call(e,d.value),0===t&&(p(),null==(o=e.onFinish)||o.call(e))},f=()=>{t=ne(()=>{n&&(m(v()),u.value>0&&f())})},h=()=>{t=ne(()=>{if(n){const a=v();e=a,t=u.value,(Math.floor(e/1e3)!==Math.floor(t/1e3)||0===a)&&m(a),u.value>0&&h()}var e,t})},g=()=>{le&&(e.millisecond?f():h())};return i(p),r(()=>{c&&(n=!0,c=!1,g())}),s(()=>{n&&(p(),c=!0)}),{start:()=>{n||(a=Date.now()+u.value,n=!0,g())},pause:p,reset:(t=e.time)=>{p(),u.value=t},current:d}}function we(e){let t;c(()=>{e(),u(()=>{t=!0})}),r(()=>{t&&e()})}function ke(t,o,l={}){if(!le)return;const{target:n=window,passive:i=!1,capture:r=!1}=l;let c,u=!1;const v=a=>{if(u)return;const l=e(a);l&&!c&&(l.addEventListener(t,o,{capture:r,passive:i}),c=!0)},m=a=>{if(u)return;const l=e(a);l&&c&&(l.removeEventListener(t,o,r),c=!1)};let f;return a(()=>m(n)),s(()=>m(n)),we(()=>v(n)),d(n)&&(f=p(n,(e,t)=>{m(t),v(e)})),()=>{null==f||f(),m(n),u=!0}}function Se(t,a,o={}){if(!le)return;const{eventName:l="click"}=o;ke(l,o=>{(Array.isArray(t)?t:[t]).every(t=>{const a=e(t);return a&&!a.contains(o.target)})&&a(o)},{target:document})}var Ce,Be=/scroll|auto|overlay/i,Te=le?window:void 0;function De(e){return"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType}function Oe(e,t=Te){let a=e;for(;a&&a!==t&&De(a);){const{overflowY:e}=window.getComputedStyle(a);if(Be.test(e))return a;a=a.parentNode}return t}function Ve(e,t=Te){const a=l();return c(()=>{e.value&&(a.value=Oe(e.value,t))}),a}var Ae=Symbol("van-field");function Ie(e){const a=t(Ae,null);a&&!a.customValue.value&&(a.customValue.value=e,p(e,()=>{a.resetValidation(),a.validateWithTrigger("onChange")}))}function Pe(e){const t="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(t,0)}function ze(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function $e(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function Ee(e){ze(window,e),ze(document.body,e)}function Me(e,t){if(e===window)return 0;const a=t?Pe(t):$e();return ce(e).top+a}const Le=!!F&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase());function Fe(){Le&&Ee($e())}const Re=e=>e.stopPropagation();function He(e,t){("boolean"!=typeof e.cancelable||e.cancelable)&&e.preventDefault(),t&&Re(e)}function je(t){const a=e(t);if(!a)return!1;const o=window.getComputedStyle(a),l="none"===o.display,n=null===a.offsetParent&&"fixed"!==o.position;return l||n}const{width:Ne,height:We}=function(){if(!me&&(me=l(0),fe=l(0),le)){const e=()=>{me.value=window.innerWidth,fe.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:me,height:fe}}();function Ye(e){const t=window.getComputedStyle(e);return"none"!==t.transform||"none"!==t.perspective||["transform","perspective","filter"].some(e=>(t.willChange||"").includes(e))}function Ue(e){if(H(e))return U(e)?`${e}px`:String(e)}function qe(e){if(H(e)){if(Array.isArray(e))return{width:Ue(e[0]),height:Ue(e[1])};const t=Ue(e);return{width:t,height:t}}}function Xe(e){const t={};return void 0!==e&&(t.zIndex=+e),t}let Ze;function Ge(e){return+(e=e.replace(/rem/g,""))*function(){if(!Ze){const e=document.documentElement,t=e.style.fontSize||window.getComputedStyle(e).fontSize;Ze=parseFloat(t)}return Ze}()}function Ke(e){if("number"==typeof e)return e;if(F){if(e.includes("rem"))return Ge(e);if(e.includes("vw"))return function(e){return+(e=e.replace(/vw/g,""))*Ne.value/100}(e);if(e.includes("vh"))return function(e){return+(e=e.replace(/vh/g,""))*We.value/100}(e)}return parseFloat(e)}const _e=/-(\w)/g,Je=e=>e.replace(_e,(e,t)=>t.toUpperCase());function Qe(e,t=2){let a=e+"";for(;a.length<t;)a="0"+a;return a}const et=(e,t,a)=>Math.min(Math.max(e,t),a);function tt(e,t,a){const o=e.indexOf(t);return-1===o?e:"-"===t&&0!==o?e.slice(0,o):e.slice(0,o+1)+e.slice(o).replace(a,"")}function at(e,t=!0,a=!0){e=t?tt(e,".",/\./g):e.split(".")[0];const o=t?/[^-0-9.]/g:/[^-0-9]/g;return(e=a?tt(e,"-",/-/g):e.replace(/-/,"")).replace(o,"")}function ot(e,t){const a=10**10;return Math.round((e+t)*a)/a}const{hasOwnProperty:lt}=Object.prototype;function nt(e,t){return Object.keys(t).forEach(a=>{!function(e,t,a){const o=t[a];H(o)&&(lt.call(e,a)&&R(o)?e[a]=nt(Object(e[a]),o):e[a]=o)}(e,t,a)}),e}const it=l("zh-CN"),rt=n({"zh-CN":{name:"姓名",tel:"电话",save:"保存",clear:"清空",cancel:"取消",confirm:"确认",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}}}),st={messages:()=>rt[it.value],use(e,t){it.value=e,this.add({[e]:t})},add(e={}){nt(rt,e)}};var ct=st;function ut(e){const t=Je(e)+".";return(e,...a)=>{const o=ct.messages(),l=q(o,t+e)||q(o,e);return j(l)?l(...a):l}}function dt(e,t){return t?"string"==typeof t?` ${e}--${t}`:Array.isArray(t)?t.reduce((t,a)=>t+dt(e,a),""):Object.keys(t).reduce((a,o)=>a+(t[o]?dt(e,o):""),""):""}function pt(e){return(t,a)=>(t&&"string"!=typeof t&&(a=t,t=""),`${t=t?`${e}__${t}`:e}${dt(t,a)}`)}function vt(e){const t=`van-${e}`;return[t,pt(t),ut(t)]}const mt="van-hairline",ft=`${mt}--top`,ht=`${mt}--left`,gt=`${mt}--right`,bt=`${mt}--bottom`,yt=`${mt}--surround`,xt=`${mt}--top-bottom`,wt=`${mt}-unset--top-bottom`,kt="van-haptics-feedback",St=Symbol("van-form");function Ct(e,{args:t=[],done:a,canceled:o,error:l}){if(e){const n=e.apply(null,t);N(n)?n.then(e=>{e?a():o&&o()}).catch(l||M):n?a():o&&o()}else a()}function Bt(e){return e.install=t=>{const{name:a}=e;a&&(t.component(a,e),t.component(Je(`-${a}`),e))},e}function Tt(e,t){return e.reduce((e,a)=>Math.abs(e-t)<Math.abs(a-t)?e:a)}const Dt=Symbol();function Ot(e){const a=t(Dt,null);a&&p(a,t=>{t&&e()})}const Vt=(e,t)=>{const a=l(),o=()=>{a.value=ce(e).height};return c(()=>{if(u(o),t)for(let e=1;e<=3;e++)setTimeout(o,100*e)}),Ot(()=>u(o)),p([Ne,We],o),a};function At(e,t){const a=Vt(e,!0);return e=>h("div",{class:t("placeholder"),style:{height:a.value?`${a.value}px`:void 0}},[e()])}const[It,Pt]=vt("action-bar"),zt=Symbol(It);const $t=Bt(g({name:It,props:{placeholder:Boolean,safeAreaInsetBottom:J},setup(e,{slots:t}){const a=l(),o=At(a,Pt),{linkChildren:n}=ve(zt);n();const i=()=>{var o;return h("div",{ref:a,class:[Pt(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[null==(o=t.default)?void 0:o.call(t)])};return()=>e.placeholder?o(i):i()}}));function Et(e){const t=v();t&&L(t.proxy,e)}const Mt={to:[String,Object],url:String,replace:Boolean};function Lt({to:e,url:t,replace:a,$router:o}){e&&o?o[a?"replace":"push"](e):t&&(a?location.replace(t):location.href=t)}function Ft(){const e=v().proxy;return()=>Lt(e)}const[Rt,Ht]=vt("badge");const jt=Bt(g({name:Rt,props:{dot:Boolean,max:_,tag:oe("div"),color:String,offset:Array,content:_,showZero:J,position:oe("top-right")},setup(e,{slots:t}){const a=()=>{if(t.content)return!0;const{content:a,showZero:o}=e;return H(a)&&""!==a&&(o||0!==a&&"0"!==a)},l=()=>{const{dot:o,max:l,content:n}=e;if(!o&&a())return t.content?t.content():H(l)&&U(n)&&+n>+l?`${l}+`:n},n=e=>e.startsWith("-")?e.replace("-",""):`-${e}`,i=o(()=>{const a={background:e.color};if(e.offset){const[o,l]=e.offset,{position:i}=e,[r,s]=i.split("-");t.default?(a[r]="number"==typeof l?Ue("top"===r?l:-l):"top"===r?Ue(l):n(l),a[s]="number"==typeof o?Ue("left"===s?o:-o):"left"===s?Ue(o):n(o)):(a.marginTop=Ue(l),a.marginLeft=Ue(o))}return a}),r=()=>{if(a()||e.dot)return h("div",{class:Ht([e.position,{dot:e.dot,fixed:!!t.default}]),style:i.value},[l()])};return()=>{if(t.default){const{tag:a}=e;return h(a,{class:Ht("wrapper")},{default:()=>[t.default(),r()]})}return r()}}}));let Nt=2e3;const[Wt,Yt]=vt("config-provider"),Ut=Symbol(Wt);function qt(e={},t={}){Object.keys(e).forEach(a=>{e[a]!==t[a]&&document.documentElement.style.setProperty(a,e[a])}),Object.keys(t).forEach(t=>{e[t]||document.documentElement.style.removeProperty(t)})}var Xt=g({name:Wt,props:{tag:oe("div"),theme:oe("light"),zIndex:Number,themeVars:Object,themeVarsDark:Object,themeVarsLight:Object,themeVarsScope:oe("local"),iconPrefix:String},setup(e,{slots:t}){const a=o(()=>function(e){const t={};return Object.keys(e).forEach(a=>{const o=a.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,"").replace(/([a-zA-Z])(\d)/g,"$1-$2");t[`--van-${o}`]=e[a]}),t}(L({},e.themeVars,"dark"===e.theme?e.themeVarsDark:e.themeVarsLight)));if(F){const t=()=>{document.documentElement.classList.add(`van-theme-${e.theme}`)},o=(t=e.theme)=>{document.documentElement.classList.remove(`van-theme-${t}`)};p(()=>e.theme,(e,a)=>{a&&o(a),t()},{immediate:!0}),r(t),s(o),i(o),p(a,(t,a)=>{"global"===e.themeVarsScope&&qt(t,a)}),p(()=>e.themeVarsScope,(e,t)=>{"global"===t&&qt({},a.value),"global"===e&&qt(a.value,{})}),"global"===e.themeVarsScope&&qt(a.value,{})}return m(Ut,e),b(()=>{var t;void 0!==e.zIndex&&(t=e.zIndex,Nt=t)}),()=>h(e.tag,{class:Yt(),style:"local"===e.themeVarsScope?a.value:void 0},{default:()=>{var e;return[null==(e=t.default)?void 0:e.call(t)]}})}});const[Zt,Gt]=vt("icon");const Kt=Bt(g({name:Zt,props:{dot:Boolean,tag:oe("i"),name:String,size:_,badge:_,color:String,badgeProps:Object,classPrefix:String},setup(e,{slots:a}){const l=t(Ut,null),n=o(()=>e.classPrefix||(null==l?void 0:l.iconPrefix)||Gt());return()=>{const{tag:t,dot:o,name:l,size:i,badge:r,color:s}=e,c=(e=>null==e?void 0:e.includes("/"))(l);return h(jt,y({dot:o,tag:t,class:[n.value,c?"":`${n.value}-${l}`],style:{color:s,fontSize:Ue(i)},content:r},e.badgeProps),{default:()=>{var e;return[null==(e=a.default)?void 0:e.call(a),c&&h("img",{class:Gt("image"),src:l},null)]}})}}}));var _t=Kt;const[Jt,Qt]=vt("loading"),ea=Array(12).fill(null).map((e,t)=>h("i",{class:Qt("line",String(t+1))},null)),ta=h("svg",{class:Qt("circular"),viewBox:"25 25 50 50"},[h("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]);const aa=Bt(g({name:Jt,props:{size:_,type:oe("circular"),color:String,vertical:Boolean,textSize:_,textColor:String},setup(e,{slots:t}){const a=o(()=>L({color:e.color},qe(e.size))),l=()=>{const o="spinner"===e.type?ea:ta;return h("span",{class:Qt("spinner",e.type),style:a.value},[t.icon?t.icon():o])},n=()=>{var a;if(t.default)return h("span",{class:Qt("text"),style:{fontSize:Ue(e.textSize),color:null!=(a=e.textColor)?a:e.color}},[t.default()])};return()=>{const{type:t,vertical:a}=e;return h("div",{class:Qt([t,{vertical:a}]),"aria-live":"polite","aria-busy":!0},[l(),n()])}}})),[oa,la]=vt("button");const na=Bt(g({name:oa,props:L({},Mt,{tag:oe("button"),text:String,icon:String,type:oe("default"),size:oe("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:oe("button"),loadingSize:_,loadingText:String,loadingType:String,iconPosition:oe("left")}),emits:["click"],setup(e,{emit:t,slots:a}){const o=Ft(),l=()=>e.loading?a.loading?a.loading():h(aa,{size:e.loadingSize,type:e.loadingType,class:la("loading")},null):a.icon?h("div",{class:la("icon")},[a.icon()]):e.icon?h(Kt,{name:e.icon,class:la("icon"),classPrefix:e.iconPrefix},null):void 0,n=()=>{let t;if(t=e.loading?e.loadingText:a.default?a.default():e.text,t)return h("span",{class:la("text")},[t])},i=()=>{const{color:t,plain:a}=e;if(t){const e={color:a?t:"white"};return a||(e.background=t),t.includes("gradient")?e.border=0:e.borderColor=t,e}},r=a=>{e.loading?He(a):e.disabled||(t("click",a),o())};return()=>{const{tag:t,type:a,size:o,block:s,round:c,plain:u,square:d,loading:p,disabled:v,hairline:m,nativeType:f,iconPosition:g}=e,b=[la([a,o,{plain:u,block:s,round:c,square:d,loading:p,disabled:v,hairline:m}]),{[yt]:m}];return h(t,{type:f,class:b,style:i(),disabled:v,onClick:r},{default:()=>[h("div",{class:la("content")},["left"===g&&l(),n(),"right"===g&&l()])]})}}})),[ia,ra]=vt("action-bar-button");const sa=Bt(g({name:ia,props:L({},Mt,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean}),setup(e,{slots:t}){const a=Ft(),{parent:l,index:n}=ue(zt),i=o(()=>{if(l){const e=l.children[n.value-1];return!(e&&"isButton"in e)}}),r=o(()=>{if(l){const e=l.children[n.value+1];return!(e&&"isButton"in e)}});return Et({isButton:!0}),()=>{const{type:o,icon:l,text:n,color:s,loading:c,disabled:u}=e;return h(na,{class:ra([o,{last:r.value,first:i.value}]),size:"large",type:o,icon:l,color:s,loading:c,disabled:u,onClick:a},{default:()=>[t.default?t.default():n]})}}})),[ca,ua]=vt("action-bar-icon");const da=Bt(g({name:ca,props:L({},Mt,{dot:Boolean,text:String,icon:String,color:String,badge:_,iconClass:K,badgeProps:Object,iconPrefix:String}),setup(e,{slots:t}){const a=Ft();ue(zt);const o=()=>{const{dot:a,badge:o,icon:l,color:n,iconClass:i,badgeProps:r,iconPrefix:s}=e;return t.icon?h(jt,y({dot:a,class:ua("icon"),content:o},r),{default:t.icon}):h(Kt,{tag:"div",dot:a,name:l,badge:o,color:n,class:[ua("icon"),i],badgeProps:r,classPrefix:s},null)};return()=>h("div",{role:"button",class:ua(),tabindex:0,onClick:a},[o(),t.default?t.default():e.text])}})),pa={show:Boolean,zIndex:_,overlay:J,duration:_,teleport:[String,Object],lockScroll:J,lazyRender:J,beforeClose:Function,overlayProps:Object,overlayStyle:Object,overlayClass:K,transitionAppear:Boolean,closeOnClickOverlay:J},va=Object.keys(pa);function ma(){const e=l(0),t=l(0),a=l(0),o=l(0),n=l(0),i=l(0),r=l(""),s=l(!0),c=()=>{a.value=0,o.value=0,n.value=0,i.value=0,r.value="",s.value=!0};return{move:l=>{const c=l.touches[0];a.value=(c.clientX<0?0:c.clientX)-e.value,o.value=c.clientY-t.value,n.value=Math.abs(a.value),i.value=Math.abs(o.value);var u,d;(!r.value||n.value<10&&i.value<10)&&(r.value=(u=n.value,d=i.value,u>d?"horizontal":d>u?"vertical":"")),s.value&&(n.value>5||i.value>5)&&(s.value=!1)},start:a=>{c(),e.value=a.touches[0].clientX,t.value=a.touches[0].clientY},reset:c,startX:e,startY:t,deltaX:a,deltaY:o,offsetX:n,offsetY:i,direction:r,isVertical:()=>"vertical"===r.value,isHorizontal:()=>"horizontal"===r.value,isTap:s}}let fa=0;const ha="van-overflow-hidden";function ga(e,t){const a=ma(),o=t=>{a.move(t);const o=a.deltaY.value>0?"10":"01",l=Oe(t.target,e.value),{scrollHeight:n,offsetHeight:i,scrollTop:r}=l;let s="11";0===r?s=i>=n?"00":"01":r+i>=n&&(s="10"),"11"===s||!a.isVertical()||parseInt(s,2)&parseInt(o,2)||He(t,!0)},l=()=>{document.addEventListener("touchstart",a.start),document.addEventListener("touchmove",o,{passive:!1}),fa||document.body.classList.add(ha),fa++},n=()=>{fa&&(document.removeEventListener("touchstart",a.start),document.removeEventListener("touchmove",o),fa--,fa||document.body.classList.remove(ha))},r=()=>t()&&n();we(()=>t()&&l()),s(r),i(r),p(t,e=>{e?l():n()})}function ba(e){const t=l(!1);return p(e,e=>{e&&(t.value=e)},{immediate:!0}),e=>()=>t.value?e():null}const ya=()=>{var e;const{scopeId:t}=(null==(e=v())?void 0:e.vnode)||{};return t?{[t]:""}:null},[xa,wa]=vt("overlay");const ka=Bt(g({name:xa,inheritAttrs:!1,props:{show:Boolean,zIndex:_,duration:_,className:K,lockScroll:J,lazyRender:J,customStyle:Object,teleport:[String,Object]},setup(e,{attrs:t,slots:a}){const o=l(),n=ba(()=>e.show||!e.lazyRender)(()=>{var l;const n=L(Xe(e.zIndex),e.customStyle);return H(e.duration)&&(n.animationDuration=`${e.duration}s`),k(h("div",y({ref:o,style:n,class:[wa(),e.className]},t),[null==(l=a.default)?void 0:l.call(a)]),[[S,e.show]])});return ke("touchmove",t=>{e.lockScroll&&He(t,!0)},{target:o}),()=>{const t=h(x,{name:"van-fade",appear:!0},{default:n});return e.teleport?h(w,{to:e.teleport},{default:()=>[t]}):t}}})),Sa=L({},pa,{round:Boolean,position:oe("center"),closeIcon:oe("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:oe("top-right"),destroyOnClose:Boolean,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[Ca,Ba]=vt("popup");const Ta=Bt(g({name:Ca,inheritAttrs:!1,props:Sa,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:t,attrs:a,slots:n}){let i,d;const v=l(),f=l(),g=ba(()=>e.show||!e.lazyRender),b=o(()=>{const t={zIndex:v.value};if(H(e.duration)){t["center"===e.position?"animationDuration":"transitionDuration"]=`${e.duration}s`}return t}),B=()=>{i||(i=!0,v.value=void 0!==e.zIndex?+e.zIndex:++Nt,t("open"))},T=()=>{i&&Ct(e.beforeClose,{done(){i=!1,t("close"),t("update:show",!1)}})},D=a=>{t("clickOverlay",a),e.closeOnClickOverlay&&T()},O=()=>{if(e.overlay){const t=L({show:e.show,class:e.overlayClass,zIndex:v.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0},e.overlayProps);return h(ka,y(t,ya(),{onClick:D}),{default:n["overlay-content"]})}},V=e=>{t("clickCloseIcon",e),T()},A=()=>{if(e.closeable)return h(Kt,{role:"button",tabindex:0,name:e.closeIcon,class:[Ba("close-icon",e.closeIconPosition),kt],classPrefix:e.iconPrefix,onClick:V},null)};let I;const P=()=>{I&&clearTimeout(I),I=setTimeout(()=>{t("opened")})},z=()=>t("closed"),$=e=>t("keydown",e),E=g(()=>{var t;const{destroyOnClose:o,round:l,position:i,safeAreaInsetTop:r,safeAreaInsetBottom:s,show:c}=e;if(c||!o)return k(h("div",y({ref:f,style:b.value,role:"dialog",tabindex:0,class:[Ba({round:l,[i]:i}),{"van-safe-area-top":r,"van-safe-area-bottom":s}],onKeydown:$},a,ya()),[null==(t=n.default)?void 0:t.call(n),A()]),[[S,c]])}),M=()=>{const{position:t,transition:a,transitionAppear:o}=e;return h(x,{name:a||("center"===t?"van-fade":`van-popup-slide-${t}`),appear:o,onAfterEnter:P,onAfterLeave:z},{default:E})};return p(()=>e.show,e=>{e&&!i&&(B(),0===a.tabindex&&u(()=>{var e;null==(e=f.value)||e.focus()})),!e&&i&&(i=!1,t("close"))}),Et({popupRef:f}),ga(f,()=>e.show&&e.lockScroll),ke("popstate",()=>{e.closeOnPopstate&&(T(),d=!1)}),c(()=>{e.show&&B()}),r(()=>{d&&(t("update:show",!0),d=!1)}),s(()=>{e.show&&e.teleport&&(T(),d=!0)}),m(Dt,()=>e.show),()=>e.teleport?h(w,{to:e.teleport},{default:()=>[O(),M()]}):h(C,null,[O(),M()])}})),[Da,Oa]=vt("action-sheet"),Va=L({},pa,{title:String,round:J,actions:ee(),closeIcon:oe("cross"),closeable:J,cancelText:String,description:String,closeOnPopstate:J,closeOnClickAction:Boolean,safeAreaInsetBottom:J}),Aa=[...va,"round","closeOnPopstate","safeAreaInsetBottom"];const Ia=Bt(g({name:Da,props:Va,emits:["select","cancel","update:show"],setup(e,{slots:t,emit:a}){const o=e=>a("update:show",e),l=()=>{o(!1),a("cancel")},n=()=>{if(e.title)return h("div",{class:Oa("header")},[e.title,e.closeable&&h(Kt,{name:e.closeIcon,class:[Oa("close"),kt],onClick:l},null)])},i=()=>{if(t.cancel||e.cancelText)return[h("div",{class:Oa("gap")},null),h("button",{type:"button",class:Oa("cancel"),onClick:l},[t.cancel?t.cancel():e.cancelText])]},r=e=>{if(e.icon)return h(Kt,{class:Oa("item-icon"),name:e.icon},null)},s=(e,a)=>e.loading?h(aa,{class:Oa("loading-icon")},null):t.action?t.action({action:e,index:a}):[h("span",{class:Oa("name")},[e.name]),e.subname&&h("div",{class:Oa("subname")},[e.subname])],c=(t,l)=>{const{color:n,loading:i,callback:c,disabled:d,className:p}=t;return h("button",{type:"button",style:{color:n},class:[Oa("item",{loading:i,disabled:d}),p],onClick:()=>{d||i||(c&&c(t),e.closeOnClickAction&&o(!1),u(()=>a("select",t,l)))}},[r(t),s(t,l)])},d=()=>{if(e.description||t.description){const a=t.description?t.description():e.description;return h("div",{class:Oa("description")},[a])}};return()=>h(Ta,y({class:Oa(),position:"bottom","onUpdate:show":o},X(e,Aa)),{default:()=>{var a;return[n(),d(),h("div",{class:Oa("content")},[e.actions.map(c),null==(a=t.default)?void 0:a.call(t)]),i()]}})}})),[Pa,za,$a]=vt("picker"),Ea=e=>e.find(e=>!e.disabled)||e[0];function Ma(e,t){for(let a=t=et(t,0,e.length);a<e.length;a++)if(!e[a].disabled)return a;for(let a=t-1;a>=0;a--)if(!e[a].disabled)return a;return 0}const La=(e,t,a)=>void 0!==t&&e.some(e=>e[a.value]===t);function Fa(e,t,a){const o=e.findIndex(e=>e[a.value]===t);return e[Ma(e,o)]}const[Ra,Ha]=vt("picker-column"),ja=Symbol(Ra);var Na=g({name:Ra,props:{value:_,fields:Q(Object),options:ee(),readonly:Boolean,allowHtml:Boolean,optionHeight:Q(Number),swipeDuration:Q(_),visibleOptionNum:Q(_)},emits:["change","clickOption","scrollInto"],setup(e,{emit:t,slots:a}){let n,i,r,s,c;const u=l(),d=l(),p=l(0),v=l(0),m=ma(),f=()=>e.options.length,g=()=>e.optionHeight*(+e.visibleOptionNum-1)/2,y=a=>{let o=Ma(e.options,a);const l=-o*e.optionHeight,i=()=>{o>f()-1&&(o=Ma(e.options,a));const l=e.options[o][e.fields.value];l!==e.value&&t("change",l)};n&&l!==p.value?c=i:i(),p.value=l},x=()=>e.readonly||!e.options.length,w=t=>et(Math.round(-t/e.optionHeight),0,f()-1),k=o(()=>w(p.value)),S=()=>{n=!1,v.value=0,c&&(c(),c=null)},C=e=>{if(!x()){if(m.start(e),n){const e=function(e){const{transform:t}=window.getComputedStyle(e),a=t.slice(7,t.length-1).split(", ")[5];return Number(a)}(d.value);p.value=Math.min(0,e-g())}v.value=0,i=p.value,r=Date.now(),s=i,c=null}},B=()=>{if(x())return;const t=p.value-s,a=Date.now()-r;if(a<300&&Math.abs(t)>15)return void((t,a)=>{const o=Math.abs(t/a);t=p.value+o/.003*(t<0?-1:1);const l=w(t);v.value=+e.swipeDuration,y(l)})(t,a);const o=w(p.value);v.value=200,y(o),setTimeout(()=>{n=!1},0)},T=()=>{const o={height:`${e.optionHeight}px`};return e.options.map((l,i)=>{const r=l[e.fields.text],{disabled:s}=l,u=l[e.fields.value],d={role:"button",style:o,tabindex:s?-1:0,class:[Ha("item",{disabled:s,selected:u===e.value}),l.className],onClick:()=>(a=>{n||x()||(c=null,v.value=200,y(a),t("clickOption",e.options[a]))})(i)},p={class:"van-ellipsis",[e.allowHtml?"innerHTML":"textContent"]:r};return h("li",d,[a.option?a.option(l,i):h("div",p,null)])})};return ue(ja),Et({stopMomentum:S}),b(()=>{const t=n?Math.floor(-p.value/e.optionHeight):e.options.findIndex(t=>t[e.fields.value]===e.value),a=Ma(e.options,t),o=-a*e.optionHeight;n&&a<t&&S(),p.value=o}),ke("touchmove",a=>{if(x())return;m.move(a),m.isVertical()&&(n=!0,He(a,!0));const o=et(i+m.deltaY.value,-f()*e.optionHeight,e.optionHeight),l=w(o);l!==k.value&&t("scrollInto",e.options[l]),p.value=o;const c=Date.now();c-r>300&&(r=c,s=o)},{target:u}),()=>h("div",{ref:u,class:Ha(),onTouchstartPassive:C,onTouchend:B,onTouchcancel:B},[h("ul",{ref:d,style:{transform:`translate3d(0, ${p.value+g()}px, 0)`,transitionDuration:`${v.value}ms`,transitionProperty:v.value?"all":"none"},class:Ha("wrapper"),onTransitionend:S},[T()])])}});const[Wa]=vt("picker-toolbar"),Ya={title:String,cancelButtonText:String,confirmButtonText:String},Ua=["cancel","confirm","title","toolbar"],qa=Object.keys(Ya);var Xa=g({name:Wa,props:Ya,emits:["confirm","cancel"],setup(e,{emit:t,slots:a}){const o=()=>t("cancel"),l=()=>t("confirm"),n=()=>{var t;const l=null!=(t=e.cancelButtonText)?t:$a("cancel");if(a.cancel||l)return h("button",{type:"button",class:[za("cancel"),kt],onClick:o},[a.cancel?a.cancel():l])},i=()=>{var t;const o=null!=(t=e.confirmButtonText)?t:$a("confirm");if(a.confirm||o)return h("button",{type:"button",class:[za("confirm"),kt],onClick:l},[a.confirm?a.confirm():o])};return()=>h("div",{class:za("toolbar")},[a.toolbar?a.toolbar():[n(),a.title?a.title():e.title?h("div",{class:[za("title"),"van-ellipsis"]},[e.title]):void 0,i()]])}});const Za=(e,t)=>{const a=l(e());return p(e,e=>{e!==a.value&&(a.value=e)}),p(a,a=>{a!==e()&&t(a)}),a};let Ga=0;function Ka(){const e=v(),{name:t="unknown"}=(null==e?void 0:e.type)||{};return`${t}-${++Ga}`}function _a(){const e=l([]),t=[];B(()=>{e.value=[]});return[e,a=>(t[a]||(t[a]=t=>{e.value[a]=t}),t[a])]}function Ja(e,t){if(!F||!window.IntersectionObserver)return;const a=new IntersectionObserver(e=>{t(e[0].intersectionRatio>0)},{root:document.body}),o=()=>{e.value&&a.unobserve(e.value)};s(o),i(o),we(()=>{e.value&&a.observe(e.value)})}const[Qa,eo]=vt("sticky");const to=Bt(g({name:Qa,props:{zIndex:_,position:oe("top"),container:Object,offsetTop:ae(0),offsetBottom:ae(0)},emits:["scroll","change"],setup(e,{emit:t,slots:a}){const i=l(),r=Ve(i),s=n({fixed:!1,width:0,height:0,transform:0}),c=l(!1),d=o(()=>Ke("top"===e.position?e.offsetTop:e.offsetBottom)),v=o(()=>{if(c.value)return;const{fixed:e,height:t,width:a}=s;return e?{width:`${a}px`,height:`${t}px`}:void 0}),m=o(()=>{if(!s.fixed||c.value)return;const t=L(Xe(e.zIndex),{width:`${s.width}px`,height:`${s.height}px`,[e.position]:`${d.value}px`});return s.transform&&(t.transform=`translate3d(0, ${s.transform}px, 0)`),t}),f=()=>{if(!i.value||je(i))return;const{container:a,position:o}=e,l=ce(i),n=Pe(window);if(s.width=l.width,s.height=l.height,"top"===o)if(a){const e=ce(a),t=e.bottom-d.value-s.height;s.fixed=d.value>l.top&&e.bottom>0,s.transform=t<0?t:0}else s.fixed=d.value>l.top;else{const{clientHeight:e}=document.documentElement;if(a){const t=ce(a),o=e-t.top-d.value-s.height;s.fixed=e-d.value<l.bottom&&e>t.top,s.transform=o<0?-o:0}else s.fixed=e-d.value<l.bottom}(e=>{t("scroll",{scrollTop:e,isFixed:s.fixed})})(n)};return p(()=>s.fixed,e=>t("change",e)),ke("scroll",f,{target:r,passive:!0}),Ja(i,f),p([Ne,We],()=>{i.value&&!je(i)&&s.fixed&&(c.value=!0,u(()=>{const e=ce(i);s.width=e.width,s.height=e.height,c.value=!1}))}),()=>{var e;return h("div",{ref:i,style:v.value},[h("div",{class:eo({fixed:s.fixed&&!c.value}),style:m.value},[null==(e=a.default)?void 0:e.call(a)])])}}})),[ao,oo]=vt("swipe"),lo={loop:J,width:_,height:_,vertical:Boolean,autoplay:ae(0),duration:ae(500),touchable:J,lazyRender:Boolean,initialSwipe:ae(0),indicatorColor:String,showIndicators:J,stopPropagation:J},no=Symbol(ao);const io=Bt(g({name:ao,props:lo,emits:["change","dragStart","dragEnd"],setup(e,{emit:t,slots:a}){const d=l(),v=l(),m=n({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let f=!1;const g=ma(),{children:b,linkChildren:y}=ve(no),x=o(()=>b.length),w=o(()=>m[e.vertical?"height":"width"]),k=o(()=>e.vertical?g.deltaY.value:g.deltaX.value),S=o(()=>{if(m.rect){return(e.vertical?m.rect.height:m.rect.width)-w.value*x.value}return 0}),C=o(()=>w.value?Math.ceil(Math.abs(S.value)/w.value):x.value),B=o(()=>x.value*w.value),T=o(()=>(m.active+x.value)%x.value),D=o(()=>{const t=e.vertical?"vertical":"horizontal";return g.direction.value===t}),O=o(()=>{const t={transitionDuration:`${m.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${+m.offset.toFixed(2)}px)`};if(w.value){const a=e.vertical?"height":"width",o=e.vertical?"width":"height";t[a]=`${B.value}px`,t[o]=e[o]?`${e[o]}px`:""}return t}),V=(t,a=0)=>{let o=t*w.value;e.loop||(o=Math.min(o,-S.value));let l=a-o;return e.loop||(l=et(l,S.value,0)),l},A=({pace:a=0,offset:o=0,emitChange:l})=>{if(x.value<=1)return;const{active:n}=m,i=(t=>{const{active:a}=m;return t?e.loop?et(a+t,-1,x.value):et(a+t,0,C.value):a})(a),r=V(i,o);if(e.loop){if(b[0]&&r!==S.value){const e=r<S.value;b[0].setOffset(e?B.value:0)}if(b[x.value-1]&&0!==r){const e=r>0;b[x.value-1].setOffset(e?-B.value:0)}}m.active=i,m.offset=r,l&&i!==n&&t("change",T.value)},I=()=>{m.swiping=!0,m.active<=-1?A({pace:x.value}):m.active>=x.value&&A({pace:-x.value})},P=()=>{I(),g.reset(),re(()=>{m.swiping=!1,A({pace:1,emitChange:!0})})};let z;const $=()=>clearTimeout(z),E=()=>{$(),+e.autoplay>0&&x.value>1&&(z=setTimeout(()=>{P(),E()},+e.autoplay))},M=(t=+e.initialSwipe)=>{if(!d.value)return;const a=()=>{var a,o;if(!je(d)){const t={width:d.value.offsetWidth,height:d.value.offsetHeight};m.rect=t,m.width=+(null!=(a=e.width)?a:t.width),m.height=+(null!=(o=e.height)?o:t.height)}x.value&&-1===(t=Math.min(x.value-1,t))&&(t=x.value-1),m.active=t,m.swiping=!0,m.offset=V(t),b.forEach(e=>{e.setOffset(0)}),E()};je(d)?u().then(a):a()},L=()=>M(m.active);let F;const R=t=>{!e.touchable||t.touches.length>1||(g.start(t),f=!1,F=Date.now(),$(),I())},H=()=>{if(!e.touchable||!m.swiping)return;const a=Date.now()-F,o=k.value/a;if((Math.abs(o)>.25||Math.abs(k.value)>w.value/2)&&D.value){const t=e.vertical?g.offsetY.value:g.offsetX.value;let a=0;a=e.loop?t>0?k.value>0?-1:1:0:-Math[k.value>0?"ceil":"floor"](k.value/w.value),A({pace:a,emitChange:!0})}else k.value&&A({pace:0});f=!1,m.swiping=!1,t("dragEnd",{index:T.value}),E()},j=(t,a)=>{const o=a===T.value,l=o?{backgroundColor:e.indicatorColor}:void 0;return h("i",{style:l,class:oo("indicator",{active:o})},null)};return Et({prev:()=>{I(),g.reset(),re(()=>{m.swiping=!1,A({pace:-1,emitChange:!0})})},next:P,state:m,resize:L,swipeTo:(t,a={})=>{I(),g.reset(),re(()=>{let o;o=e.loop&&t===x.value?0===m.active?0:t:t%x.value,a.immediate?re(()=>{m.swiping=!1}):m.swiping=!1,A({pace:o-m.active,emitChange:!0})})}}),y({size:w,props:e,count:x,activeIndicator:T}),p(()=>e.initialSwipe,e=>M(+e)),p(x,()=>M(m.active)),p(()=>e.autoplay,E),p([Ne,We,()=>e.width,()=>e.height],L),p(function(){if(!Ce&&(Ce=l("visible"),le)){const e=()=>{Ce.value=document.hidden?"hidden":"visible"};e(),window.addEventListener("visibilitychange",e)}return Ce}(),e=>{"visible"===e?E():$()}),c(M),r(()=>M(m.active)),Ot(()=>M(m.active)),s($),i($),ke("touchmove",a=>{if(e.touchable&&m.swiping&&(g.move(a),D.value)){!e.loop&&(0===m.active&&k.value>0||m.active===x.value-1&&k.value<0)||(He(a,e.stopPropagation),A({offset:k.value}),f||(t("dragStart",{index:T.value}),f=!0))}},{target:v}),()=>{var t;return h("div",{ref:d,class:oo()},[h("div",{ref:v,style:O.value,class:oo("track",{vertical:e.vertical}),onTouchstartPassive:R,onTouchend:H,onTouchcancel:H},[null==(t=a.default)?void 0:t.call(a)]),a.indicator?a.indicator({active:T.value,total:x.value}):e.showIndicators&&x.value>1?h("div",{class:oo("indicators",{vertical:e.vertical})},[Array(x.value).fill("").map(j)]):void 0])}}})),[ro,so]=vt("tabs");var co=g({name:ro,props:{count:Q(Number),inited:Boolean,animated:Boolean,duration:Q(_),swipeable:Boolean,lazyRender:Boolean,currentIndex:Q(Number)},emits:["change"],setup(e,{emit:t,slots:a}){const o=l(),n=e=>t("change",e),i=()=>{var t;const l=null==(t=a.default)?void 0:t.call(a);return e.animated||e.swipeable?h(io,{ref:o,loop:!1,class:so("track"),duration:1e3*+e.duration,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:n},{default:()=>[l]}):l},r=t=>{const a=o.value;a&&a.state.active!==t&&a.swipeTo(t,{immediate:!e.inited})};return p(()=>e.currentIndex,r),c(()=>{r(e.currentIndex)}),Et({swipeRef:o}),()=>h("div",{class:so("content",{animated:e.animated||e.swipeable})},[i()])}});const[uo,po]=vt("tabs"),vo={type:oe("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:ae(0),duration:ae(.3),animated:Boolean,ellipsis:J,swipeable:Boolean,scrollspy:Boolean,offsetTop:ae(0),background:String,lazyRender:J,showHeader:J,lineWidth:_,lineHeight:_,beforeChange:Function,swipeThreshold:ae(5),titleActiveColor:String,titleInactiveColor:String},mo=Symbol(uo);var fo=g({name:uo,props:vo,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:t,slots:a}){let i,s,c,d,v;const m=l(),f=l(),g=l(),b=l(),y=Ka(),x=Ve(m),[w,k]=_a(),{children:S,linkChildren:C}=ve(mo),B=n({inited:!1,position:"",lineStyle:{},currentIndex:-1}),T=o(()=>S.length>+e.swipeThreshold||!e.ellipsis||e.shrink),D=o(()=>({borderColor:e.color,background:e.background})),O=(e,t)=>{var a;return null!=(a=e.name)?a:t},V=o(()=>{const e=S[B.currentIndex];if(e)return O(e,B.currentIndex)}),A=o(()=>Ke(e.offsetTop)),I=o(()=>e.sticky?A.value+i:0),P=t=>{const a=f.value,o=w.value;if(!(T.value&&a&&o&&o[B.currentIndex]))return;const l=o[B.currentIndex].$el,n=l.offsetLeft-(a.offsetWidth-l.offsetWidth)/2;d&&d(),d=function(e,t,a){let o,l=0;const n=e.scrollLeft,i=0===a?1:Math.round(1e3*a/16);let r=n;return function a(){r+=(t-n)/i,e.scrollLeft=r,++l<i&&(o=ne(a))}(),function(){ie(o)}}(a,n,t?0:+e.duration)},z=()=>{const t=B.inited;u(()=>{const a=w.value;if(!a||!a[B.currentIndex]||"line"!==e.type||je(m.value))return;const o=a[B.currentIndex].$el,{lineWidth:l,lineHeight:n}=e,i=o.offsetLeft+o.offsetWidth/2,r={width:Ue(l),backgroundColor:e.color,transform:`translateX(${i}px) translateX(-50%)`};if(t&&(r.transitionDuration=`${e.duration}s`),H(n)){const e=Ue(n);r.height=e,r.borderRadius=e}B.lineStyle=r})},$=(a,o)=>{const l=(e=>{const t=e<B.currentIndex?-1:1;for(;e>=0&&e<S.length;){if(!S[e].disabled)return e;e+=t}})(a);if(!H(l))return;const n=S[l],i=O(n,l),r=null!==B.currentIndex;B.currentIndex!==l&&(B.currentIndex=l,o||P(),z()),i!==e.active&&(t("update:active",i),r&&t("change",i,n.title)),c&&!e.scrollspy&&Ee(Math.ceil(Me(m.value)-A.value))},E=(e,t)=>{const a=S.findIndex((t,a)=>O(t,a)===e);$(-1===a?0:a,t)},M=(t=!1)=>{if(e.scrollspy){const a=S[B.currentIndex].$el;if(a&&x.value){const o=Me(a,x.value)-I.value;s=!0,v&&v(),v=function(e,t,a,o){let l,n=Pe(e);const i=n<t,r=0===a?1:Math.round(1e3*a/16),s=(t-n)/r;return function a(){n+=s,(i&&n>t||!i&&n<t)&&(n=t),ze(e,n),i&&n<t||!i&&n>t?l=ne(a):o&&(l=ne(o))}(),function(){ie(l)}}(x.value,o,t?0:+e.duration,()=>{s=!1})}}},L=(a,o,l)=>{const{title:n,disabled:i}=S[o],r=O(S[o],o);i||(Ct(e.beforeChange,{args:[r],done:()=>{$(o),M()}}),Lt(a)),t("clickTab",{name:r,title:n,event:l,disabled:i})},F=e=>{c=e.isFixed,t("scroll",e)},R=()=>{if("line"===e.type&&S.length)return h("div",{class:po("line"),style:B.lineStyle},null)},j=()=>{var t,o,l;const{type:n,border:i,sticky:r}=e,s=[h("div",{ref:r?void 0:g,class:[po("wrap"),{[xt]:"line"===n&&i}]},[h("div",{ref:f,role:"tablist",class:po("nav",[n,{shrink:e.shrink,complete:T.value}]),style:D.value,"aria-orientation":"horizontal"},[null==(t=a["nav-left"])?void 0:t.call(a),S.map(e=>e.renderTitle(L)),R(),null==(o=a["nav-right"])?void 0:o.call(a)])]),null==(l=a["nav-bottom"])?void 0:l.call(a)];return r?h("div",{ref:g},[s]):s},N=()=>{z(),u(()=>{var e,t;P(!0),null==(t=null==(e=b.value)?void 0:e.swipeRef.value)||t.resize()})};p(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],z),p(Ne,N),p(()=>e.active,e=>{e!==V.value&&E(e)}),p(()=>S.length,()=>{B.inited&&(E(e.active),z(),u(()=>{P(!0)}))});return Et({resize:N,scrollTo:e=>{u(()=>{E(e),M(!0)})}}),r(z),Ot(z),we(()=>{E(e.active,!0),u(()=>{B.inited=!0,g.value&&(i=ce(g.value).height),P(!0)})}),Ja(m,z),ke("scroll",()=>{if(e.scrollspy&&!s){const e=(()=>{for(let e=0;e<S.length;e++){const{top:t}=ce(S[e].$el);if(t>I.value)return 0===e?0:e-1}return S.length-1})();$(e)}},{target:x,passive:!0}),C({id:y,props:e,setLine:z,scrollable:T,onRendered:(e,a)=>t("rendered",e,a),currentName:V,setTitleRefs:k,scrollIntoView:P}),()=>h("div",{ref:m,class:po([e.type])},[e.showHeader?e.sticky?h(to,{container:m.value,offsetTop:A.value,onScroll:F},{default:()=>[j()]}):j():null,h(co,{ref:b,count:S.length,inited:B.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:B.currentIndex,onChange:$},{default:()=>{var e;return[null==(e=a.default)?void 0:e.call(a)]}})])}});const ho=Symbol(),go=Symbol(),bo=()=>t(go,null),[yo,xo]=vt("tab"),wo=g({name:yo,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:_,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:J},setup(e,{slots:t}){const a=o(()=>{const t={},{type:a,color:o,disabled:l,isActive:n,activeColor:i,inactiveColor:r}=e;o&&"card"===a&&(t.borderColor=o,l||(n?t.backgroundColor=o:t.color=o));const s=n?i:r;return s&&(t.color=s),t}),l=()=>{const a=h("span",{class:xo("text",{ellipsis:!e.scrollable})},[t.title?t.title():e.title]);return e.dot||H(e.badge)&&""!==e.badge?h(jt,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[a]}):a};return()=>h("div",{id:e.id,role:"tab",class:[xo([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:a.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls,"data-allow-mismatch":"attribute"},[l()])}}),[ko,So]=vt("swipe-item");const Co=Bt(g({name:ko,setup(e,{slots:t}){let a;const l=n({offset:0,inited:!1,mounted:!1}),{parent:i,index:r}=ue(no);if(!i)return;const s=o(()=>{const e={},{vertical:t}=i.props;return i.size.value&&(e[t?"height":"width"]=`${i.size.value}px`),l.offset&&(e.transform=`translate${t?"Y":"X"}(${l.offset}px)`),e}),d=o(()=>{const{loop:e,lazyRender:t}=i.props;if(!t||a)return!0;if(!l.mounted)return!1;const o=i.activeIndicator.value,n=i.count.value-1,s=0===o&&e?n:o-1,c=o===n&&e?0:o+1;return a=r.value===o||r.value===s||r.value===c,a});return c(()=>{u(()=>{l.mounted=!0})}),Et({setOffset:e=>{l.offset=e}}),()=>{var e;return h("div",{class:So(),style:s.value},[d.value?null==(e=t.default)?void 0:e.call(t):null])}}})),[Bo,To]=vt("tab");const Do=Bt(g({name:Bo,props:L({},Mt,{dot:Boolean,name:_,badge:_,title:String,disabled:Boolean,titleClass:K,titleStyle:[String,Object],showZeroBadge:J}),setup(e,{slots:t}){const a=Ka(),n=l(!1),i=v(),{parent:r,index:s}=ue(mo);if(!r)return;const c=()=>{var t;return null!=(t=e.name)?t:s.value},d=o(()=>{const t=c()===r.currentName.value;return t&&!n.value&&(n.value=!0,r.props.lazyRender&&u(()=>{r.onRendered(c(),e.title)})),t}),f=l(""),g=l("");b(()=>{const{titleClass:t,titleStyle:a}=e;f.value=t?T(t):"",g.value=a&&"string"!=typeof a?D(O(a)):a});const x=l(!d.value);return p(d,e=>{e?x.value=!1:re(()=>{x.value=!0})}),p(()=>e.title,()=>{r.setLine(),r.scrollIntoView()}),(e=>{const t=bo();m(ho,e),m(go,o(()=>(null==t||t.value)&&e.value))})(d),Et({id:a,renderTitle:o=>h(wo,y({key:a,id:`${r.id}-${s.value}`,ref:r.setTitleRefs(s.value),style:g.value,class:f.value,isActive:d.value,controls:a,scrollable:r.scrollable.value,activeColor:r.props.titleActiveColor,inactiveColor:r.props.titleInactiveColor,onClick:e=>o(i.proxy,s.value,e)},X(r.props,["type","color","shrink"]),X(e,["dot","badge","title","disabled","showZeroBadge"])),{title:t.title})}),()=>{var e;const o=`${r.id}-${s.value}`,{animated:l,swipeable:i,scrollspy:c,lazyRender:u}=r.props;if(!t.default&&!l)return;const p=c||d.value;if(l||i)return h(Co,{id:a,role:"tabpanel",class:To("panel-wrapper",{inactive:x.value}),tabindex:d.value?0:-1,"aria-hidden":!d.value,"aria-labelledby":o,"data-allow-mismatch":"attribute"},{default:()=>{var e;return[h("div",{class:To("panel")},[null==(e=t.default)?void 0:e.call(t)])]}});const v=n.value||c||!u?null==(e=t.default)?void 0:e.call(t):null;return k(h("div",{id:a,role:"tabpanel",class:To("panel"),tabindex:p?0:-1,"aria-labelledby":o,"data-allow-mismatch":"attribute"},[v]),[[S,p]])}}})),Oo=Bt(fo),[Vo,Ao]=vt("picker-group"),Io=Symbol(Vo);var Po=g({name:Vo,props:L({tabs:ee(),activeTab:ae(0),nextStepText:String,showToolbar:J},Ya),emits:["confirm","cancel","update:activeTab"],setup(e,{emit:t,slots:a}){const o=Za(()=>e.activeTab,e=>t("update:activeTab",e)),{children:l,linkChildren:n}=ve(Io);n();const i=()=>+o.value<e.tabs.length-1&&e.nextStepText,r=()=>{i()?o.value=+o.value+1:t("confirm",l.map(e=>e.confirm()))},s=()=>t("cancel");return()=>{var t,l;let n=null==(l=null==(t=a.default)?void 0:t.call(a))?void 0:l.filter(e=>e.type!==V).map(e=>e.type===C?e.children:e);n&&(n=n.reduce((e,t)=>e.concat(t),[]));const c=i()?e.nextStepText:e.confirmButtonText;return h("div",{class:Ao()},[e.showToolbar?h(Xa,{title:e.title,cancelButtonText:e.cancelButtonText,confirmButtonText:c,onConfirm:r,onCancel:s},X(a,Ua)):null,h(Oo,{active:o.value,"onUpdate:active":e=>o.value=e,class:Ao("tabs"),shrink:!0,animated:!0,lazyRender:!1},{default:()=>[e.tabs.map((e,t)=>h(Do,{title:e,titleClass:Ao("tab-title")},{default:()=>[null==n?void 0:n[t]]}))]})])}}});const zo=L({loading:Boolean,readonly:Boolean,allowHtml:Boolean,optionHeight:ae(44),showToolbar:J,swipeDuration:ae(1e3),visibleOptionNum:ae(6)},Ya);var $o=g({name:Pa,props:L({},zo,{columns:ee(),modelValue:ee(),toolbarPosition:oe("top"),columnsFieldNames:Object}),emits:["confirm","cancel","change","scrollInto","clickOption","update:modelValue"],setup(e,{emit:t,slots:a}){const n=l(),i=l(e.modelValue.slice(0)),{parent:r}=ue(Io),{children:s,linkChildren:c}=ve(ja);c();const d=o(()=>function(e){return L({text:"text",value:"value",children:"children"},e)}(e.columnsFieldNames)),v=o(()=>Ke(e.optionHeight)),m=o(()=>function(e,t){const a=e[0];if(a){if(Array.isArray(a))return"multiple";if(t.children in a)return"cascade"}return"default"}(e.columns,d.value)),f=o(()=>{const{columns:t}=e;switch(m.value){case"multiple":return t;case"cascade":return function(e,t,a){const o=[];let l={[t.children]:e},n=0;for(;l&&l[t.children];){const e=l[t.children],i=a.value[n];l=H(i)?Fa(e,i,t):void 0,!l&&e.length&&(l=Fa(e,Ea(e)[t.value],t)),n++,o.push(e)}return o}(t,d.value,i);default:return[t]}}),g=o(()=>f.value.some(e=>e.length)),b=o(()=>f.value.map((e,t)=>Fa(e,i.value[t],d.value))),x=o(()=>f.value.map((e,t)=>e.findIndex(e=>e[d.value.value]===i.value[t]))),w=(e,t)=>{if(i.value[e]!==t){const a=i.value.slice(0);a[e]=t,i.value=a}},k=()=>({selectedValues:i.value.slice(0),selectedOptions:b.value,selectedIndexes:x.value}),S=()=>{s.forEach(e=>e.stopMomentum());const e=k();return u(()=>{const e=k();t("confirm",e)}),e},C=()=>t("cancel",k()),B=()=>f.value.map((o,l)=>h(Na,{value:i.value[l],fields:d.value,options:o,readonly:e.readonly,allowHtml:e.allowHtml,optionHeight:v.value,swipeDuration:e.swipeDuration,visibleOptionNum:e.visibleOptionNum,onChange:e=>((e,a)=>{w(a,e),"cascade"===m.value&&i.value.forEach((e,t)=>{const a=f.value[t];La(a,e,d.value)||w(t,a.length?a[0][d.value.value]:void 0)}),u(()=>{t("change",L({columnIndex:a},k()))})})(e,l),onClickOption:e=>((e,a)=>{const o={columnIndex:a,currentOption:e};t("clickOption",L(k(),o)),t("scrollInto",o)})(e,l),onScrollInto:e=>{t("scrollInto",{currentOption:e,columnIndex:l})}},{option:a.option})),T=e=>{if(g.value){const t={height:`${v.value}px`},a={backgroundSize:`100% ${(e-v.value)/2}px`};return[h("div",{class:za("mask"),style:a},null),h("div",{class:[wt,za("frame")],style:t},null)]}},D=()=>{const t=v.value*+e.visibleOptionNum,o={height:`${t}px`};return e.loading||g.value||!a.empty?h("div",{ref:n,class:za("columns"),style:o},[B(),T(t)]):a.empty()},O=()=>{if(e.showToolbar&&!r)return h(Xa,y(X(e,qa),{onConfirm:S,onCancel:C}),X(a,Ua))},V=e=>{e.forEach((e,t)=>{e.length&&!La(e,i.value[t],d.value)&&w(t,Ea(e)[d.value.value])})};let A;p(f,e=>V(e),{immediate:!0}),p(()=>e.modelValue,t=>{Z(t,i.value)||Z(t,A)||(i.value=t.slice(0),A=t.slice(0)),0===e.modelValue.length&&V(f.value)},{deep:!0}),p(i,a=>{Z(a,e.modelValue)||(A=a.slice(0),t("update:modelValue",A))},{immediate:!0}),ke("touchmove",He,{target:n});return Et({confirm:S,getSelectedOptions:()=>b.value}),()=>{var t,o;return h("div",{class:za()},["top"===e.toolbarPosition?O():null,e.loading?h(aa,{class:za("loading")},null):null,null==(t=a["columns-top"])?void 0:t.call(a),D(),null==(o=a["columns-bottom"])?void 0:o.call(a),"bottom"===e.toolbarPosition?O():null])}}});const Eo="000000",Mo=["title","cancel","confirm","toolbar","columns-top","columns-bottom"],Lo=["title","loading","readonly","optionHeight","swipeDuration","visibleOptionNum","cancelButtonText","confirmButtonText"],Fo=(e="",t=Eo,a=void 0)=>({text:e,value:t,children:a});function Ro({areaList:e,columnsNum:t,columnsPlaceholder:a}){const{city_list:o={},county_list:l={},province_list:n={}}=e,i=+t>1,r=+t>2,s=new Map;Object.keys(n).forEach(e=>{s.set(e.slice(0,2),Fo(n[e],e,(()=>{if(i)return a.length>1?[Fo(a[1],Eo,r?[]:void 0)]:[]})()))});const c=new Map;if(i){const e=()=>{if(r)return a.length>2?[Fo(a[2])]:[]};Object.keys(o).forEach(t=>{const a=Fo(o[t],t,e());c.set(t.slice(0,4),a);const l=s.get(t.slice(0,2));l&&l.children.push(a)})}r&&Object.keys(l).forEach(e=>{const t=c.get(e.slice(0,4));t&&t.children.push(Fo(l[e],e))});const u=Array.from(s.values());if(a.length){const e=r?[Fo(a[2])]:void 0,t=i?[Fo(a[1],Eo,e)]:void 0;u.unshift(Fo(a[0],Eo,t))}return u}const Ho=Bt($o),[jo,No]=vt("area");const Wo=Bt(g({name:jo,props:L({},X(zo,Lo),{modelValue:String,columnsNum:ae(3),columnsPlaceholder:ee(),areaList:{type:Object,default:()=>({})}}),emits:["change","confirm","cancel","update:modelValue"],setup(e,{emit:t,slots:a}){const n=l([]),i=l(),r=o(()=>Ro(e)),s=(...e)=>t("change",...e),c=(...e)=>t("cancel",...e),u=(...e)=>t("confirm",...e);return p(n,a=>{const o=a.length?a[a.length-1]:"";o&&o!==e.modelValue&&t("update:modelValue",o)},{deep:!0}),p(()=>e.modelValue,t=>{if(t){t!==(n.value.length?n.value[n.value.length-1]:"")&&(n.value=[`${t.slice(0,2)}0000`,`${t.slice(0,4)}00`,t].slice(0,+e.columnsNum))}else n.value=[]},{immediate:!0}),Et({confirm:()=>{var e;return null==(e=i.value)?void 0:e.confirm()},getSelectedOptions:()=>{var e;return(null==(e=i.value)?void 0:e.getSelectedOptions())||[]}}),()=>h(Ho,y({ref:i,modelValue:n.value,"onUpdate:modelValue":e=>n.value=e,class:No(),columns:r.value,onChange:s,onCancel:c,onConfirm:u},X(e,Lo)),X(a,Mo))}})),[Yo,Uo]=vt("cell"),qo={tag:oe("div"),icon:String,size:String,title:_,value:_,label:_,center:Boolean,isLink:Boolean,border:J,iconPrefix:String,valueClass:K,labelClass:K,titleClass:K,titleStyle:null,arrowDirection:String,required:{type:[Boolean,String],default:null},clickable:{type:Boolean,default:null}};const Xo=Bt(g({name:Yo,props:L({},qo,Mt),setup(e,{slots:t}){const a=Ft(),o=()=>{if(t.label||H(e.label))return h("div",{class:[Uo("label"),e.labelClass]},[t.label?t.label():e.label])},l=()=>{var a;if(t.title||H(e.title)){const l=null==(a=t.title)?void 0:a.call(t);if(Array.isArray(l)&&0===l.length)return;return h("div",{class:[Uo("title"),e.titleClass],style:e.titleStyle},[l||h("span",null,[e.title]),o()])}},n=()=>{const a=t.value||t.default;if(a||H(e.value))return h("div",{class:[Uo("value"),e.valueClass]},[a?a():h("span",null,[e.value])])},i=()=>{if(t["right-icon"])return t["right-icon"]();if(e.isLink){const t=e.arrowDirection&&"right"!==e.arrowDirection?`arrow-${e.arrowDirection}`:"arrow";return h(Kt,{name:t,class:Uo("right-icon")},null)}};return()=>{var o;const{tag:r,size:s,center:c,border:u,isLink:d,required:p}=e,v=null!=(o=e.clickable)?o:d,m={center:c,required:!!p,clickable:v,borderless:!u};return s&&(m[s]=!!s),h(r,{class:Uo(m),role:v?"button":void 0,tabindex:v?0:void 0,onClick:a},{default:()=>{var a;return[t.icon?t.icon():e.icon?h(Kt,{name:e.icon,class:Uo("left-icon"),classPrefix:e.iconPrefix},null):void 0,l(),n(),i(),null==(a=t.extra)?void 0:a.call(t)]}})}}})),[Zo,Go]=vt("form");const Ko=Bt(g({name:Zo,props:{colon:Boolean,disabled:Boolean,readonly:Boolean,required:[Boolean,String],showError:Boolean,labelWidth:_,labelAlign:String,inputAlign:String,scrollToError:Boolean,scrollToErrorPosition:String,validateFirst:Boolean,submitOnEnter:J,showErrorMessage:J,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}},emits:["submit","failed"],setup(e,{emit:t,slots:a}){const{children:o,linkChildren:l}=ve(St),n=e=>e?o.filter(t=>e.includes(t.name)):o,i=t=>{return"string"==typeof t?(e=>{const t=o.find(t=>t.name===e);return t?new Promise((e,a)=>{t.validate().then(t=>{t?a(t):e()})}):Promise.reject()})(t):e.validateFirst?(a=t,new Promise((e,t)=>{const o=[];n(a).reduce((e,t)=>e.then(()=>{if(!o.length)return t.validate().then(e=>{e&&o.push(e)})}),Promise.resolve()).then(()=>{o.length?t(o):e()})})):(e=>new Promise((t,a)=>{const o=n(e);Promise.all(o.map(e=>e.validate())).then(e=>{(e=e.filter(Boolean)).length?a(e):t()})}))(t);var a},r=(e,t)=>{o.some(a=>a.name===e&&(a.$el.scrollIntoView(t),!0))},s=()=>o.reduce((e,t)=>(void 0!==t.name&&(e[t.name]=t.formValue.value),e),{}),c=()=>{const a=s();i().then(()=>t("submit",a)).catch(o=>{t("failed",{values:a,errors:o});const{scrollToError:l,scrollToErrorPosition:n}=e;l&&o[0].name&&r(o[0].name,n?{block:n}:void 0)})},u=e=>{He(e),c()};return l({props:e}),Et({submit:c,validate:i,getValues:s,scrollToField:r,resetValidation:e=>{"string"==typeof e&&(e=[e]);n(e).forEach(e=>{e.resetValidation()})},getValidationStatus:()=>o.reduce((e,t)=>(e[t.name]=t.getValidationStatus(),e),{})}),()=>{var e;return h("form",{class:Go(),onSubmit:u},[null==(e=a.default)?void 0:e.call(a)])}}}));function _o(e){return Array.isArray(e)?!e.length:0!==e&&!e}function Jo(e,t){const{message:a}=t;return j(a)?a(e,t):a||""}function Qo({target:e}){e.composing=!0}function el({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function tl(e){return[...e].length}function al(e,t){return[...e].slice(0,t).join("")}const[ol,ll]=vt("field"),nl={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:_,max:Number,min:Number,formatter:Function,clearIcon:oe("clear"),modelValue:ae(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:oe("focus"),formatTrigger:oe("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},inputmode:String};const il=Bt(g({name:ol,props:L({},qo,nl,{rows:_,type:oe("text"),rules:Array,autosize:[Boolean,Object],labelWidth:_,labelClass:K,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}}),emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:t,slots:a}){const i=Ka(),r=n({status:"unvalidated",focused:!1,validateMessage:""}),s=l(),d=l(),v=l(),{parent:f}=ue(St),g=()=>{var t;return String(null!=(t=e.modelValue)?t:"")},b=t=>H(e[t])?e[t]:f&&H(f.props[t])?f.props[t]:void 0,x=o(()=>{const t=b("readonly");if(e.clearable&&!t){const t=""!==g(),a="always"===e.clearTrigger||"focus"===e.clearTrigger&&r.focused;return t&&a}return!1}),w=o(()=>v.value&&a.input?v.value():e.modelValue),k=o(()=>{var t;const a=b("required");return"auto"===a?null==(t=e.rules)?void 0:t.some(e=>e.required):a}),S=e=>e.reduce((e,t)=>e.then(()=>{if("failed"===r.status)return;let{value:e}=w;if(t.formatter&&(e=t.formatter(e,t)),!function(e,t){if(_o(e)){if(t.required)return!1;if(!1===t.validateEmpty)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}(e,t))return r.status="failed",void(r.validateMessage=Jo(e,t));if(t.validator){if(_o(e)&&!1===t.validateEmpty)return;return function(e,t){return new Promise(a=>{const o=t.validator(e,t);N(o)?o.then(a):a(o)})}(e,t).then(a=>{a&&"string"==typeof a?(r.status="failed",r.validateMessage=a):!1===a&&(r.status="failed",r.validateMessage=Jo(e,t))})}}),Promise.resolve()),C=()=>{r.status="unvalidated",r.validateMessage=""},B=()=>t("endValidate",{status:r.status,message:r.validateMessage}),T=(a=e.rules)=>new Promise(o=>{C(),a?(t("startValidate"),S(a).then(()=>{"failed"===r.status?(o({name:e.name,message:r.validateMessage}),B()):(r.status="passed",o(),B())})):o()}),D=t=>{if(f&&e.rules){const{validateTrigger:a}=f.props,o=G(a).includes(t),l=e.rules.filter(e=>e.trigger?G(e.trigger).includes(t):o);l.length&&T(l)}},O=(a,o="onChange")=>{var l,n;const i=a;a=(t=>{var a;const{maxlength:o}=e;if(H(o)&&tl(t)>+o){const e=g();if(e&&tl(e)===+o)return e;const l=null==(a=s.value)?void 0:a.selectionEnd;if(r.focused&&l){const e=[...t],a=e.length-+o;return e.splice(l-a,a),e.join("")}return al(t,+o)}return t})(a);const c=tl(i)-tl(a);if("number"===e.type||"digit"===e.type){const t="number"===e.type;if(a=at(a,t,t),"onBlur"===o&&""!==a&&(void 0!==e.min||void 0!==e.max)){const t=et(+a,null!=(l=e.min)?l:-1/0,null!=(n=e.max)?n:1/0);+a!==t&&(a=t.toString())}}let u=0;if(e.formatter&&o===e.formatTrigger){const{formatter:t,maxlength:o}=e;if(a=t(a),H(o)&&tl(a)>+o&&(a=al(a,+o)),s.value&&r.focused){const{selectionEnd:e}=s.value,a=al(i,e);u=tl(t(a))-tl(a)}}if(s.value&&s.value.value!==a)if(r.focused){let{selectionStart:e,selectionEnd:t}=s.value;if(s.value.value=a,H(e)&&H(t)){const o=tl(a);c?(e-=c,t-=c):u&&(e+=u,t+=u),s.value.setSelectionRange(Math.min(e,o),Math.min(t,o))}}else s.value.value=a;a!==e.modelValue&&t("update:modelValue",a)},V=e=>{e.target.composing||O(e.target.value)},I=()=>{var e;return null==(e=s.value)?void 0:e.blur()},P=()=>{var e;return null==(e=s.value)?void 0:e.focus()},z=()=>{const t=s.value;"textarea"===e.type&&e.autosize&&t&&function(e,t){const a=$e();e.style.height="auto";let o=e.scrollHeight;if(R(t)){const{maxHeight:e,minHeight:a}=t;void 0!==e&&(o=Math.min(o,e)),void 0!==a&&(o=Math.max(o,a))}o&&(e.style.height=`${o}px`,Ee(a))}(t,e.autosize)},$=e=>{r.focused=!0,t("focus",e),u(z),b("readonly")&&I()},E=e=>{r.focused=!1,O(g(),"onBlur"),t("blur",e),b("readonly")||(D("onBlur"),u(z),Fe())},M=e=>t("clickInput",e),L=e=>t("clickLeftIcon",e),F=e=>t("clickRightIcon",e),j=o(()=>"boolean"==typeof e.error?e.error:!(!f||!f.props.showError||"failed"!==r.status)||void 0),W=o(()=>{const e=b("labelWidth"),t=b("labelAlign");if(e&&"top"!==t)return{width:Ue(e)}}),Y=a=>{if(13===a.keyCode){f&&f.props.submitOnEnter||"textarea"===e.type||He(a),"search"===e.type&&I()}t("keypress",a)},U=()=>e.id||`${i}-input`,q=()=>{const t=ll("control",[b("inputAlign"),{error:j.value,custom:!!a.input,"min-height":"textarea"===e.type&&!e.autosize}]);if(a.input)return h("div",{class:t,onClick:M},[a.input()]);const o={id:U(),ref:s,name:e.name,rows:void 0!==e.rows?+e.rows:void 0,class:t,disabled:b("disabled"),readonly:b("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,enterkeyhint:e.enterkeyhint,spellcheck:e.spellcheck,"aria-labelledby":e.label?`${i}-label`:void 0,"data-allow-mismatch":"attribute",onBlur:E,onFocus:$,onInput:V,onClick:M,onChange:el,onKeypress:Y,onCompositionend:el,onCompositionstart:Qo};return"textarea"===e.type?h("textarea",y(o,{inputmode:e.inputmode}),null):h("input",y((l=e.type,n=e.inputmode,"number"===l&&(l="text",null!=n||(n="decimal")),"digit"===l&&(l="tel",null!=n||(n="numeric")),{type:l,inputmode:n}),o),null);var l,n},X=()=>{const t=a["right-icon"];if(e.rightIcon||t)return h("div",{class:ll("right-icon"),onClick:F},[t?t():h(Kt,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},Z=()=>{if(e.showWordLimit&&e.maxlength){const t=tl(g());return h("div",{class:ll("word-limit")},[h("span",{class:ll("word-num")},[t]),A("/"),e.maxlength])}},K=()=>{if(f&&!1===f.props.showErrorMessage)return;const t=e.errorMessage||r.validateMessage;if(t){const e=a["error-message"],o=b("errorMessageAlign");return h("div",{class:ll("error-message",o)},[e?e({message:t}):t])}},_=()=>[h("div",{class:ll("body")},[q(),x.value&&h(Kt,{ref:d,name:e.clearIcon,class:ll("clear")},null),X(),a.button&&h("div",{class:ll("button")},[a.button()])]),Z(),K()];return Et({blur:I,focus:P,validate:T,formValue:w,resetValidation:C,getValidationStatus:()=>r.status}),m(Ae,{customValue:v,resetValidation:C,validateWithTrigger:D}),p(()=>e.modelValue,()=>{O(g()),C(),D("onChange"),u(z)}),c(()=>{O(g(),e.formatTrigger),u(z)}),ke("touchstart",e=>{He(e),t("update:modelValue",""),t("clear",e)},{target:o(()=>{var e;return null==(e=d.value)?void 0:e.$el})}),()=>{const t=b("disabled"),o=b("labelAlign"),l=(()=>{const t=a["left-icon"];if(e.leftIcon||t)return h("div",{class:ll("left-icon"),onClick:L},[t?t():h(Kt,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])})();return h(Xo,{size:e.size,class:ll({error:j.value,disabled:t,[`label-${o}`]:o}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:W.value,valueClass:ll("value"),titleClass:[ll("label",[o,{required:k.value}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:l&&"top"!==o?()=>l:null,title:()=>{const t=(()=>{const t=b("labelWidth"),o=b("labelAlign"),l=b("colon")?":":"";return a.label?[a.label(),l]:e.label?h("label",{id:`${i}-label`,for:a.input?void 0:U(),"data-allow-mismatch":"attribute",onClick:e=>{He(e),P()},style:"top"===o&&t?{width:Ue(t)}:void 0},[e.label+l]):void 0})();return"top"===o?[l,t].filter(Boolean):t||[]},value:_,extra:a.extra})}}}));let rl=0;const[sl,cl]=vt("toast"),ul=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"];var dl=g({name:sl,props:{icon:String,show:Boolean,type:oe("text"),overlay:Boolean,message:_,iconSize:_,duration:te(2e3),position:oe("middle"),teleport:[String,Object],wordBreak:String,className:K,iconPrefix:String,transition:oe("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:K,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:_},emits:["update:show"],setup(e,{emit:t,slots:o}){let l,n=!1;const i=()=>{const t=e.show&&e.forbidClick;n!==t&&(n=t,n?(rl||document.body.classList.add("van-toast--unclickable"),rl++):rl&&(rl--,rl||document.body.classList.remove("van-toast--unclickable")))},r=e=>t("update:show",e),s=()=>{e.closeOnClick&&r(!1)},u=()=>clearTimeout(l),d=()=>{const{icon:t,type:a,iconSize:o,iconPrefix:l,loadingType:n}=e;return t||"success"===a||"fail"===a?h(Kt,{name:t||a,size:o,class:cl("icon"),classPrefix:l},null):"loading"===a?h(aa,{class:cl("loading"),size:o,type:n},null):void 0},v=()=>{const{type:t,message:a}=e;return o.message?h("div",{class:cl("text")},[o.message()]):H(a)&&""!==a?"html"===t?h("div",{key:0,class:cl("text"),innerHTML:String(a)},null):h("div",{class:cl("text")},[a]):void 0};return p(()=>[e.show,e.forbidClick],i),p(()=>[e.show,e.type,e.message,e.duration],()=>{u(),e.show&&e.duration>0&&(l=setTimeout(()=>{r(!1)},e.duration))}),c(i),a(i),()=>h(Ta,y({class:[cl([e.position,"normal"===e.wordBreak?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:s,onClosed:u,"onUpdate:show":r},X(e,ul)),{default:()=>[d(),v()]})}});function pl(){const e=n({show:!1}),t=t=>{e.show=t},a=a=>{L(e,a,{transitionAppear:!0}),t(!0)},o=()=>t(!1);return Et({open:a,close:o,toggle:t}),{open:a,close:o,state:e,toggle:t}}function vl(e){const t=I(e),a=document.createElement("div");return document.body.appendChild(a),{instance:t.mount(a),unmount(){t.unmount(),document.body.removeChild(a)}}}let ml=[],fl=L({},{icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1});const hl=new Map;function gl(){if(!ml.length){const e=function(){const{instance:e,unmount:t}=vl({setup(){const e=l(""),{open:t,state:a,close:o,toggle:n}=pl(),i=()=>{};return p(e,e=>{a.message=e}),v().render=()=>h(dl,y(a,{onClosed:i,"onUpdate:show":n}),null),{open:t,close:o,message:e}}});return e}();ml.push(e)}return ml[ml.length-1]}function bl(e={}){if(!F)return{};const t=gl(),a=R(o=e)?o:{message:o};var o;return t.open(L({},fl,hl.get(a.type||fl.type),a)),t}const yl=Bt(dl),[xl,wl]=vt("switch");const kl=Bt(g({name:xl,props:{size:_,loading:Boolean,disabled:Boolean,modelValue:K,activeColor:String,inactiveColor:String,activeValue:{type:K,default:!0},inactiveValue:{type:K,default:!1}},emits:["change","update:modelValue"],setup(e,{emit:t,slots:a}){const o=()=>e.modelValue===e.activeValue,l=()=>{if(!e.disabled&&!e.loading){const a=o()?e.inactiveValue:e.activeValue;t("update:modelValue",a),t("change",a)}},n=()=>{if(e.loading){const t=o()?e.activeColor:e.inactiveColor;return h(aa,{class:wl("loading"),color:t},null)}if(a.node)return a.node()};return Ie(()=>e.modelValue),()=>{var t;const{size:i,loading:r,disabled:s,activeColor:c,inactiveColor:u}=e,d=o(),p={fontSize:Ue(i),backgroundColor:d?c:u};return h("div",{role:"switch",class:wl({on:d,loading:r,disabled:s}),style:p,tabindex:s?void 0:0,"aria-checked":d,onClick:l},[h("div",{class:wl("node")},[n()]),null==(t=a.background)?void 0:t.call(a)])}}})),[Sl,Cl]=vt("address-edit-detail"),Bl=vt("address-edit")[2];var Tl=g({name:Sl,props:{show:Boolean,rows:_,value:String,rules:Array,focused:Boolean,maxlength:_,searchResult:Array,showSearchResult:Boolean},emits:["blur","focus","input","selectSearch"],setup(e,{emit:t}){const a=l(),o=()=>e.focused&&e.searchResult&&e.showSearchResult,n=()=>{if(!o())return;const{searchResult:a}=e;return a.map(e=>h(Xo,{clickable:!0,key:(e.name||"")+(e.address||""),icon:"location-o",title:e.name,label:e.address,class:Cl("search-item"),border:!1,onClick:()=>(e=>{t("selectSearch",e),t("input",`${e.address||""} ${e.name||""}`.trim())})(e)},null))},i=e=>t("blur",e),r=e=>t("focus",e),s=e=>t("input",e);return()=>{if(e.show)return h(C,null,[h(il,{autosize:!0,clearable:!0,ref:a,class:Cl(),rows:e.rows,type:"textarea",rules:e.rules,label:Bl("addressDetail"),border:!o(),maxlength:e.maxlength,modelValue:e.value,placeholder:Bl("addressDetail"),onBlur:i,onFocus:r,"onUpdate:modelValue":s},null),n()])}}});const[Dl,Ol,Vl]=vt("address-edit"),Al={name:"",tel:"",city:"",county:"",province:"",areaCode:"",isDefault:!1,addressDetail:""};const Il=Bt(g({name:Dl,props:{areaList:Object,isSaving:Boolean,isDeleting:Boolean,validator:Function,showArea:J,showDetail:J,showDelete:Boolean,disableArea:Boolean,searchResult:Array,telMaxlength:_,showSetDefault:Boolean,saveButtonText:String,areaPlaceholder:String,deleteButtonText:String,showSearchResult:Boolean,detailRows:ae(1),detailMaxlength:ae(200),areaColumnsPlaceholder:ee(),addressInfo:{type:Object,default:()=>L({},Al)},telValidator:{type:Function,default:Y}},emits:["save","focus","change","delete","clickArea","changeArea","changeDetail","selectSearch","changeDefault"],setup(e,{emit:t,slots:a}){const i=l(),r=n({}),s=l(!1),c=l(!1),d=o(()=>R(e.areaList)&&Object.keys(e.areaList).length),v=o(()=>{const{province:e,city:t,county:a,areaCode:o}=r;if(o){const o=[e,t,a];return e&&e===t&&o.splice(1,1),o.filter(Boolean).join("/")}return""}),m=o(()=>{var t;return(null==(t=e.searchResult)?void 0:t.length)&&c.value}),f=e=>{c.value="addressDetail"===e,t("focus",e)},g=(e,a)=>{t("change",{key:e,value:a})},b=o(()=>{const{validator:t,telValidator:a}=e,o=(e,a)=>({validator:o=>{if(t){const a=t(e,o);if(a)return a}return!!o||a}});return{name:[o("name",Vl("nameEmpty"))],tel:[o("tel",Vl("telInvalid")),{validator:a,message:Vl("telInvalid")}],areaCode:[o("areaCode",Vl("areaEmpty"))],addressDetail:[o("addressDetail",Vl("addressEmpty"))]}}),y=()=>t("save",r),x=e=>{r.addressDetail=e,t("changeDetail",e)},w=e=>{r.province=e[0].text,r.city=e[1].text,r.county=e[2].text},C=({selectedValues:e,selectedOptions:a})=>{e.some(e=>e===Eo)?bl(Vl("areaEmpty")):(s.value=!1,w(a),t("changeArea",a))},B=()=>t("delete",r),T=()=>{setTimeout(()=>{c.value=!1})},D=()=>{if(e.showSetDefault){const e={"right-icon":()=>h(kl,{modelValue:r.isDefault,"onUpdate:modelValue":e=>r.isDefault=e,onChange:e=>t("changeDefault",e)},null)};return k(h(Xo,{center:!0,border:!1,title:Vl("defaultAddress"),class:Ol("default")},e),[[S,!m.value]])}};return Et({setAreaCode:e=>{r.areaCode=e||""},setAddressDetail:e=>{r.addressDetail=e}}),p(()=>e.addressInfo,e=>{L(r,Al,e),u(()=>{var e;const t=null==(e=i.value)?void 0:e.getSelectedOptions();t&&t.every(e=>e&&e.value!==Eo)&&w(t)})},{deep:!0,immediate:!0}),()=>{const{disableArea:o}=e;return h(Ko,{class:Ol(),onSubmit:y},{default:()=>{var l;return[h("div",{class:Ol("fields")},[h(il,{modelValue:r.name,"onUpdate:modelValue":[e=>r.name=e,e=>g("name",e)],clearable:!0,label:Vl("name"),rules:b.value.name,placeholder:Vl("name"),onFocus:()=>f("name")},null),h(il,{modelValue:r.tel,"onUpdate:modelValue":[e=>r.tel=e,e=>g("tel",e)],clearable:!0,type:"tel",label:Vl("tel"),rules:b.value.tel,maxlength:e.telMaxlength,placeholder:Vl("tel"),onFocus:()=>f("tel")},null),k(h(il,{readonly:!0,label:Vl("area"),"is-link":!o,modelValue:v.value,rules:e.showArea?b.value.areaCode:void 0,placeholder:e.areaPlaceholder||Vl("area"),onFocus:()=>f("areaCode"),onClick:()=>{t("clickArea"),s.value=!o}},null),[[S,e.showArea]]),h(Tl,{show:e.showDetail,rows:e.detailRows,rules:b.value.addressDetail,value:r.addressDetail,focused:c.value,maxlength:e.detailMaxlength,searchResult:e.searchResult,showSearchResult:e.showSearchResult,onBlur:T,onFocus:()=>f("addressDetail"),onInput:x,onSelectSearch:e=>t("selectSearch",e)},null),null==(l=a.default)?void 0:l.call(a)]),D(),k(h("div",{class:Ol("buttons")},[h(na,{block:!0,round:!0,type:"primary",text:e.saveButtonText||Vl("save"),class:Ol("button"),loading:e.isSaving,nativeType:"submit"},null),e.showDelete&&h(na,{block:!0,round:!0,class:Ol("button"),loading:e.isDeleting,text:e.deleteButtonText||Vl("delete"),onClick:B},null)]),[[S,!m.value]]),h(Ta,{show:s.value,"onUpdate:show":e=>s.value=e,round:!0,teleport:"body",position:"bottom",lazyRender:!1},{default:()=>[h(Wo,{modelValue:r.areaCode,"onUpdate:modelValue":e=>r.areaCode=e,ref:i,loading:!d.value,areaList:e.areaList,columnsPlaceholder:e.areaColumnsPlaceholder,onConfirm:C,onCancel:()=>{s.value=!1}},null)]})]}})}}})),[Pl,zl]=vt("radio-group"),$l={shape:String,disabled:Boolean,iconSize:_,direction:String,modelValue:K,checkedColor:String},El=Symbol(Pl);const Ml=Bt(g({name:Pl,props:$l,emits:["change","update:modelValue"],setup(e,{emit:t,slots:a}){const{linkChildren:o}=ve(El);return p(()=>e.modelValue,e=>t("change",e)),o({props:e,updateValue:e=>t("update:modelValue",e)}),Ie(()=>e.modelValue),()=>{var t;return h("div",{class:zl([e.direction]),role:"radiogroup"},[null==(t=a.default)?void 0:t.call(a)])}}})),[Ll,Fl]=vt("checkbox-group"),Rl={max:_,shape:oe("round"),disabled:Boolean,iconSize:_,direction:String,modelValue:ee(),checkedColor:String},Hl=Symbol(Ll);const jl=Bt(g({name:Ll,props:Rl,emits:["change","update:modelValue"],setup(e,{emit:t,slots:a}){const{children:o,linkChildren:l}=ve(Hl),n=e=>t("update:modelValue",e);return p(()=>e.modelValue,e=>t("change",e)),Et({toggleAll:(e={})=>{"boolean"==typeof e&&(e={checked:e});const{checked:t,skipDisabled:a}=e,l=o.filter(e=>!!e.props.bindGroup&&(e.props.disabled&&a?e.checked.value:null!=t?t:!e.checked.value)).map(e=>e.name);n(l)}}),Ie(()=>e.modelValue),l({props:e,updateValue:n}),()=>{var t;return h("div",{class:Fl([e.direction])},[null==(t=a.default)?void 0:t.call(a)])}}})),[Nl,Wl]=vt("tag");const Yl=Bt(g({name:Nl,props:{size:String,mark:Boolean,show:J,type:oe("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean},emits:["close"],setup(e,{slots:t,emit:a}){const o=e=>{e.stopPropagation(),a("close",e)},l=()=>{var a;const{type:l,mark:n,plain:i,round:r,size:s,closeable:c}=e,u={mark:n,plain:i,round:r};s&&(u[s]=s);const d=c&&h(Kt,{name:"cross",class:[Wl("close"),kt],onClick:o},null);return h("span",{style:e.plain?{color:e.textColor||e.color,borderColor:e.color}:{color:e.textColor,background:e.color},class:Wl([u,l])},[null==(a=t.default)?void 0:a.call(t),d])};return()=>h(x,{name:e.closeable?"van-fade":void 0},{default:()=>[e.show?l():null]})}})),Ul={name:K,disabled:Boolean,iconSize:_,modelValue:K,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var ql=g({props:L({},Ul,{bem:Q(Function),role:String,shape:String,parent:Object,checked:Boolean,bindGroup:J,indeterminate:{type:Boolean,default:null}}),emits:["click","toggle"],setup(e,{emit:t,slots:a}){const n=l(),i=t=>{if(e.parent&&e.bindGroup)return e.parent.props[t]},r=o(()=>{if(e.parent&&e.bindGroup){const t=i("disabled")||e.disabled;if("checkbox"===e.role){const a=i("modelValue").length,o=i("max");return t||o&&a>=+o&&!e.checked}return t}return e.disabled}),s=o(()=>i("direction")),c=o(()=>{const t=e.checkedColor||i("checkedColor");if(t&&(e.checked||e.indeterminate)&&!r.value)return{borderColor:t,backgroundColor:t}}),u=o(()=>e.shape||i("shape")||"round"),d=a=>{const{target:o}=a,l=n.value,i=l===o||(null==l?void 0:l.contains(o));r.value||!i&&e.labelDisabled||t("toggle"),t("click",a)},p=()=>{var t,o;const{bem:l,checked:s,indeterminate:d}=e,p=e.iconSize||i("iconSize");return h("div",{ref:n,class:l("icon",[u.value,{disabled:r.value,checked:s,indeterminate:d}]),style:"dot"!==u.value?{fontSize:Ue(p)}:{width:Ue(p),height:Ue(p),borderColor:null==(t=c.value)?void 0:t.borderColor}},[a.icon?a.icon({checked:s,disabled:r.value}):"dot"!==u.value?h(Kt,{name:d?"minus":"success",style:c.value},null):h("div",{class:l("icon--dot__icon"),style:{backgroundColor:null==(o=c.value)?void 0:o.backgroundColor}},null)])},v=()=>{const{checked:t}=e;if(a.default)return h("span",{class:e.bem("label",[e.labelPosition,{disabled:r.value}])},[a.default({checked:t,disabled:r.value})])};return()=>{const t="left"===e.labelPosition?[v(),p()]:[p(),v()];return h("div",{role:e.role,class:e.bem([{disabled:r.value,"label-disabled":e.labelDisabled},s.value]),tabindex:r.value?void 0:0,"aria-checked":e.checked,onClick:d},[t])}}});const Xl=L({},Ul,{shape:String}),[Zl,Gl]=vt("radio");const Kl=Bt(g({name:Zl,props:Xl,emits:["update:modelValue"],setup(e,{emit:t,slots:a}){const{parent:o}=ue(El),l=()=>{o?o.updateValue(e.name):t("update:modelValue",e.name)};return()=>h(ql,y({bem:Gl,role:"radio",parent:o,checked:(o?o.props.modelValue:e.modelValue)===e.name,onToggle:l},e),X(a,["default","icon"]))}})),[_l,Jl]=vt("checkbox");const Ql=Bt(g({name:_l,props:L({},Ul,{shape:String,bindGroup:J,indeterminate:{type:Boolean,default:null}}),emits:["change","update:modelValue"],setup(e,{emit:t,slots:a}){const{parent:l}=ue(Hl),n=o(()=>l&&e.bindGroup?-1!==l.props.modelValue.indexOf(e.name):!!e.modelValue),i=(a=!n.value)=>{l&&e.bindGroup?(t=>{const{name:a}=e,{max:o,modelValue:n}=l.props,i=n.slice();if(t)o&&i.length>=+o||i.includes(a)||(i.push(a),e.bindGroup&&l.updateValue(i));else{const t=i.indexOf(a);-1!==t&&(i.splice(t,1),e.bindGroup&&l.updateValue(i))}})(a):t("update:modelValue",a),null!==e.indeterminate&&t("change",a)};return p(()=>e.modelValue,a=>{null===e.indeterminate&&t("change",a)}),Et({toggle:i,props:e,checked:n}),Ie(()=>e.modelValue),()=>h(ql,y({bem:Jl,role:"checkbox",parent:l,checked:n.value,onToggle:i},e),X(a,["default","icon"]))}})),[en,tn]=vt("address-item");var an=g({name:en,props:{address:Q(Object),disabled:Boolean,switchable:Boolean,singleChoice:Boolean,defaultTagText:String,rightIcon:oe("edit")},emits:["edit","click","select"],setup(e,{slots:t,emit:a}){const o=t=>{e.switchable&&a("select"),a("click",t)},l=()=>h(Kt,{name:e.rightIcon,class:tn("edit"),onClick:e=>{e.stopPropagation(),a("edit"),a("click",e)}},null),n=()=>{const{address:a,disabled:o,switchable:l,singleChoice:n}=e,i=[h("div",{class:tn("name")},[`${a.name} ${a.tel}`,t.tag?t.tag(e.address):e.address.isDefault&&e.defaultTagText?h(Yl,{type:"primary",round:!0,class:tn("tag")},{default:()=>[e.defaultTagText]}):void 0]),h("div",{class:tn("address")},[a.address])];return l&&!o?h(n?Kl:Ql,{name:a.id,iconSize:18},{default:()=>[i]}):i};return()=>{var a;const{disabled:i}=e;return h("div",{class:tn({disabled:i}),onClick:o},[h(Xo,{border:!1,titleClass:tn("title")},{title:n,"right-icon":l}),null==(a=t.bottom)?void 0:a.call(t,L({},e.address,{disabled:i}))])}}});const[on,ln,nn]=vt("address-list");const rn=Bt(g({name:on,props:{list:ee(),modelValue:[..._,Array],switchable:J,disabledText:String,disabledList:ee(),showAddButton:J,addButtonText:String,defaultTagText:String,rightIcon:oe("edit")},emits:["add","edit","select","clickItem","editDisabled","selectDisabled","update:modelValue"],setup(e,{slots:t,emit:a}){const l=o(()=>!Array.isArray(e.modelValue)),n=(o,n)=>{if(o)return o.map((o,i)=>((o,n,i)=>h(an,{key:o.id,address:o,disabled:i,switchable:e.switchable,singleChoice:l.value,defaultTagText:e.defaultTagText,rightIcon:e.rightIcon,onEdit:()=>a(i?"editDisabled":"edit",o,n),onClick:e=>a("clickItem",o,n,{event:e}),onSelect:()=>{if(a(i?"selectDisabled":"select",o,n),!i)if(l.value)a("update:modelValue",o.id);else{const t=e.modelValue;t.includes(o.id)?a("update:modelValue",t.filter(e=>e!==o.id)):a("update:modelValue",[...t,o.id])}}},{bottom:t["item-bottom"],tag:t.tag}))(o,i,n))};return()=>{var o,i;const r=n(e.list),s=n(e.disabledList,!0),c=e.disabledText&&h("div",{class:ln("disabled-text")},[e.disabledText]);return h("div",{class:ln()},[null==(o=t.top)?void 0:o.call(t),!l.value&&Array.isArray(e.modelValue)?h(jl,{modelValue:e.modelValue},{default:()=>[r]}):h(Ml,{modelValue:e.modelValue},{default:()=>[r]}),c,s,null==(i=t.default)?void 0:i.call(t),e.showAddButton?h("div",{class:[ln("bottom"),"van-safe-area-bottom"]},[h(na,{round:!0,block:!0,type:"primary",text:e.addButtonText||nn("add"),class:ln("add"),onClick:()=>a("add")},null)]):void 0])}}}));const[sn,cn]=vt("back-top");const un=Bt(g({name:sn,inheritAttrs:!1,props:{right:_,bottom:_,zIndex:_,target:[String,Object],offset:ae(200),immediate:Boolean,teleport:{type:[String,Object],default:"body"}},emits:["click"],setup(e,{emit:t,slots:a,attrs:n}){let i=!1;const d=l(!1),v=l(),m=l(),f=o(()=>L(Xe(e.zIndex),{right:Ue(e.right),bottom:Ue(e.bottom)})),g=a=>{var o;t("click",a),null==(o=m.value)||o.scrollTo({top:0,behavior:e.immediate?"auto":"smooth"})},b=()=>{d.value=!!m.value&&Pe(m.value)>=+e.offset},x=()=>{F&&u(()=>{m.value=e.target?(()=>{const{target:t}=e;if("string"!=typeof t)return t;{const e=document.querySelector(t);if(e)return e}})():Oe(v.value),b()})};return ke("scroll",function(e,t){let a=null,o=0;return function(...l){if(a)return;const n=()=>{o=Date.now(),a=!1,e.apply(this,l)};Date.now()-o>=t?n():a=setTimeout(n,t)}}(b,100),{target:m}),c(x),r(()=>{i&&(d.value=!0,i=!1)}),s(()=>{d.value&&e.teleport&&(d.value=!1,i=!0)}),p(()=>e.target,x),()=>{const t=h("div",y({ref:e.teleport?void 0:v,class:cn({active:d.value}),style:f.value,onClick:g},n),[a.default?a.default():h(Kt,{name:"back-top",class:cn("icon")},null)]);return e.teleport?[h("div",{ref:v,class:cn("placeholder")},null),h(w,{to:e.teleport},{default:()=>[t]})]:t}}}));const dn={top:ae(10),rows:ae(4),duration:ae(4e3),autoPlay:J,delay:te(300),modelValue:ee()},[pn,vn]=vt("barrage");const mn=Bt(g({name:pn,props:dn,emits:["update:modelValue"],setup(e,{emit:t,slots:a}){const o=l(),n=vn("item"),i=l(0),r=[],s=l(!0),d=l(e.autoPlay),v=({id:a,text:l},c)=>{var u;const p=((t,a=e.delay)=>{const o=document.createElement("span");return o.className=n,o.innerText=String(t),o.style.animationDuration=`${e.duration}ms`,o.style.animationDelay=`${a}ms`,o.style.animationName="van-barrage",o.style.animationTimingFunction="linear",o})(l,s.value?c*e.delay:void 0);e.autoPlay||!1!==d.value||(p.style.animationPlayState="paused"),null==(u=o.value)||u.append(p),i.value++;const v=(i.value-1)%+e.rows*p.offsetHeight+ +e.top;p.style.top=`${v}px`,p.dataset.id=String(a),r.push(p),p.addEventListener("animationend",()=>{t("update:modelValue",[...e.modelValue].filter(e=>String(e.id)!==p.dataset.id))})},m=(e,t)=>{const a=new Map(t.map(e=>[e.id,e]));e.forEach((e,t)=>{a.has(e.id)?a.delete(e.id):v(e,t)}),a.forEach(e=>{const t=r.findIndex(t=>t.dataset.id===String(e.id));t>-1&&(r[t].remove(),r.splice(t,1))}),s.value=!1};p(()=>e.modelValue.slice(),(e,t)=>m(null!=e?e:[],null!=t?t:[]),{deep:!0});const f=l({});c(()=>{return t=null,a=null,l=function*(){var t;f.value["--move-distance"]=`-${null==(t=o.value)?void 0:t.offsetWidth}px`,yield u(),m(e.modelValue,[])},new Promise((e,o)=>{var n=e=>{try{r(l.next(e))}catch(t){o(t)}},i=e=>{try{r(l.throw(e))}catch(t){o(t)}},r=t=>t.done?e(t.value):Promise.resolve(t.value).then(n,i);r((l=l.apply(t,a)).next())});var t,a,l});return Et({play:()=>{d.value=!0,r.forEach(e=>{e.style.animationPlayState="running"})},pause:()=>{d.value=!1,r.forEach(e=>{e.style.animationPlayState="paused"})}}),()=>{var e;return h("div",{class:vn(),ref:o,style:f.value},[null==(e=a.default)?void 0:e.call(a)])}}})),[fn,hn,gn]=vt("calendar");function bn(e,t){const a=e.getFullYear(),o=t.getFullYear();if(a===o){const a=e.getMonth(),o=t.getMonth();return a===o?0:a>o?1:-1}return a>o?1:-1}function yn(e,t){const a=bn(e,t);if(0===a){const a=e.getDate(),o=t.getDate();return a===o?0:a>o?1:-1}return a}const xn=e=>new Date(e),wn=e=>Array.isArray(e)?e.map(xn):xn(e);function kn(e,t){const a=xn(e);return a.setDate(a.getDate()+t),a}function Sn(e,t){const a=xn(e);return a.setMonth(a.getMonth()+t),a.getDate()!==e.getDate()&&a.setDate(0),a}function Cn(e,t){const a=xn(e);return a.setFullYear(a.getFullYear()+t),a.getDate()!==e.getDate()&&a.setDate(0),a}const Bn=e=>kn(e,-1),Tn=e=>kn(e,1),Dn=e=>Sn(e,-1),On=e=>Sn(e,1),Vn=e=>Cn(e,-1),An=e=>Cn(e,1),In=()=>{const e=new Date;return e.setHours(0,0,0,0),e};const Pn=L({},zo,{modelValue:ee(),filter:Function,formatter:{type:Function,default:(e,t)=>t}}),zn=Object.keys(zo);const $n=(e,t)=>32-new Date(e,t-1,32).getDate(),En=(e,t,a,o,l,n)=>{const i=function(e,t){if(e<0)return[];const a=Array(e);let o=-1;for(;++o<e;)a[o]=t(o);return a}(t-e+1,t=>{const l=Qe(e+t);return o(a,{text:l,value:l})});return l?l(a,i,n):i},Mn=(e,t)=>e.map((e,a)=>{const o=t[a];if(o.length){const t=+o[0].value,a=+o[o.length-1].value;return Qe(et(+e,t,a))}return e}),[Ln]=vt("calendar-day");var Fn=g({name:Ln,props:{item:Q(Object),color:String,index:Number,offset:te(0),rowHeight:String},emits:["click","clickDisabledDate"],setup(e,{emit:t,slots:a}){const l=o(()=>{const{item:t,index:a,color:o,offset:l,rowHeight:n}=e,i={height:n};if("placeholder"===t.type)return i.width="100%",i;if(0===a&&(i.marginLeft=100*l/7+"%"),o)switch(t.type){case"end":case"start":case"start-end":case"multiple-middle":case"multiple-selected":i.background=o;break;case"middle":i.color=o}return t.date&&function(e,t=0){const a=new Date(e.getFullYear(),e.getMonth()+1,0),o=t+e.getDate()-1,l=t+a.getDate()-1;return Math.floor(o/7)===Math.floor(l/7)}(t.date,l)&&(i.marginBottom=0),i}),n=()=>{"disabled"!==e.item.type?t("click",e.item):t("clickDisabledDate",e.item)},i=()=>{const{topInfo:t}=e.item;if(t||a["top-info"])return h("div",{class:hn("top-info")},[a["top-info"]?a["top-info"](e.item):t])},r=()=>{const{bottomInfo:t}=e.item;if(t||a["bottom-info"])return h("div",{class:hn("bottom-info")},[a["bottom-info"]?a["bottom-info"](e.item):t])},s=()=>{const{item:t,color:o,rowHeight:l}=e,{type:n}=t,s=[i(),a.text?a.text(e.item):e.item.text,r()];return"selected"===n?h("div",{class:hn("selected-day"),style:{width:l,height:l,background:o}},[s]):s};return()=>{const{type:t,className:a}=e.item;return"placeholder"===t?h("div",{class:hn("day"),style:l.value},null):h("div",{role:"gridcell",style:l.value,class:[hn("day",t),a],tabindex:"disabled"===t?void 0:-1,onClick:n},[s()])}}});const[Rn]=vt("calendar-month");var Hn=g({name:Rn,props:{date:Q(Date),type:String,color:String,minDate:Date,maxDate:Date,showMark:Boolean,rowHeight:_,formatter:Function,lazyRender:Boolean,currentDate:[Date,Array],allowSameDay:Boolean,showSubtitle:Boolean,showMonthTitle:Boolean,firstDayOfWeek:Number},emits:["click","clickDisabledDate"],setup(e,{emit:t,slots:a}){const[n,i]=function(e=!1){const t=l(e);return[t,(e=!t.value)=>{t.value=e}]}(),r=l(),s=l(),c=Vt(s),u=o(()=>{return t=e.date,gn("monthTitle",t.getFullYear(),t.getMonth()+1);var t}),d=o(()=>Ue(e.rowHeight)),p=o(()=>{const t=e.date.getDate(),a=(e.date.getDay()-t%7+8)%7;return e.firstDayOfWeek?(a+7-e.firstDayOfWeek)%7:a}),v=o(()=>$n(e.date.getFullYear(),e.date.getMonth()+1)),m=o(()=>n.value||!e.lazyRender),f=t=>{const{type:a,minDate:o,maxDate:l,currentDate:n}=e;if(o&&yn(t,o)<0||l&&yn(t,l)>0)return"disabled";if(null===n)return"";if(Array.isArray(n)){if("multiple"===a)return(t=>{const a=t=>e.currentDate.some(e=>0===yn(e,t));if(a(t)){const e=Bn(t),o=Tn(t),l=a(e),n=a(o);return l&&n?"multiple-middle":l?"end":n?"start":"multiple-selected"}return""})(t);if("range"===a)return(t=>{const[a,o]=e.currentDate;if(!a)return"";const l=yn(t,a);if(!o)return 0===l?"start":"";const n=yn(t,o);return e.allowSameDay&&0===l&&0===n?"start-end":0===l?"start":0===n?"end":l>0&&n<0?"middle":""})(t)}else if("single"===a)return 0===yn(t,n)?"selected":"";return""},g=t=>{if("range"===e.type){if("start"===t||"end"===t)return gn(t);if("start-end"===t)return`${gn("start")}/${gn("end")}`}},b=()=>{if(e.showMonthTitle)return h("div",{class:hn("month-title")},[a["month-title"]?a["month-title"]({date:e.date,text:u.value}):u.value])},y=()=>{if(e.showMark&&m.value)return h("div",{class:hn("month-mark")},[e.date.getMonth()+1])},x=o(()=>{const e=Math.ceil((v.value+p.value)/7);return Array(e).fill({type:"placeholder"})}),w=o(()=>{const t=[],a=e.date.getFullYear(),o=e.date.getMonth();for(let l=1;l<=v.value;l++){const n=new Date(a,o,l),i=f(n);let r={date:n,type:i,text:l,bottomInfo:g(i)};e.formatter&&(r=e.formatter(r)),t.push(r)}return t}),k=o(()=>w.value.filter(e=>"disabled"===e.type)),S=(o,l)=>h(Fn,{item:o,index:l,color:e.color,offset:p.value,rowHeight:d.value,onClick:e=>t("click",e),onClickDisabledDate:e=>t("clickDisabledDate",e)},X(a,["top-info","bottom-info","text"]));return Et({getTitle:()=>u.value,getHeight:()=>c.value,setVisible:i,scrollToDate:(e,t)=>{if(r.value){const a=ce(r.value),o=x.value.length,l=(Math.ceil((t.getDate()+p.value)/7)-1)*a.height/o;ze(e,a.top+l+e.scrollTop-ce(e).top)}},disabledDays:k}),()=>h("div",{class:hn("month"),ref:s},[b(),h("div",{ref:r,role:"grid",class:hn("days")},[y(),(m.value?w:x).value.map(S)])])}});const[jn]=vt("calendar-header");var Nn=g({name:jn,props:{date:Date,minDate:Date,maxDate:Date,title:String,subtitle:String,showTitle:Boolean,showSubtitle:Boolean,firstDayOfWeek:Number,switchMode:oe("none")},emits:["clickSubtitle","panelChange"],setup(e,{slots:t,emit:a}){const l=o(()=>e.date&&e.minDate&&bn(Dn(e.date),e.minDate)<0),n=o(()=>e.date&&e.minDate&&bn(Vn(e.date),e.minDate)<0),i=o(()=>e.date&&e.maxDate&&bn(On(e.date),e.maxDate)>0),r=o(()=>e.date&&e.maxDate&&bn(An(e.date),e.maxDate)>0),s=()=>{if(e.showTitle){const a=e.title||gn("title"),o=t.title?t.title():a;return h("div",{class:hn("header-title")},[o])}},c=e=>a("clickSubtitle",e),u=e=>a("panelChange",e),d=a=>{const o="year-month"===e.switchMode,s=t[a?"next-month":"prev-month"],c=t[a?"next-year":"prev-year"],d=a?i.value:l.value,p=a?r.value:n.value,v=a?"arrow":"arrow-left",m=a?"arrow-double-right":"arrow-double-left",f=h("view",{class:hn("header-action",{disabled:d}),onClick:d?void 0:()=>u((a?On:Dn)(e.date))},[s?s({disabled:d}):h(Kt,{class:{[kt]:!d},name:v},null)]),g=o&&h("view",{class:hn("header-action",{disabled:p}),onClick:p?void 0:()=>u((a?An:Vn)(e.date))},[c?c({disabled:p}):h(Kt,{class:{[kt]:!p},name:m},null)]);return a?[f,g]:[g,f]},p=()=>{if(e.showSubtitle){const a=t.subtitle?t.subtitle({date:e.date,text:e.subtitle}):e.subtitle,o="none"!==e.switchMode;return h("div",{class:hn("header-subtitle",{"with-switch":o}),onClick:c},[o?[d(),h("div",{class:hn("header-subtitle-text")},[a]),d(!0)]:a])}},v=()=>{const{firstDayOfWeek:t}=e,a=gn("weekdays"),o=[...a.slice(t,7),...a.slice(0,t)];return h("div",{class:hn("weekdays")},[o.map(e=>h("span",{class:hn("weekday")},[e]))])};return()=>h("div",{class:hn("header")},[s(),p(),v()])}});const Wn=Bt(g({name:fn,props:{show:Boolean,type:oe("single"),switchMode:oe("none"),title:String,color:String,round:J,readonly:Boolean,poppable:J,maxRange:ae(null),position:oe("bottom"),teleport:[String,Object],showMark:J,showTitle:J,formatter:Function,rowHeight:_,confirmText:String,rangePrompt:String,lazyRender:J,showConfirm:J,defaultDate:[Date,Array],allowSameDay:Boolean,showSubtitle:J,closeOnPopstate:J,showRangePrompt:J,confirmDisabledText:String,closeOnClickOverlay:J,safeAreaInsetTop:Boolean,safeAreaInsetBottom:J,minDate:{type:Date,validator:W},maxDate:{type:Date,validator:W},firstDayOfWeek:{type:_,default:0,validator:e=>e>=0&&e<=6}},emits:["select","confirm","unselect","monthShow","overRange","update:show","clickSubtitle","clickDisabledDate","clickOverlay","panelChange"],setup(e,{emit:t,slots:a}){const n=o(()=>"none"!==e.switchMode),i=o(()=>e.minDate||n.value?e.minDate:In()),r=o(()=>e.maxDate||n.value?e.maxDate:Sn(In(),6)),s=(e,t=i.value,a=r.value)=>t&&-1===yn(e,t)?t:a&&1===yn(e,a)?a:e,c=(t=e.defaultDate)=>{const{type:a,allowSameDay:o}=e;if(null===t)return t;const l=In();if("range"===a){Array.isArray(t)||(t=[]),1===t.length&&1===yn(t[0],l)&&(t=[]);const e=i.value,a=r.value;return[s(t[0]||l,e,a?o?a:Bn(a):void 0),s(t[1]||(o?l:Tn(l)),e?o?e:Tn(e):void 0)]}return"multiple"===a?Array.isArray(t)?t.map(e=>s(e)):[s(l)]:(t&&!Array.isArray(t)||(t=l),s(t))};let u;const d=l(),v=l(c()),m=l((()=>{const e=Array.isArray(v.value)?v.value[0]:v.value;return e||s(In())})()),f=l(),[g,b]=_a(),x=o(()=>e.firstDayOfWeek?+e.firstDayOfWeek%7:0),w=o(()=>{const e=[];if(!i.value||!r.value)return e;const t=new Date(i.value);t.setDate(1);do{e.push(new Date(t)),t.setMonth(t.getMonth()+1)}while(1!==bn(t,r.value));return e}),k=o(()=>{if(v.value){if("range"===e.type)return!v.value[0]||!v.value[1];if("multiple"===e.type)return!v.value.length}return!v.value}),S=()=>{const e=Pe(d.value),a=e+u,o=w.value.map((e,t)=>g.value[t].getHeight());if(a>o.reduce((e,t)=>e+t,0)&&e>0)return;let l,n=0;const i=[-1,-1];for(let r=0;r<w.value.length;r++){const s=g.value[r];n<=a&&n+o[r]>=e&&(i[1]=r,l||(l=s,i[0]=r),g.value[r].showed||(g.value[r].showed=!0,t("monthShow",{date:s.date,title:s.getTitle()}))),n+=o[r]}w.value.forEach((e,t)=>{const a=t>=i[0]-1&&t<=i[1]+1;g.value[t].setVisible(a)}),l&&(f.value=l)},C=e=>{n.value?m.value=e:ne(()=>{w.value.some((t,a)=>0===bn(t,e)&&(d.value&&g.value[a].scrollToDate(d.value,e),!0)),S()})},B=()=>{if(!e.poppable||e.show)if(v.value){const t="single"===e.type?v.value:v.value[0];W(t)&&C(t)}else n.value||ne(S)},T=()=>{e.poppable&&!e.show||(n.value||ne(()=>{u=Math.floor(ce(d).height)}),B())},D=(e=c())=>{v.value=e,B()},O=e=>{m.value=e,t("panelChange",{date:e})},V=()=>{var e;return t("confirm",null!=(e=v.value)?e:wn(v.value))},A=(a,o)=>{const l=e=>{v.value=e,t("select",wn(e))};if(o&&"range"===e.type){const o=(a=>{const{maxRange:o,rangePrompt:l,showRangePrompt:n}=e;return!(o&&function(e){const t=e[0].getTime();return(e[1].getTime()-t)/864e5+1}(a)>+o&&(n&&bl(l||gn("rangePrompt",o)),t("overRange"),1))})(a);if(!o)return void l([a[0],kn(a[0],+e.maxRange-1)])}l(a),o&&!e.showConfirm&&V()},I=o(()=>g.value.reduce((e,t)=>{var a,o;return e.push(...null!=(o=null==(a=t.disabledDays)?void 0:a.value)?o:[]),e},[])),P=a=>{if(e.readonly||!a.date)return;const{date:o}=a,{type:l}=e;if("range"===l){if(!v.value)return void A([o]);const[t,a]=v.value;if(t&&!a){const a=yn(o,t);if(1===a){const e=((e,t,a)=>{var o;return null==(o=e.find(e=>-1===yn(t,e.date)&&-1===yn(e.date,a)))?void 0:o.date})(I.value,t,o);if(e){const a=Bn(e);-1===yn(t,a)?A([t,a]):A([o])}else A([t,o],!0)}else-1===a?A([o]):e.allowSameDay&&A([o,o],!0)}else A([o])}else if("multiple"===l){if(!v.value)return void A([o]);const a=v.value,l=a.findIndex(e=>0===yn(e,o));if(-1!==l){const[e]=a.splice(l,1);t("unselect",xn(e))}else e.maxRange&&a.length>=+e.maxRange?bl(e.rangePrompt||gn("rangePrompt",e.maxRange)):A([...a,o])}else A(o,!0)},z=e=>t("clickOverlay",e),$=e=>t("update:show",e),E=(o,l)=>{const s=0!==l||!e.showSubtitle;return h(Hn,y({ref:n.value?f:b(l),date:o,currentDate:v.value,showMonthTitle:s,firstDayOfWeek:x.value,lazyRender:!n.value&&e.lazyRender,maxDate:r.value,minDate:i.value},X(e,["type","color","showMark","formatter","rowHeight","showSubtitle","allowSameDay"]),{onClick:P,onClickDisabledDate:e=>t("clickDisabledDate",e)}),X(a,["top-info","bottom-info","month-title","text"]))},M=()=>{if(a.footer)return a.footer();if(e.showConfirm){const t=a["confirm-text"],o=k.value,l=o?e.confirmDisabledText:e.confirmText;return h(na,{round:!0,block:!0,type:"primary",color:e.color,class:hn("confirm"),disabled:o,nativeType:"button",onClick:V},{default:()=>[t?t({disabled:o}):l||gn("confirm")]})}},L=()=>{var o,l;return h("div",{class:hn()},[h(Nn,{date:null==(o=f.value)?void 0:o.date,maxDate:r.value,minDate:i.value,title:e.title,subtitle:null==(l=f.value)?void 0:l.getTitle(),showTitle:e.showTitle,showSubtitle:e.showSubtitle,switchMode:e.switchMode,firstDayOfWeek:x.value,onClickSubtitle:e=>t("clickSubtitle",e),onPanelChange:O},X(a,["title","subtitle","prev-month","prev-year","next-month","next-year"])),h("div",{ref:d,class:hn("body"),onScroll:n.value?void 0:S},[n.value?E(m.value,0):w.value.map(E)]),h("div",{class:[hn("footer"),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[M()])])};return p(()=>e.show,T),p(()=>[e.type,e.minDate,e.maxDate,e.switchMode],()=>D(c(v.value))),p(()=>e.defaultDate,e=>{D(e)}),Et({reset:D,scrollToDate:C,getSelectedDate:()=>v.value}),we(T),()=>e.poppable?h(Ta,{show:e.show,class:hn("popup"),round:e.round,position:e.position,closeable:e.showTitle||e.showSubtitle,teleport:e.teleport,closeOnPopstate:e.closeOnPopstate,safeAreaInsetTop:e.safeAreaInsetTop,closeOnClickOverlay:e.closeOnClickOverlay,onClickOverlay:z,"onUpdate:show":$},{default:L}):L()}})),[Yn,Un]=vt("image");const qn=Bt(g({name:Yn,props:{src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:_,height:_,radius:_,lazyLoad:Boolean,iconSize:_,showError:J,errorIcon:oe("photo-fail"),iconPrefix:String,showLoading:J,loadingIcon:oe("photo"),crossorigin:String,referrerpolicy:String,decoding:String},emits:["load","error"],setup(e,{emit:t,slots:a}){const n=l(!1),r=l(!0),s=l(),{$Lazyload:d}=v().proxy,m=o(()=>{const t={width:Ue(e.width),height:Ue(e.height)};return H(e.radius)&&(t.overflow="hidden",t.borderRadius=Ue(e.radius)),t});p(()=>e.src,()=>{n.value=!1,r.value=!0});const f=e=>{r.value&&(r.value=!1,t("load",e))},g=()=>{const e=new Event("load");Object.defineProperty(e,"target",{value:s.value,enumerable:!0}),f(e)},b=e=>{n.value=!0,r.value=!1,t("error",e)},x=(t,a,o)=>o?o():h(Kt,{name:t,size:e.iconSize,class:a,classPrefix:e.iconPrefix},null),w=()=>{if(n.value||!e.src)return;const t={alt:e.alt,class:Un("img"),decoding:e.decoding,style:{objectFit:e.fit,objectPosition:e.position},crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy};return e.lazyLoad?k(h("img",y({ref:s},t),null),[[P("lazy"),e.src]]):h("img",y({ref:s,src:e.src,onLoad:f,onError:b},t),null)},S=({el:e})=>{const t=()=>{e===s.value&&r.value&&g()};s.value?t():u(t)},C=({el:e})=>{e!==s.value||n.value||b()};return d&&F&&(d.$on("loaded",S),d.$on("error",C),i(()=>{d.$off("loaded",S),d.$off("error",C)})),c(()=>{u(()=>{var t;(null==(t=s.value)?void 0:t.complete)&&!e.lazyLoad&&g()})}),()=>{var t;return h("div",{class:Un({round:e.round,block:e.block}),style:m.value},[w(),r.value&&e.showLoading?h("div",{class:Un("loading")},[x(e.loadingIcon,Un("loading-icon"),a.loading)]):n.value&&e.showError?h("div",{class:Un("error")},[x(e.errorIcon,Un("error-icon"),a.error)]):void 0,null==(t=a.default)?void 0:t.call(a)])}}})),[Xn,Zn]=vt("card");const Gn=Bt(g({name:Xn,props:{tag:String,num:_,desc:String,thumb:String,title:String,price:_,centered:Boolean,lazyLoad:Boolean,currency:oe("¥"),thumbLink:String,originPrice:_},emits:["clickThumb"],setup(e,{slots:t,emit:a}){const o=()=>{if(t.tag||e.tag)return h("div",{class:Zn("tag")},[t.tag?t.tag():h(Yl,{mark:!0,type:"primary"},{default:()=>[e.tag]})])},l=()=>{if(t.thumb||e.thumb)return h("a",{href:e.thumbLink,class:Zn("thumb"),onClick:e=>a("clickThumb",e)},[t.thumb?t.thumb():h(qn,{src:e.thumb,fit:"cover",width:"100%",height:"100%",lazyLoad:e.lazyLoad},null),o()])},n=()=>{const t=e.price.toString().split(".");return h("div",null,[h("span",{class:Zn("price-currency")},[e.currency]),h("span",{class:Zn("price-integer")},[t[0]]),t.length>1&&h(C,null,[A("."),h("span",{class:Zn("price-decimal")},[t[1]])])])};return()=>{var a,o,i;const r=t.num||H(e.num),s=t.price||H(e.price),c=t["origin-price"]||H(e.originPrice),u=r||s||c||t.bottom,d=s&&h("div",{class:Zn("price")},[t.price?t.price():n()]),p=c&&h("div",{class:Zn("origin-price")},[t["origin-price"]?t["origin-price"]():`${e.currency} ${e.originPrice}`]),v=r&&h("div",{class:Zn("num")},[t.num?t.num():`x${e.num}`]),m=t.footer&&h("div",{class:Zn("footer")},[t.footer()]),f=u&&h("div",{class:Zn("bottom")},[null==(a=t["price-top"])?void 0:a.call(t),d,p,v,null==(o=t.bottom)?void 0:o.call(t)]);return h("div",{class:Zn()},[h("div",{class:Zn("header")},[l(),h("div",{class:Zn("content",{centered:e.centered})},[h("div",null,[t.title?t.title():e.title?h("div",{class:[Zn("title"),"van-multi-ellipsis--l2"]},[e.title]):void 0,t.desc?t.desc():e.desc?h("div",{class:[Zn("desc"),"van-ellipsis"]},[e.desc]):void 0,null==(i=t.tags)?void 0:i.call(t)]),f])]),m])}}})),[Kn,_n,Jn]=vt("cascader");const Qn=Bt(g({name:Kn,props:{title:String,options:ee(),closeable:J,swipeable:J,closeIcon:oe("cross"),showHeader:J,modelValue:_,fieldNames:Object,placeholder:String,activeColor:String},emits:["close","change","finish","clickTab","update:modelValue"],setup(e,{slots:t,emit:a}){const o=l([]),n=l(0),[i,r]=_a(),{text:s,value:c,children:d}=L({text:"text",value:"value",children:"children"},e.fieldNames),v=(e,t)=>{for(const a of e){if(a[c]===t)return[a];if(a[d]){const e=v(a[d],t);if(e)return[a,...e]}}},m=()=>{const{options:t,modelValue:a}=e;if(void 0!==a){const e=v(t,a);if(e){let a=t;return o.value=e.map(e=>{const t={options:a,selected:e},o=a.find(t=>t[c]===e[c]);return o&&(a=o[d]),t}),a&&o.value.push({options:a,selected:null}),void u(()=>{n.value=o.value.length-1})}}o.value=[{options:t,selected:null}]},f=()=>a("close"),g=({name:e,title:t})=>a("clickTab",e,t),b=(l,i,p)=>{const{disabled:v}=l,m=!(!i||l[c]!==i[c]),f=l.color||(m?e.activeColor:void 0),g=t.option?t.option({option:l,selected:m}):h("span",null,[l[s]]);return h("li",{ref:m?r(p):void 0,role:"menuitemradio",class:[_n("option",{selected:m,disabled:v}),l.className],style:{color:f},tabindex:v?void 0:m?0:-1,"aria-checked":m,"aria-disabled":v||void 0,onClick:()=>((e,t)=>{if(e.disabled)return;if(o.value[t].selected=e,o.value.length>t+1&&(o.value=o.value.slice(0,t+1)),e[d]){const a={options:e[d],selected:null};o.value[t+1]?o.value[t+1]=a:o.value.push(a),u(()=>{n.value++})}const l=o.value.map(e=>e.selected).filter(Boolean);a("update:modelValue",e[c]);const i={value:e[c],tabIndex:t,selectedOptions:l};a("change",i),e[d]||a("finish",i)})(l,p)},[g,m?h(Kt,{name:"success",class:_n("selected-icon")},null):null])},y=(e,t,a)=>h("ul",{role:"menu",class:_n("options")},[e.map(e=>b(e,t,a))]),x=(a,o)=>{const{options:l,selected:n}=a,i=e.placeholder||Jn("select"),r=n?n[s]:i;return h(Do,{title:r,titleClass:_n("tab",{unselected:!n})},{default:()=>{var e,a;return[null==(e=t["options-top"])?void 0:e.call(t,{tabIndex:o}),y(l,n,o),null==(a=t["options-bottom"])?void 0:a.call(t,{tabIndex:o})]}})};return m(),p(n,e=>{const t=i.value[e];t&&(e=>{const t=e.parentElement;t&&(t.scrollTop=e.offsetTop-(t.offsetHeight-e.offsetHeight)/2)})(t)}),p(()=>e.options,m,{deep:!0}),p(()=>e.modelValue,e=>{if(void 0!==e){if(o.value.map(e=>{var t;return null==(t=e.selected)?void 0:t[c]}).includes(e))return}m()}),()=>h("div",{class:_n()},[e.showHeader?h("div",{class:_n("header")},[h("h2",{class:_n("title")},[t.title?t.title():e.title]),e.closeable?h(Kt,{name:e.closeIcon,class:[_n("close-icon"),kt],onClick:f},null):null]):null,h(Oo,{active:n.value,"onUpdate:active":e=>n.value=e,shrink:!0,animated:!0,class:_n("tabs"),color:e.activeColor,swipeable:e.swipeable,onClickTab:g},{default:()=>[o.value.map(x)]})])}})),[ei,ti]=vt("cell-group");const ai=Bt(g({name:ei,inheritAttrs:!1,props:{title:String,inset:Boolean,border:J},setup(e,{slots:t,attrs:a}){const o=()=>{var o;return h("div",y({class:[ti({inset:e.inset}),{[xt]:e.border&&!e.inset}]},a,ya()),[null==(o=t.default)?void 0:o.call(t)])};return()=>e.title||t.title?h(C,null,[h("div",{class:ti("title",{inset:e.inset})},[t.title?t.title():e.title]),o()]):o()}})),[oi,li]=vt("circle");let ni=0;const ii=e=>Math.min(Math.max(+e,0),100);const ri=Bt(g({name:oi,props:{text:String,size:_,fill:oe("none"),rate:ae(100),speed:ae(0),color:[String,Object],clockwise:J,layerColor:String,currentRate:te(0),strokeWidth:ae(40),strokeLinecap:String,startPosition:oe("top")},emits:["update:currentRate"],setup(e,{emit:t,slots:a}){const l="van-circle-"+ni++,n=o(()=>+e.strokeWidth+1e3),i=o(()=>function(e,t){const a=e?1:0;return`M ${t/2} ${t/2} m 0, -500 a 500, 500 0 1, ${a} 0, 1000 a 500, 500 0 1, ${a} 0, -1000`}(e.clockwise,n.value)),r=o(()=>{const t={top:0,right:90,bottom:180,left:270}[e.startPosition];if(t)return{transform:`rotate(${t}deg)`}});p(()=>e.rate,a=>{let o;const l=Date.now(),n=e.currentRate,i=ii(a),r=Math.abs(1e3*(n-i)/+e.speed),s=()=>{const e=Date.now(),a=Math.min((e-l)/r,1)*(i-n)+n;t("update:currentRate",ii(parseFloat(a.toFixed(1)))),(i>n?a<i:a>i)&&(o=ne(s))};e.speed?(o&&ie(o),o=ne(s)):t("update:currentRate",i)},{immediate:!0});const s=()=>{const{strokeWidth:t,currentRate:a,strokeLinecap:o}=e,n=3140*a/100,r=R(e.color)?`url(#${l})`:e.color,s={stroke:r,strokeWidth:+t+1+"px",strokeLinecap:o,strokeDasharray:`${n}px 3140px`};return h("path",{d:i.value,style:s,class:li("hover"),stroke:r},null)},c=()=>{const t={fill:e.fill,stroke:e.layerColor,strokeWidth:`${e.strokeWidth}px`};return h("path",{class:li("layer"),style:t,d:i.value},null)},u=()=>{const{color:t}=e;if(!R(t))return;const a=Object.keys(t).sort((e,t)=>parseFloat(e)-parseFloat(t)).map((e,a)=>h("stop",{key:a,offset:e,"stop-color":t[e]},null));return h("defs",null,[h("linearGradient",{id:l,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[a])])};return()=>h("div",{class:li(),style:qe(e.size)},[h("svg",{viewBox:`0 0 ${n.value} ${n.value}`,style:r.value},[u(),c(),s()]),a.default?a.default():e.text?h("div",{class:li("text")},[e.text]):void 0])}})),[si,ci]=vt("row"),ui=Symbol(si);var di=g({name:si,props:{tag:oe("div"),wrap:J,align:String,gutter:{type:[String,Number,Array],default:0},justify:String},setup(e,{slots:t}){const{children:a,linkChildren:l}=ve(ui),n=o(()=>{const e=[[]];let t=0;return a.forEach((a,o)=>{t+=Number(a.span),t>24?(e.push([o]),t-=24):e[e.length-1].push(o)}),e});return l({spaces:o(()=>{let t=0;t=Array.isArray(e.gutter)?Number(e.gutter[0])||0:Number(e.gutter);const a=[];return t?(n.value.forEach(e=>{const o=t*(e.length-1)/e.length;e.forEach((e,l)=>{if(0===l)a.push({right:o});else{const l=t-a[e-1].right,n=o-l;a.push({left:l,right:n})}})}),a):a}),verticalSpaces:o(()=>{const{gutter:t}=e,a=[];if(Array.isArray(t)&&t.length>1){const e=Number(t[1])||0;if(e<=0)return a;n.value.forEach((t,o)=>{o!==n.value.length-1&&t.forEach(()=>{a.push({bottom:e})})})}return a})}),()=>{const{tag:a,wrap:o,align:l,justify:n}=e;return h(a,{class:ci({[`align-${l}`]:l,[`justify-${n}`]:n,nowrap:!o})},{default:()=>{var e;return[null==(e=t.default)?void 0:e.call(t)]}})}}});const[pi,vi]=vt("col");const mi=Bt(g({name:pi,props:{tag:oe("div"),span:ae(0),offset:_},setup(e,{slots:t}){const{parent:a,index:l}=ue(ui),n=o(()=>{if(!a)return;const{spaces:e,verticalSpaces:t}=a;let o={};if(e&&e.value&&e.value[l.value]){const{left:t,right:a}=e.value[l.value];o={paddingLeft:t?`${t}px`:null,paddingRight:a?`${a}px`:null}}const{bottom:n}=t.value[l.value]||{};return L(o,{marginBottom:n?`${n}px`:null})});return()=>{const{tag:a,span:o,offset:l}=e;return h(a,{style:n.value,class:vi({[o]:o,[`offset-${l}`]:l})},{default:()=>{var e;return[null==(e=t.default)?void 0:e.call(t)]}})}}})),[fi,hi]=vt("collapse"),gi=Symbol(fi);const bi=Bt(g({name:fi,props:{border:J,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}},emits:["change","update:modelValue"],setup(e,{emit:t,slots:a}){const{linkChildren:o,children:l}=ve(gi),n=e=>{t("change",e),t("update:modelValue",e)};return Et({toggleAll:(t={})=>{if(e.accordion)return;"boolean"==typeof t&&(t={expanded:t});const{expanded:a,skipDisabled:o}=t,i=l.filter(e=>e.disabled&&o?e.expanded.value:null!=a?a:!e.expanded.value).map(e=>e.itemName.value);n(i)}}),o({toggle:(t,a)=>{const{accordion:o,modelValue:l}=e;n(o?t===l?"":t:a?l.concat(t):l.filter(e=>e!==t))},isExpanded:t=>{const{accordion:a,modelValue:o}=e;return a?o===t:o.includes(t)}}),()=>{var t;return h("div",{class:[hi(),{[xt]:e.border}]},[null==(t=a.default)?void 0:t.call(a)])}}})),[yi,xi]=vt("collapse-item"),wi=["icon","title","value","label","right-icon"];const ki=Bt(g({name:yi,props:L({},qo,{name:_,isLink:J,disabled:Boolean,readonly:Boolean,lazyRender:J}),setup(e,{slots:t}){const a=l(),n=l(),{parent:i,index:r}=ue(gi);if(!i)return;const s=o(()=>{var t;return null!=(t=e.name)?t:r.value}),c=o(()=>i.isExpanded(s.value)),d=l(c.value),v=ba(()=>d.value||!e.lazyRender),m=()=>{c.value?a.value&&(a.value.style.height=""):d.value=!1};p(c,(e,t)=>{if(null===t)return;e&&(d.value=!0);(e?u:ne)(()=>{if(!n.value||!a.value)return;const{offsetHeight:t}=n.value;if(t){const o=`${t}px`;a.value.style.height=e?"0":o,re(()=>{a.value&&(a.value.style.height=e?o:"0")})}else m()})});const f=(e=!c.value)=>{i.toggle(s.value,e)},g=()=>{e.disabled||e.readonly||f()},b=()=>{const{border:a,disabled:o,readonly:l}=e,n=X(e,Object.keys(qo));return l&&(n.isLink=!1),(o||l)&&(n.clickable=!1),h(Xo,y({role:"button",class:xi("title",{disabled:o,expanded:c.value,borderless:!a}),"aria-expanded":String(c.value),onClick:g},n),X(t,wi))},x=v(()=>{var e;return k(h("div",{ref:a,class:xi("wrapper"),onTransitionend:m},[h("div",{ref:n,class:xi("content")},[null==(e=t.default)?void 0:e.call(t)])]),[[S,d.value]])});return Et({toggle:f,expanded:c,itemName:s}),()=>h("div",{class:[xi({border:r.value&&e.border})]},[b(),x()])}})),Si=Bt(Xt),[Ci,Bi,Ti]=vt("contact-card");const Di=Bt(g({name:Ci,props:{tel:String,name:String,type:oe("add"),addText:String,editable:J},emits:["click"],setup(e,{emit:t}){const a=a=>{e.editable&&t("click",a)},o=()=>"add"===e.type?e.addText||Ti("addContact"):[h("div",null,[`${Ti("name")}：${e.name}`]),h("div",null,[`${Ti("tel")}：${e.tel}`])];return()=>h(Xo,{center:!0,icon:"edit"===e.type?"contact":"add-square",class:Bi([e.type]),border:!1,isLink:e.editable,titleClass:Bi("title"),onClick:a},{title:o})}})),[Oi,Vi,Ai]=vt("contact-edit"),Ii={tel:"",name:""};const Pi=Bt(g({name:Oi,props:{isEdit:Boolean,isSaving:Boolean,isDeleting:Boolean,showSetDefault:Boolean,setDefaultLabel:String,contactInfo:{type:Object,default:()=>L({},Ii)},telValidator:{type:Function,default:Y}},emits:["save","delete","changeDefault"],setup(e,{emit:t}){const a=n(L({},Ii,e.contactInfo)),o=()=>{e.isSaving||t("save",a)},l=()=>t("delete",a),i=()=>h(kl,{modelValue:a.isDefault,"onUpdate:modelValue":e=>a.isDefault=e,onChange:e=>t("changeDefault",e)},null),r=()=>{if(e.showSetDefault)return h(Xo,{title:e.setDefaultLabel,class:Vi("switch-cell"),border:!1},{"right-icon":i})};return p(()=>e.contactInfo,e=>L(a,Ii,e)),()=>h(Ko,{class:Vi(),onSubmit:o},{default:()=>[h("div",{class:Vi("fields")},[h(il,{modelValue:a.name,"onUpdate:modelValue":e=>a.name=e,clearable:!0,label:Ai("name"),rules:[{required:!0,message:Ai("nameEmpty")}],maxlength:"30",placeholder:Ai("name")},null),h(il,{modelValue:a.tel,"onUpdate:modelValue":e=>a.tel=e,clearable:!0,type:"tel",label:Ai("tel"),rules:[{validator:e.telValidator,message:Ai("telInvalid")}],placeholder:Ai("tel")},null)]),r(),h("div",{class:Vi("buttons")},[h(na,{block:!0,round:!0,type:"primary",text:Ai("save"),class:Vi("button"),loading:e.isSaving,nativeType:"submit"},null),e.isEdit&&h(na,{block:!0,round:!0,text:Ai("delete"),class:Vi("button"),loading:e.isDeleting,onClick:l},null)])]})}})),[zi,$i,Ei]=vt("contact-list");const Mi=Bt(g({name:zi,props:{list:Array,addText:String,modelValue:K,defaultTagText:String},emits:["add","edit","select","update:modelValue"],setup(e,{emit:t}){const a=(a,o)=>h(Xo,{key:a.id,isLink:!0,center:!0,class:$i("item"),titleClass:$i("item-title"),onClick:()=>{t("update:modelValue",a.id),t("select",a,o)}},{icon:()=>h(Kt,{name:"edit",class:$i("edit"),onClick:e=>{e.stopPropagation(),t("edit",a,o)}},null),title:()=>{const t=[`${a.name}，${a.tel}`];return a.isDefault&&e.defaultTagText&&t.push(h(Yl,{type:"primary",round:!0,class:$i("item-tag")},{default:()=>[e.defaultTagText]})),t},"right-icon":()=>h(Kl,{class:$i("radio"),name:a.id,iconSize:18},null)});return()=>h("div",{class:$i()},[h(Ml,{modelValue:e.modelValue,class:$i("group")},{default:()=>[e.list&&e.list.map(a)]}),h("div",{class:[$i("bottom"),"van-safe-area-bottom"]},[h(na,{round:!0,block:!0,type:"primary",class:$i("add"),text:e.addText||Ei("addContact"),onClick:()=>t("add")},null)])])}}));const[Li,Fi]=vt("count-down");const Ri=Bt(g({name:Li,props:{time:ae(0),format:oe("HH:mm:ss"),autoStart:J,millisecond:Boolean},emits:["change","finish"],setup(e,{emit:t,slots:a}){const{start:l,pause:n,reset:i,current:r}=xe({time:+e.time,millisecond:e.millisecond,onChange:e=>t("change",e),onFinish:()=>t("finish")}),s=o(()=>function(e,t){const{days:a}=t;let{hours:o,minutes:l,seconds:n,milliseconds:i}=t;if(e.includes("DD")?e=e.replace("DD",Qe(a)):o+=24*a,e.includes("HH")?e=e.replace("HH",Qe(o)):l+=60*o,e.includes("mm")?e=e.replace("mm",Qe(l)):n+=60*l,e.includes("ss")?e=e.replace("ss",Qe(n)):i+=1e3*n,e.includes("S")){const t=Qe(i,3);e=e.includes("SSS")?e.replace("SSS",t):e.includes("SS")?e.replace("SS",t.slice(0,2)):e.replace("S",t.charAt(0))}return e}(e.format,r.value)),c=()=>{i(+e.time),e.autoStart&&l()};return p(()=>e.time,c,{immediate:!0}),Et({start:l,pause:n,reset:c}),()=>h("div",{role:"timer",class:Fi()},[a.default?a.default(r.value):s.value])}}));function Hi(e){const t=new Date(1e3*e);return`${t.getFullYear()}.${Qe(t.getMonth()+1)}.${Qe(t.getDate())}`}const ji=e=>(e/100).toFixed(e%100==0?0:e%10==0?1:2),[Ni,Wi,Yi]=vt("coupon");const Ui=Bt(g({name:Ni,props:{chosen:Boolean,coupon:Q(Object),disabled:Boolean,currency:oe("¥")},setup(e){const t=o(()=>{const{startAt:t,endAt:a}=e.coupon;return`${Hi(t)} - ${Hi(a)}`}),a=o(()=>{const{coupon:t,currency:a}=e;if(t.valueDesc)return[t.valueDesc,h("span",null,[t.unitDesc||""])];if(t.denominations){const e=ji(t.denominations);return[h("span",null,[a]),` ${e}`]}return t.discount?Yi("discount",((o=t.discount)/10).toFixed(o%10==0?0:1)):"";var o}),l=o(()=>{const t=ji(e.coupon.originCondition||0);return"0"===t?Yi("unlimited"):Yi("condition",t)});return()=>{const{chosen:o,coupon:n,disabled:i}=e,r=i&&n.reason||n.description;return h("div",{class:Wi({disabled:i})},[h("div",{class:Wi("content")},[h("div",{class:Wi("head")},[h("h2",{class:Wi("amount")},[a.value]),h("p",{class:Wi("condition")},[n.condition||l.value])]),h("div",{class:Wi("body")},[h("p",{class:Wi("name")},[n.name]),h("p",{class:Wi("valid")},[t.value]),!i&&h(Ql,{class:Wi("corner"),modelValue:o},null)])]),r&&h("p",{class:Wi("description")},[r])])}}})),[qi,Xi,Zi]=vt("coupon-cell"),Gi={title:String,border:J,editable:J,coupons:ee(),currency:oe("¥"),chosenCoupon:{type:[Number,Array],default:-1}};function Ki({coupons:e,chosenCoupon:t,currency:a}){let o=0,l=!1;return(Array.isArray(t)?t:[t]).forEach(t=>{const a=e[+t];a&&(l=!0,o+=(e=>{const{value:t,denominations:a}=e;return H(t)?t:H(a)?a:0})(a))}),l?`-${a} ${(o/100).toFixed(2)}`:0===e.length?Zi("noCoupon"):Zi("count",e.length)}const _i=Bt(g({name:qi,props:Gi,setup:e=>()=>{const t=Array.isArray(e.chosenCoupon)?e.chosenCoupon.length:e.coupons[+e.chosenCoupon];return h(Xo,{class:Xi(),value:Ki(e),title:e.title||Zi("title"),border:e.border,isLink:e.editable,valueClass:Xi("value",{selected:t})},null)}})),[Ji,Qi]=vt("empty");const er=Bt(g({name:Ji,props:{image:oe("default"),imageSize:[Number,String,Array],description:String},setup(e,{slots:t}){const a=()=>{const a=t.description?t.description():e.description;if(a)return h("p",{class:Qi("description")},[a])},o=()=>{if(t.default)return h("div",{class:Qi("bottom")},[t.default()])},l=Ka(),n=e=>`${l}-${e}`,i=e=>`url(#${n(e)})`,r=(e,t,a)=>h("stop",{"stop-color":e,offset:`${t}%`,"stop-opacity":a},null),s=(e,t)=>[r(e,0),r(t,100)],c=e=>[h("defs",null,[h("radialGradient",{id:n(e),cx:"50%",cy:"54%",fx:"50%",fy:"54%",r:"297%",gradientTransform:"matrix(-.16 0 0 -.33 .58 .72)","data-allow-mismatch":"attribute"},[r("#EBEDF0",0),r("#F2F3F5",100,.3)])]),h("ellipse",{fill:i(e),opacity:".8",cx:"80",cy:"140",rx:"46",ry:"8","data-allow-mismatch":"attribute"},null)],u=()=>[h("defs",null,[h("linearGradient",{id:n("a"),x1:"64%",y1:"100%",x2:"64%","data-allow-mismatch":"attribute"},[r("#FFF",0,.5),r("#F2F3F5",100)])]),h("g",{opacity:".8","data-allow-mismatch":"children"},[h("path",{d:"M36 131V53H16v20H2v58h34z",fill:i("a")},null),h("path",{d:"M123 15h22v14h9v77h-31V15z",fill:i("a")},null)])],d=()=>[h("defs",null,[h("linearGradient",{id:n("b"),x1:"64%",y1:"97%",x2:"64%",y2:"0%","data-allow-mismatch":"attribute"},[r("#F2F3F5",0,.3),r("#F2F3F5",100)])]),h("g",{opacity:".8","data-allow-mismatch":"children"},[h("path",{d:"M87 6c3 0 7 3 8 6a8 8 0 1 1-1 16H80a7 7 0 0 1-8-6c0-4 3-7 6-7 0-5 4-9 9-9Z",fill:i("b")},null),h("path",{d:"M19 23c2 0 3 1 4 3 2 0 4 2 4 4a4 4 0 0 1-4 3v1h-7v-1l-1 1c-2 0-3-2-3-4 0-1 1-3 3-3 0-2 2-4 4-4Z",fill:i("b")},null)])],p=()=>h("svg",{viewBox:"0 0 160 160"},[h("defs",{"data-allow-mismatch":"children"},[h("linearGradient",{id:n(1),x1:"64%",y1:"100%",x2:"64%"},[r("#FFF",0,.5),r("#F2F3F5",100)]),h("linearGradient",{id:n(2),x1:"50%",x2:"50%",y2:"84%"},[r("#EBEDF0",0),r("#DCDEE0",100,0)]),h("linearGradient",{id:n(3),x1:"100%",x2:"100%",y2:"100%"},[s("#EAEDF0","#DCDEE0")]),h("radialGradient",{id:n(4),cx:"50%",cy:"0%",fx:"50%",fy:"0%",r:"100%",gradientTransform:"matrix(0 1 -.54 0 .5 -.5)"},[r("#EBEDF0",0),r("#FFF",100,0)])]),h("g",{fill:"none"},[u(),h("path",{fill:i(4),d:"M0 139h160v21H0z","data-allow-mismatch":"attribute"},null),h("path",{d:"M80 54a7 7 0 0 1 3 13v27l-2 2h-2a2 2 0 0 1-2-2V67a7 7 0 0 1 3-13z",fill:i(2),"data-allow-mismatch":"attribute"},null),h("g",{opacity:".6","stroke-linecap":"round","stroke-width":"7","data-allow-mismatch":"children"},[h("path",{d:"M64 47a19 19 0 0 0-5 13c0 5 2 10 5 13",stroke:i(3)},null),h("path",{d:"M53 36a34 34 0 0 0 0 48",stroke:i(3)},null),h("path",{d:"M95 73a19 19 0 0 0 6-13c0-5-2-9-6-13",stroke:i(3)},null),h("path",{d:"M106 84a34 34 0 0 0 0-48",stroke:i(3)},null)]),h("g",{transform:"translate(31 105)"},[h("rect",{fill:"#EBEDF0",width:"98",height:"34",rx:"2"},null),h("rect",{fill:"#FFF",x:"9",y:"8",width:"80",height:"18",rx:"1.1"},null),h("rect",{fill:"#EBEDF0",x:"15",y:"12",width:"18",height:"6",rx:"1.1"},null)])])]),v=()=>h("svg",{viewBox:"0 0 160 160"},[h("defs",{"data-allow-mismatch":"children"},[h("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:n(5)},[s("#F2F3F5","#DCDEE0")]),h("linearGradient",{x1:"95%",y1:"48%",x2:"5.5%",y2:"51%",id:n(6)},[s("#EAEDF1","#DCDEE0")]),h("linearGradient",{y1:"45%",x2:"100%",y2:"54%",id:n(7)},[s("#EAEDF1","#DCDEE0")])]),u(),d(),h("g",{transform:"translate(36 50)",fill:"none"},[h("g",{transform:"translate(8)"},[h("rect",{fill:"#EBEDF0",opacity:".6",x:"38",y:"13",width:"36",height:"53",rx:"2"},null),h("rect",{fill:i(5),width:"64",height:"66",rx:"2","data-allow-mismatch":"attribute"},null),h("rect",{fill:"#FFF",x:"6",y:"6",width:"52",height:"55",rx:"1"},null),h("g",{transform:"translate(15 17)",fill:i(6),"data-allow-mismatch":"attribute"},[h("rect",{width:"34",height:"6",rx:"1"},null),h("path",{d:"M0 14h34v6H0z"},null),h("rect",{y:"28",width:"34",height:"6",rx:"1"},null)])]),h("rect",{fill:i(7),y:"61",width:"88",height:"28",rx:"1","data-allow-mismatch":"attribute"},null),h("rect",{fill:"#F7F8FA",x:"29",y:"72",width:"30",height:"6",rx:"1"},null)])]),m=()=>h("svg",{viewBox:"0 0 160 160"},[h("defs",null,[h("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:n(8),"data-allow-mismatch":"attribute"},[s("#EAEDF1","#DCDEE0")])]),u(),d(),c("c"),h("path",{d:"m59 60 21 21 21-21h3l9 9v3L92 93l21 21v3l-9 9h-3l-21-21-21 21h-3l-9-9v-3l21-21-21-21v-3l9-9h3Z",fill:i(8),"data-allow-mismatch":"attribute"},null)]),f=()=>h("svg",{viewBox:"0 0 160 160"},[h("defs",{"data-allow-mismatch":"children"},[h("linearGradient",{x1:"50%",y1:"100%",x2:"50%",id:n(9)},[s("#EEE","#D8D8D8")]),h("linearGradient",{x1:"100%",y1:"50%",y2:"50%",id:n(10)},[s("#F2F3F5","#DCDEE0")]),h("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:n(11)},[s("#F2F3F5","#DCDEE0")]),h("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:n(12)},[s("#FFF","#F7F8FA")])]),u(),d(),c("d"),h("g",{transform:"rotate(-45 113 -4)",fill:"none","data-allow-mismatch":"children"},[h("rect",{fill:i(9),x:"24",y:"52.8",width:"5.8",height:"19",rx:"1"},null),h("rect",{fill:i(10),x:"22.1",y:"67.3",width:"9.9",height:"28",rx:"1"},null),h("circle",{stroke:i(11),"stroke-width":"8",cx:"27",cy:"27",r:"27"},null),h("circle",{fill:i(12),cx:"27",cy:"27",r:"16"},null),h("path",{d:"M37 7c-8 0-15 5-16 12",stroke:i(11),"stroke-width":"3",opacity:".5","stroke-linecap":"round",transform:"rotate(45 29 13)"},null)])]),g=()=>{var a;if(t.image)return t.image();const o={error:m,search:f,network:p,default:v};return(null==(a=o[e.image])?void 0:a.call(o))||h("img",{src:e.image},null)};return()=>h("div",{class:Qi()},[h("div",{class:Qi("image"),style:qe(e.imageSize)},[g()]),a(),o()])}})),[tr,ar,or]=vt("coupon-list");const lr=Bt(g({name:tr,props:{code:oe(""),coupons:ee(),currency:oe("¥"),showCount:J,emptyImage:String,enabledTitle:String,disabledTitle:String,disabledCoupons:ee(),showExchangeBar:J,showCloseButton:J,closeButtonText:String,inputPlaceholder:String,exchangeMinLength:te(1),exchangeButtonText:String,displayedCouponIndex:te(-1),exchangeButtonLoading:Boolean,exchangeButtonDisabled:Boolean,chosenCoupon:{type:[Number,Array],default:-1}},emits:["change","exchange","update:code"],setup(e,{emit:t,slots:a}){const[n,i]=_a(),r=l(),s=l(),d=l(0),v=l(0),m=l(e.code),f=o(()=>!e.exchangeButtonLoading&&(e.exchangeButtonDisabled||!m.value||m.value.length<e.exchangeMinLength)),g=()=>{const e=ce(r).height,t=ce(s).height+44;v.value=(e>t?e:We.value)-t},b=()=>{t("exchange",m.value),e.code||(m.value="")},y=e=>{u(()=>{var t;return null==(t=n.value[e])?void 0:t.scrollIntoView()})},x=()=>h(er,{image:e.emptyImage},{default:()=>[h("p",{class:ar("empty-tip")},[or("noCoupon")])]}),w=()=>{if(e.showExchangeBar)return h("div",{ref:s,class:ar("exchange-bar")},[h(il,{modelValue:m.value,"onUpdate:modelValue":e=>m.value=e,clearable:!0,border:!1,class:ar("field"),placeholder:e.inputPlaceholder||or("placeholder"),maxlength:"20"},null),h(na,{plain:!0,type:"primary",class:ar("exchange"),text:e.exchangeButtonText||or("exchange"),loading:e.exchangeButtonLoading,disabled:f.value,onClick:b},null)])},C=()=>{const{coupons:o,chosenCoupon:l}=e,n=e.showCount?` (${o.length})`:"",r=(e.enabledTitle||or("enable"))+n;return h(Do,{title:r},{default:()=>{var n;return[h("div",{class:ar("list",{"with-bottom":e.showCloseButton}),style:{height:`${v.value}px`}},[o.map((a,o)=>h(Ui,{key:a.id,ref:i(o),coupon:a,chosen:Array.isArray(l)?l.includes(o):o===l,currency:e.currency,onClick:()=>t("change",Array.isArray(l)?((e=[],t=0)=>e.includes(t)?e.filter(e=>e!==t):[...e,t])(l,o):o)},null)),!o.length&&x(),null==(n=a["list-footer"])?void 0:n.call(a)])]}})},B=()=>{const{disabledCoupons:t}=e,o=e.showCount?` (${t.length})`:"",l=(e.disabledTitle||or("disabled"))+o;return h(Do,{title:l},{default:()=>{var o;return[h("div",{class:ar("list",{"with-bottom":e.showCloseButton}),style:{height:`${v.value}px`}},[t.map(t=>h(Ui,{disabled:!0,key:t.id,coupon:t,currency:e.currency},null)),!t.length&&x(),null==(o=a["disabled-list-footer"])?void 0:o.call(a)])]}})};return p(()=>e.code,e=>{m.value=e}),p(We,g),p(m,e=>t("update:code",e)),p(()=>e.displayedCouponIndex,y),c(()=>{g(),y(e.displayedCouponIndex)}),()=>h("div",{ref:r,class:ar()},[w(),h(Oo,{active:d.value,"onUpdate:active":e=>d.value=e,class:ar("tab")},{default:()=>[C(),B()]}),h("div",{class:ar("bottom")},[a["list-button"]?a["list-button"]():k(h(na,{round:!0,block:!0,type:"primary",class:ar("close"),text:e.closeButtonText||or("close"),onClick:()=>t("change",Array.isArray(e.chosenCoupon)?[]:-1)},null),[[S,e.showCloseButton]])])])}})),nr=(new Date).getFullYear(),[ir]=vt("date-picker");const rr=Bt(g({name:ir,props:L({},Pn,{columnsType:{type:Array,default:()=>["year","month","day"]},minDate:{type:Date,default:()=>new Date(nr-10,0,1),validator:W},maxDate:{type:Date,default:()=>new Date(nr+10,11,31),validator:W}}),emits:["confirm","cancel","change","update:modelValue"],setup(e,{emit:t,slots:a}){const n=l(e.modelValue),i=l(!1),r=l(),s=o(()=>i.value?e.modelValue:n.value),c=t=>t===e.minDate.getFullYear(),u=t=>t===e.maxDate.getFullYear(),d=t=>{const{minDate:a,columnsType:o}=e,l=o.indexOf(t),n=s.value[l];if(n)return+n;switch(t){case"year":return a.getFullYear();case"month":return a.getMonth()+1;case"day":return a.getDate()}},v=()=>{const t=d("year"),a=d("month"),o=c(t)&&(t=>t===e.minDate.getMonth()+1)(a)?e.minDate.getDate():1,l=u(t)&&(t=>t===e.maxDate.getMonth()+1)(a)?e.maxDate.getDate():$n(t,a);return En(o,l,"day",e.formatter,e.filter,s.value)},m=o(()=>e.columnsType.map(t=>{switch(t){case"year":return(()=>{const t=e.minDate.getFullYear(),a=e.maxDate.getFullYear();return En(t,a,"year",e.formatter,e.filter,s.value)})();case"month":return(()=>{const t=d("year"),a=c(t)?e.minDate.getMonth()+1:1,o=u(t)?e.maxDate.getMonth()+1:12;return En(a,o,"month",e.formatter,e.filter,s.value)})();case"day":return v();default:return[]}}));p(n,a=>{Z(a,e.modelValue)||t("update:modelValue",a)}),p(()=>e.modelValue,(e,t)=>{i.value=Z(t,n.value),e=Mn(e,m.value),Z(e,n.value)||(n.value=e),i.value=!1},{immediate:!0});const f=(...e)=>t("change",...e),g=(...e)=>t("cancel",...e),b=(...e)=>t("confirm",...e);return Et({confirm:()=>{var e;return null==(e=r.value)?void 0:e.confirm()},getSelectedDate:()=>n.value}),()=>h(Ho,y({ref:r,modelValue:n.value,"onUpdate:modelValue":e=>n.value=e,columns:m.value,onChange:f,onCancel:g,onConfirm:b},X(e,zn)),a)}})),[sr,cr,ur]=vt("dialog"),dr=L({},pa,{title:String,theme:String,width:_,message:[String,Function],callback:Function,allowHtml:Boolean,className:K,transition:oe("van-dialog-bounce"),messageAlign:String,closeOnPopstate:J,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:J,closeOnClickOverlay:Boolean,keyboardEnabled:J,destroyOnClose:Boolean}),pr=[...va,"transition","closeOnPopstate","destroyOnClose"];var vr=g({name:sr,props:dr,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:t,slots:a}){const o=l(),i=n({confirm:!1,cancel:!1}),r=e=>t("update:show",e),s=t=>{var a;r(!1),null==(a=e.callback)||a.call(e,t)},c=a=>()=>{e.show&&(t(a),e.beforeClose?(i[a]=!0,Ct(e.beforeClose,{args:[a],done(){s(a),i[a]=!1},canceled(){i[a]=!1}})):s(a))},u=c("cancel"),d=c("confirm"),p=z(a=>{var l,n;if(!e.keyboardEnabled)return;if(a.target!==(null==(n=null==(l=o.value)?void 0:l.popupRef)?void 0:n.value))return;({Enter:e.showConfirmButton?d:M,Escape:e.showCancelButton?u:M})[a.key](),t("keydown",a)},["enter","esc"]),v=()=>{const t=a.title?a.title():e.title;if(t)return h("div",{class:cr("header",{isolated:!e.message&&!a.default})},[t])},m=t=>{const{message:a,allowHtml:o,messageAlign:l}=e,n=cr("message",{"has-title":t,[l]:l}),i=j(a)?a():a;return o&&"string"==typeof i?h("div",{class:n,innerHTML:i},null):h("div",{class:n},[i])},f=()=>{if(a.default)return h("div",{class:cr("content")},[a.default()]);const{title:t,message:o,allowHtml:l}=e;if(o){const e=!(!t&&!a.title);return h("div",{key:l?1:0,class:cr("content",{isolated:!e})},[m(e)])}},g=()=>a.footer?a.footer():"round-button"===e.theme?h($t,{class:cr("footer")},{default:()=>[e.showCancelButton&&h(sa,{type:"warning",text:e.cancelButtonText||ur("cancel"),class:cr("cancel"),color:e.cancelButtonColor,loading:i.cancel,disabled:e.cancelButtonDisabled,onClick:u},null),e.showConfirmButton&&h(sa,{type:"danger",text:e.confirmButtonText||ur("confirm"),class:cr("confirm"),color:e.confirmButtonColor,loading:i.confirm,disabled:e.confirmButtonDisabled,onClick:d},null)]}):h("div",{class:[ft,cr("footer")]},[e.showCancelButton&&h(na,{size:"large",text:e.cancelButtonText||ur("cancel"),class:cr("cancel"),style:{color:e.cancelButtonColor},loading:i.cancel,disabled:e.cancelButtonDisabled,onClick:u},null),e.showConfirmButton&&h(na,{size:"large",text:e.confirmButtonText||ur("confirm"),class:[cr("confirm"),{[ht]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:i.confirm,disabled:e.confirmButtonDisabled,onClick:d},null)]);return()=>{const{width:t,title:a,theme:l,message:n,className:i}=e;return h(Ta,y({ref:o,role:"dialog",class:[cr([l]),i],style:{width:Ue(t)},tabindex:0,"aria-labelledby":a||n,onKeydown:p,"onUpdate:show":r},X(e,pr)),{default:()=>[v(),f(),g()]})}}});let mr;let fr=L({},{title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1,destroyOnClose:!1});function hr(e){return F?new Promise((t,a)=>{mr||function(){const e={setup(){const{state:e,toggle:t}=pl();return()=>h(vr,y(e,{"onUpdate:show":t}),null)}};({instance:mr}=vl(e))}(),mr.open(L({},fr,e,{callback:e=>{("confirm"===e?t:a)(e)}}))}):Promise.resolve(void 0)}const gr=e=>hr(L({showCancelButton:!0},e)),br=Bt(vr),[yr,xr]=vt("divider");const wr=Bt(g({name:yr,props:{dashed:Boolean,hairline:J,vertical:Boolean,contentPosition:oe("center")},setup:(e,{slots:t})=>()=>{var a;return h("div",{role:"separator",class:xr({dashed:e.dashed,hairline:e.hairline,vertical:e.vertical,[`content-${e.contentPosition}`]:!!t.default&&!e.vertical})},[!e.vertical&&(null==(a=t.default)?void 0:a.call(t))])}})),[kr,Sr]=vt("dropdown-menu"),Cr={overlay:J,zIndex:_,duration:ae(.2),direction:oe("down"),activeColor:String,autoLocate:Boolean,closeOnClickOutside:J,closeOnClickOverlay:J,swipeThreshold:_},Br=Symbol(kr);var Tr=g({name:kr,props:Cr,setup(e,{slots:t}){const a=Ka(),n=l(),i=l(),r=l(0),{children:s,linkChildren:c}=ve(Br),u=Ve(n),d=o(()=>s.some(e=>e.state.showWrapper)),p=o(()=>e.swipeThreshold&&s.length>+e.swipeThreshold),v=o(()=>{if(d.value&&H(e.zIndex))return{zIndex:+e.zIndex+1}}),m=()=>{s.forEach(e=>{e.toggle(!1)})},f=()=>{if(i.value){const t=ce(i);"down"===e.direction?r.value=t.bottom:r.value=We.value-t.top}},g=(t,o)=>{const{showPopup:l}=t.state,{disabled:n,titleClass:i}=t;return h("div",{id:`${a}-${o}`,role:"button",tabindex:n?void 0:0,"data-allow-mismatch":"attribute",class:[Sr("item",{disabled:n,grow:p.value}),{[kt]:!n}],onClick:()=>{var e;n||(e=o,s.forEach((t,a)=>{a===e?t.toggle():t.state.showPopup&&t.toggle(!1,{immediate:!0})}))}},[h("span",{class:[Sr("title",{down:l===("down"===e.direction),active:l}),i],style:{color:l?e.activeColor:""}},[h("div",{class:"van-ellipsis"},[t.renderTitle()])])])};return Et({close:m,opened:d}),c({id:a,props:e,offset:r,opened:d,updateOffset:f}),Se(n,()=>{e.closeOnClickOutside&&m()}),ke("scroll",()=>{d.value&&f()},{target:u,passive:!0}),()=>{var e;return h("div",{ref:n,class:Sr()},[h("div",{ref:i,style:v.value,class:Sr("bar",{opened:d.value,scrollable:p.value})},[s.map(g)]),null==(e=t.default)?void 0:e.call(t)])}}});const[Dr,Or]=vt("dropdown-item");const Vr=Bt(g({name:Dr,inheritAttrs:!1,props:{title:String,options:ee(),disabled:Boolean,teleport:[String,Object],lazyRender:J,modelValue:K,titleClass:K},emits:["open","opened","close","closed","change","update:modelValue"],setup(e,{emit:t,slots:a,attrs:o}){const i=n({showPopup:!1,transition:!0,showWrapper:!1}),r=l(),{parent:s,index:c}=ue(Br);if(!s)return;const u=e=>()=>t(e),d=u("open"),p=u("close"),v=u("opened"),m=()=>{i.showWrapper=!1,t("closed")},f=t=>{e.teleport&&t.stopPropagation()},g=a=>{const{activeColor:o}=s.props,{disabled:l}=a,n=a.value===e.modelValue;return h(Xo,{role:"menuitem",key:String(a.value),icon:a.icon,title:a.text,class:Or("option",{active:n,disabled:l}),style:{color:n?o:""},tabindex:n?0:-1,clickable:!l,onClick:()=>{l||(i.showPopup=!1,a.value!==e.modelValue&&(t("update:modelValue",a.value),t("change",a.value)))}},{value:()=>{if(n)return h(Kt,{class:Or("icon"),color:l?void 0:o,name:"success"},null)}})},b=()=>{const{offset:t}=s,{autoLocate:l,zIndex:n,overlay:u,duration:b,direction:x,closeOnClickOverlay:w}=s.props,C=Xe(n);let B=t.value;if(l&&r.value){const e=function(e){let t=e.parentElement;for(;t;){if(t&&"HTML"!==t.tagName&&"BODY"!==t.tagName&&Ye(t))return t;t=t.parentElement}return null}(r.value);e&&(B-=ce(e).top)}return"down"===x?C.top=`${B}px`:C.bottom=`${B}px`,k(h("div",y({ref:r,style:C,class:Or([x]),onClick:f},o),[h(Ta,{show:i.showPopup,"onUpdate:show":e=>i.showPopup=e,role:"menu",class:Or("content"),overlay:u,overlayProps:{duration:i.transition&&!s.opened.value?b:0},position:"down"===x?"top":"bottom",duration:i.transition?b:0,lazyRender:e.lazyRender,overlayStyle:{position:"absolute"},"aria-labelledby":`${s.id}-${c.value}`,"data-allow-mismatch":"attribute",closeOnClickOverlay:w,onOpen:d,onClose:p,onOpened:v,onClosed:m},{default:()=>{var t;return[e.options.map(g),null==(t=a.default)?void 0:t.call(a)]}})]),[[S,i.showWrapper]])};return Et({state:i,toggle:(e=!i.showPopup,t={})=>{e!==i.showPopup&&(i.showPopup=e,i.transition=!t.immediate,e&&(s.updateOffset(),i.showWrapper=!0))},renderTitle:()=>{if(a.title)return a.title();if(e.title)return e.title;const t=e.options.find(t=>t.value===e.modelValue);return t?t.text:""}}),()=>e.teleport?h(w,{to:e.teleport},{default:()=>[b()]}):b()}})),Ar=Bt(Tr),Ir={gap:{type:[Number,Object],default:24},icon:String,axis:oe("y"),magnetic:String,offset:Object,teleport:{type:[String,Object],default:"body"}},[Pr,zr]=vt("floating-bubble");const $r=Bt(g({name:Pr,inheritAttrs:!1,props:Ir,emits:["click","update:offset","offsetChange"],setup(e,{slots:t,emit:a,attrs:n}){const i=l(),d=l({x:0,y:0,width:0,height:0}),v=o(()=>R(e.gap)?e.gap.x:e.gap),m=o(()=>R(e.gap)?e.gap.y:e.gap),f=o(()=>({top:m.value,right:Ne.value-d.value.width-v.value,bottom:We.value-d.value.height-m.value,left:v.value})),g=l(!1);let b=!1;const x=o(()=>{const e={},t=Ue(d.value.x),a=Ue(d.value.y);return e.transform=`translate3d(${t}, ${a}, 0)`,!g.value&&b||(e.transition="none"),e}),C=()=>{if(!I.value)return;const{width:t,height:a}=ce(i.value),{offset:o}=e;d.value={x:o?o.x:Ne.value-t-v.value,y:o?o.y:We.value-a-m.value,width:t,height:a}},B=ma();let T=0,D=0;const O=e=>{B.start(e),g.value=!0,T=d.value.x,D=d.value.y};ke("touchmove",t=>{if(t.preventDefault(),B.move(t),"lock"!==e.axis&&!B.isTap.value){if("x"===e.axis||"xy"===e.axis){let e=T+B.deltaX.value;e<f.value.left&&(e=f.value.left),e>f.value.right&&(e=f.value.right),d.value.x=e}if("y"===e.axis||"xy"===e.axis){let e=D+B.deltaY.value;e<f.value.top&&(e=f.value.top),e>f.value.bottom&&(e=f.value.bottom),d.value.y=e}const t=X(d.value,["x","y"]);a("update:offset",t)}},{target:i});const V=()=>{g.value=!1,u(()=>{if("x"===e.magnetic){const e=Tt([f.value.left,f.value.right],d.value.x);d.value.x=e}if("y"===e.magnetic){const e=Tt([f.value.top,f.value.bottom],d.value.y);d.value.y=e}if(!B.isTap.value){const e=X(d.value,["x","y"]);a("update:offset",e),T===e.x&&D===e.y||a("offsetChange",e)}})},A=e=>{B.isTap.value?a("click",e):e.stopPropagation()};c(()=>{C(),u(()=>{b=!0})}),p([Ne,We,v,m,()=>e.offset],C,{deep:!0});const I=l(!0);return r(()=>{I.value=!0}),s(()=>{e.teleport&&(I.value=!1)}),()=>{const a=k(h("div",y({class:zr(),ref:i,onTouchstartPassive:O,onTouchend:V,onTouchcancel:V,onClickCapture:A,style:x.value},n),[t.default?t.default():h(_t,{name:e.icon,class:zr("icon")},null)]),[[S,I.value]]);return e.teleport?h(w,{to:e.teleport},{default:()=>[a]}):a}}})),Er={height:ae(0),anchors:ee(),duration:ae(.3),contentDraggable:J,lockScroll:Boolean,safeAreaInsetBottom:J},[Mr,Lr]=vt("floating-panel");const Fr=Bt(g({name:Mr,props:Er,emits:["heightChange","update:height"],setup(e,{emit:t,slots:a}){const n=l(),i=l(),r=Za(()=>+e.height,e=>t("update:height",e)),s=o(()=>{var t,a;return{min:null!=(t=e.anchors[0])?t:100,max:null!=(a=e.anchors[e.anchors.length-1])?a:Math.round(.6*We.value)}}),c=o(()=>e.anchors.length>=2?e.anchors:[s.value.min,s.value.max]),u=l(!1),d=o(()=>({height:Ue(s.value.max),transform:`translateY(calc(100% + ${Ue(-r.value)}))`,transition:u.value?"none":`transform ${e.duration}s cubic-bezier(0.18, 0.89, 0.32, 1.28)`}));let v,m=-1;const f=ma(),g=e=>{f.start(e),u.value=!0,v=-r.value,m=-1},b=()=>{m=-1,u.value=!1,r.value=Tt(c.value,r.value),r.value!==-v&&t("heightChange",{height:r.value})};p(s,()=>{r.value=Tt(c.value,r.value)},{immediate:!0}),ga(n,()=>e.lockScroll||u.value),ke("touchmove",t=>{var a;f.move(t);const o=t.target;if(i.value===o||(null==(a=i.value)?void 0:a.contains(o))){const{scrollTop:a}=i.value;if(m=Math.max(m,a),!e.contentDraggable)return;if(-v<s.value.max)He(t,!0);else if(!(a<=0&&f.deltaY.value>0)||m>0)return}const l=f.deltaY.value+v;r.value=-(e=>{const t=Math.abs(e),{min:a,max:o}=s.value;return t>o?-(o+.2*(t-o)):t<a?-(a-.2*(a-t)):e})(l)},{target:n});return()=>{var t;return h("div",{class:[Lr(),{"van-safe-area-bottom":e.safeAreaInsetBottom}],ref:n,style:d.value,onTouchstartPassive:g,onTouchend:b,onTouchcancel:b},[a.header?a.header():h("div",{class:Lr("header")},[h("div",{class:Lr("header-bar")},null)]),h("div",{class:Lr("content"),ref:i},[null==(t=a.default)?void 0:t.call(a)])])}}})),[Rr,Hr]=vt("grid"),jr={square:Boolean,center:J,border:J,gutter:_,reverse:Boolean,iconSize:_,direction:String,clickable:Boolean,columnNum:ae(4)},Nr=Symbol(Rr);const Wr=Bt(g({name:Rr,props:jr,setup(e,{slots:t}){const{linkChildren:a}=ve(Nr);return a({props:e}),()=>{var a;return h("div",{style:{paddingLeft:Ue(e.gutter)},class:[Hr(),{[ft]:e.border&&!e.gutter}]},[null==(a=t.default)?void 0:a.call(t)])}}})),[Yr,Ur]=vt("grid-item");const qr=Bt(g({name:Yr,props:L({},Mt,{dot:Boolean,text:String,icon:String,badge:_,iconColor:String,iconPrefix:String,badgeProps:Object}),setup(e,{slots:t}){const{parent:a,index:l}=ue(Nr),n=Ft();if(!a)return;const i=o(()=>{const{square:e,gutter:t,columnNum:o}=a.props,n=100/+o+"%",i={flexBasis:n};if(e)i.paddingTop=n;else if(t){const e=Ue(t);i.paddingRight=e,l.value>=+o&&(i.marginTop=e)}return i}),r=o(()=>{const{square:e,gutter:t}=a.props;if(e&&t){const e=Ue(t);return{right:e,bottom:e,height:"auto"}}});return()=>{const{center:o,border:l,square:s,gutter:c,reverse:u,direction:d,clickable:p}=a.props,v=[Ur("content",[d,{center:o,square:s,reverse:u,clickable:p,surround:l&&c}]),{[mt]:l}];return h("div",{class:[Ur({square:s})],style:i.value},[h("div",{role:p?"button":void 0,class:v,style:r.value,tabindex:p?0:void 0,onClick:n},[t.default?t.default():[t.icon?h(jt,y({dot:e.dot,content:e.badge},e.badgeProps),{default:t.icon}):e.icon?h(Kt,{dot:e.dot,name:e.icon,size:a.props.iconSize,badge:e.badge,class:Ur("icon"),color:e.iconColor,badgeProps:e.badgeProps,classPrefix:e.iconPrefix},null):void 0,t.text?t.text():e.text?h("span",{class:Ur("text")},[e.text]):void 0]])])}}})),[Xr,Zr]=vt("highlight");const Gr=Bt(g({name:Xr,props:{autoEscape:J,caseSensitive:Boolean,highlightClass:String,highlightTag:oe("span"),keywords:Q([String,Array]),sourceString:oe(""),tag:oe("div"),unhighlightClass:String,unhighlightTag:oe("span")},setup(e){const t=o(()=>{const{autoEscape:t,caseSensitive:a,keywords:o,sourceString:l}=e,n=a?"g":"gi";let i=(Array.isArray(o)?o:[o]).filter(e=>e).reduce((e,a)=>{t&&(a=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"));const o=new RegExp(a,n);let i;for(;i=o.exec(l);){const t=i.index,a=o.lastIndex;t>=a?o.lastIndex++:e.push({start:t,end:a,highlight:!0})}return e},[]);i=i.sort((e,t)=>e.start-t.start).reduce((e,t)=>{const a=e[e.length-1];if(!a||t.start>a.end){const o=a?a.end:0,l=t.start;o!==l&&e.push({start:o,end:l,highlight:!1}),e.push(t)}else a.end=Math.max(a.end,t.end);return e},[]);const r=i[i.length-1];return r||i.push({start:0,end:l.length,highlight:!1}),r&&r.end<l.length&&i.push({start:r.end,end:l.length,highlight:!1}),i}),a=()=>{const{sourceString:a,highlightClass:o,unhighlightClass:l,highlightTag:n,unhighlightTag:i}=e;return t.value.map(e=>{const{start:t,end:r,highlight:s}=e,c=a.slice(t,r);return s?h(n,{class:[Zr("tag"),o]},{default:()=>[c]}):h(i,{class:l},{default:()=>[c]})})};return()=>{const{tag:t}=e;return h(t,{class:Zr()},{default:()=>[a()]})}}})),Kr=e=>Math.sqrt((e[0].clientX-e[1].clientX)**2+(e[0].clientY-e[1].clientY)**2),_r=vt("image-preview")[1];var Jr=g({props:{src:String,show:Boolean,active:Number,minZoom:Q(_),maxZoom:Q(_),rootWidth:Q(Number),rootHeight:Q(Number),disableZoom:Boolean,doubleScale:Boolean,closeOnClickImage:Boolean,closeOnClickOverlay:Boolean,vertical:Boolean},emits:["scale","close","longPress"],setup(e,{emit:t,slots:a}){const i=n({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,initializing:!1,imageRatio:0}),r=ma(),s=l(),c=l(),u=l(!1),d=l(!1);let v=0;const m=o(()=>{const{scale:e,moveX:t,moveY:a,moving:o,zooming:l,initializing:n}=i,r={transitionDuration:l||o||n?"0s":".3s"};return(1!==e||d.value)&&(r.transform=`matrix(${e}, 0, 0, ${e}, ${t}, ${a})`),r}),f=o(()=>{if(i.imageRatio){const{rootWidth:t,rootHeight:a}=e,o=u.value?a/i.imageRatio:t;return Math.max(0,(i.scale*o-t)/2)}return 0}),g=o(()=>{if(i.imageRatio){const{rootWidth:t,rootHeight:a}=e,o=u.value?a:t*i.imageRatio;return Math.max(0,(i.scale*o-a)/2)}return 0}),b=(a,o)=>{var l;if((a=et(a,+e.minZoom,+e.maxZoom+1))!==i.scale){const n=a/i.scale;if(i.scale=a,o){const e=ce(null==(l=s.value)?void 0:l.$el),t={x:.5*e.width,y:.5*e.height},a=i.moveX-(o.x-e.left-t.x)*(n-1),r=i.moveY-(o.y-e.top-t.y)*(n-1);i.moveX=et(a,-f.value,f.value),i.moveY=et(r,-g.value,g.value)}else i.moveX=0,i.moveY=d.value?v:0;t("scale",{scale:a,index:e.active})}},y=()=>{b(1)};let x,w,k,S,C,B,T,D,O=!1;const V=t=>{const{touches:a}=t;if(x=a.length,2===x&&e.disableZoom)return;const{offsetX:o}=r;r.start(t),w=i.moveX,k=i.moveY,D=Date.now(),O=!1,i.moving=1===x&&(1!==i.scale||d.value),i.zooming=2===x&&!o.value,i.zooming&&(S=i.scale,C=Kr(a))},A=a=>{var o;const l=null==(o=c.value)?void 0:o.$el;if(!l)return;const n=l.firstElementChild,i=a.target===l,r=null==n?void 0:n.contains(a.target);!e.closeOnClickImage&&r||!e.closeOnClickOverlay&&i||t("close")},I=a=>{if(x>1)return;const o=Date.now()-D;r.isTap.value&&(o<250?e.doubleScale?T?(clearTimeout(T),T=null,(()=>{const e=i.scale>1?1:2;b(e,2===e||d.value?{x:r.startX.value,y:r.startY.value}:void 0)})()):T=setTimeout(()=>{A(a),T=null},250):A(a):o>500&&t("longPress"))},P=t=>{let a=!1;if((i.moving||i.zooming)&&(a=!0,i.moving&&w===i.moveX&&k===i.moveY&&(a=!1),!t.touches.length)){i.zooming&&(i.moveX=et(i.moveX,-f.value,f.value),i.moveY=et(i.moveY,-g.value,g.value),i.zooming=!1),i.moving=!1,w=0,k=0,S=1,i.scale<1&&y();const t=+e.maxZoom;i.scale>t&&b(t,B)}He(t,a),I(t),r.reset()},z=()=>{const{rootWidth:t,rootHeight:a}=e,o=a/t,{imageRatio:l}=i;u.value=i.imageRatio>o&&l<2.6,d.value=i.imageRatio>o&&l>=2.6,d.value&&(v=(l*t-a)/2,i.moveY=v,i.initializing=!0,ne(()=>{i.initializing=!1})),y()},$=e=>{const{naturalWidth:t,naturalHeight:a}=e.target;i.imageRatio=a/t,z()};return p(()=>e.active,y),p(()=>e.show,e=>{e||y()}),p(()=>[e.rootWidth,e.rootHeight],z),ke("touchmove",t=>{const{touches:a}=t;if(r.move(t),i.moving){const{deltaX:a,deltaY:o}=r,l=a.value+w,n=o.value+k;if((e.vertical?r.isVertical()&&Math.abs(n)>g.value:r.isHorizontal()&&Math.abs(l)>f.value)&&!O)return void(i.moving=!1);O=!0,He(t,!0),i.moveX=et(l,-f.value,f.value),i.moveY=et(n,-g.value,g.value)}if(i.zooming&&(He(t,!0),2===a.length)){const e=Kr(a),t=S*e/C;B=(e=>({x:(e[0].clientX+e[1].clientX)/2,y:(e[0].clientY+e[1].clientY)/2}))(a),b(t,B)}},{target:o(()=>{var e;return null==(e=c.value)?void 0:e.$el})}),Et({resetScale:y}),()=>{const t={loading:()=>h(aa,{type:"spinner"},null)};return h(Co,{ref:c,class:_r("swipe-item"),onTouchstartPassive:V,onTouchend:P,onTouchcancel:P},{default:()=>[a.image?h("div",{class:_r("image-wrap")},[a.image({src:e.src,onLoad:$,style:m.value})]):h(qn,{ref:s,src:e.src,fit:"contain",class:_r("image",{vertical:u.value}),style:m.value,onLoad:$},t)]})}}});const[Qr,es]=vt("image-preview"),ts=["show","teleport","transition","overlayStyle","closeOnPopstate"];var as=g({name:Qr,props:{show:Boolean,loop:J,images:ee(),minZoom:ae(1/3),maxZoom:ae(3),overlay:J,vertical:Boolean,closeable:Boolean,showIndex:J,className:K,closeIcon:oe("clear"),transition:String,beforeClose:Function,doubleScale:J,overlayClass:K,overlayStyle:Object,swipeDuration:ae(300),startPosition:ae(0),showIndicators:Boolean,closeOnPopstate:J,closeOnClickImage:J,closeOnClickOverlay:J,closeIconPosition:oe("top-right"),teleport:[String,Object]},emits:["scale","close","closed","change","longPress","update:show"],setup(e,{emit:t,slots:a}){const o=l(),i=l(),r=n({active:0,rootWidth:0,rootHeight:0,disableZoom:!1}),s=()=>{if(o.value){const e=ce(o.value.$el);r.rootWidth=e.width,r.rootHeight=e.height,o.value.resize()}},d=e=>t("scale",e),v=e=>t("update:show",e),m=()=>{Ct(e.beforeClose,{args:[r.active],done:()=>v(!1)})},f=e=>{e!==r.active&&(r.active=e,t("change",e))},g=()=>{if(e.showIndex)return h("div",{class:es("index")},[a.index?a.index({index:r.active}):`${r.active+1} / ${e.images.length}`])},b=()=>{if(a.cover)return h("div",{class:es("cover")},[a.cover()])},x=()=>{r.disableZoom=!0},w=()=>{r.disableZoom=!1},k=()=>{if(e.closeable)return h(Kt,{role:"button",name:e.closeIcon,class:[es("close-icon",e.closeIconPosition),kt],onClick:m},null)},S=()=>t("closed"),C=(e,t)=>{var a;return null==(a=o.value)?void 0:a.swipeTo(e,t)};return Et({resetScale:()=>{var e;null==(e=i.value)||e.resetScale()},swipeTo:C}),c(s),p([Ne,We],s),p(()=>e.startPosition,e=>f(+e)),p(()=>e.show,a=>{const{images:o,startPosition:l}=e;a?(f(+l),u(()=>{s(),C(+l,{immediate:!0})})):t("close",{index:r.active,url:o[r.active]})}),()=>h(Ta,y({class:[es(),e.className],overlayClass:[es("overlay"),e.overlayClass],onClosed:S,"onUpdate:show":v},X(e,ts)),{default:()=>[k(),h(io,{ref:o,lazyRender:!0,loop:e.loop,class:es("swipe"),vertical:e.vertical,duration:e.swipeDuration,initialSwipe:e.startPosition,showIndicators:e.showIndicators,indicatorColor:"white",onChange:f,onDragEnd:w,onDragStart:x},{default:()=>[e.images.map((o,l)=>h(Jr,{ref:e=>{l===r.active&&(i.value=e)},src:o,show:e.show,active:r.active,maxZoom:e.maxZoom,minZoom:e.minZoom,rootWidth:r.rootWidth,rootHeight:r.rootHeight,disableZoom:r.disableZoom,doubleScale:e.doubleScale,closeOnClickImage:e.closeOnClickImage,closeOnClickOverlay:e.closeOnClickOverlay,vertical:e.vertical,onScale:d,onClose:m,onLongPress:()=>t("longPress",{index:l})},{image:a.image}))]}),g(),b()]})}});let os;const ls={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,vertical:!1,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,doubleScale:!0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeOnClickOverlay:!0,closeIconPosition:"top-right"};const ns=(e,t=0)=>{if(F)return os||({instance:os}=vl({setup(){const{state:e,toggle:t}=pl(),a=()=>{e.images=[]};return()=>h(as,y(e,{onClosed:a,"onUpdate:show":t}),null)}})),e=Array.isArray(e)?{images:e,startPosition:t}:e,os.open(L({},ls,e)),os},is=Bt(as);const[rs,ss]=vt("index-bar"),cs={sticky:J,zIndex:_,teleport:[String,Object],highlightColor:String,stickyOffsetTop:te(0),indexList:{type:Array,default:function(){const e="A".charCodeAt(0);return Array(26).fill("").map((t,a)=>String.fromCharCode(e+a))}}},us=Symbol(rs);var ds=g({name:rs,props:cs,emits:["select","change"],setup(e,{emit:t,slots:a}){const n=l(),i=l(),r=l(""),s=ma(),d=Ve(n),{children:v,linkChildren:m}=ve(us);let f;m({props:e});const g=o(()=>{if(H(e.zIndex))return{zIndex:+e.zIndex+1}}),b=o(()=>{if(e.highlightColor)return{color:e.highlightColor}}),y=(t,a)=>{for(let o=v.length-1;o>=0;o--){const l=o>0?a[o-1].height:0;if(t+(e.sticky?l+e.stickyOffsetTop:0)>=a[o].top)return o}return-1},x=e=>v.find(t=>String(t.index)===e),k=()=>{if(je(n))return;const{sticky:t,indexList:a}=e,o=Pe(d.value),l=ce(d),i=v.map(e=>e.getRect(d.value,l));let s=-1;if(f){const t=x(f);if(t){const a=t.getRect(d.value,l);s=e.sticky&&e.stickyOffsetTop?y(a.top-e.stickyOffsetTop,i):y(a.top,i)}}else s=y(o,i);r.value=a[s],t&&v.forEach((t,a)=>{const{state:n,$el:r}=t;if(a===s||a===s-1){const e=r.getBoundingClientRect();n.left=e.left,n.width=e.width}else n.left=null,n.width=null;if(a===s)n.active=!0,n.top=Math.max(e.stickyOffsetTop,i[a].top-o)+l.top;else if(a===s-1&&""===f){const e=i[s].top-o;n.active=e>0,n.top=e+l.top-i[a].height}else n.active=!1}),f=""},S=()=>{u(k)};ke("scroll",k,{target:d,passive:!0}),c(S),p(()=>e.indexList,S),p(r,e=>{e&&t("change",e)});const C=a=>{f=String(a);const o=x(f);if(o){const a=Pe(d.value),l=ce(d),{offsetHeight:n}=document.documentElement;if(o.$el.scrollIntoView(),a===n-l.height)return void k();e.sticky&&e.stickyOffsetTop&&($e()===n-l.height?Ee($e()):Ee($e()-e.stickyOffsetTop)),t("select",o.index)}},B=e=>{const{index:t}=e.dataset;t&&C(t)},T=e=>{B(e.target)};let D;const O=()=>h("div",{ref:i,class:ss("sidebar"),style:g.value,onClick:T,onTouchstartPassive:s.start},[e.indexList.map(e=>{const t=e===r.value;return h("span",{class:ss("index",{active:t}),style:t?b.value:void 0,"data-index":e},[e])})]);return Et({scrollTo:C}),ke("touchmove",e=>{if(s.move(e),s.isVertical()){He(e);const{clientX:t,clientY:a}=e.touches[0],o=document.elementFromPoint(t,a);if(o){const{index:e}=o.dataset;e&&D!==e&&(D=e,B(o))}}},{target:i}),()=>{var t;return h("div",{ref:n,class:ss()},[e.teleport?h(w,{to:e.teleport},{default:()=>[O()]}):O(),null==(t=a.default)?void 0:t.call(a)])}}});const[ps,vs]=vt("index-anchor");const ms=Bt(g({name:ps,props:{index:_},setup(e,{slots:t}){const a=n({top:0,left:null,rect:{top:0,height:0},width:null,active:!1}),i=l(),{parent:r}=ue(us);if(!r)return;const s=()=>a.active&&r.props.sticky,c=o(()=>{const{zIndex:e,highlightColor:t}=r.props;if(s())return L(Xe(e),{left:a.left?`${a.left}px`:void 0,width:a.width?`${a.width}px`:void 0,transform:a.top?`translate3d(0, ${a.top}px, 0)`:void 0,color:t})});return Et({state:a,getRect:(e,t)=>{const o=ce(i);return a.rect.height=o.height,e===window||e===document.body?a.rect.top=o.top+$e():a.rect.top=o.top+Pe(e)-t.top,a.rect}}),()=>{const o=s();return h("div",{ref:i,style:{height:o?`${a.rect.height}px`:void 0}},[h("div",{style:c.value,class:[vs({sticky:o}),{[bt]:o}]},[t.default?t.default():e.index])])}}})),fs=Bt(ds),[hs,gs,bs]=vt("list");const ys=Bt(g({name:hs,props:{error:Boolean,offset:ae(300),loading:Boolean,disabled:Boolean,finished:Boolean,scroller:Object,errorText:String,direction:oe("down"),loadingText:String,finishedText:String,immediateCheck:J},emits:["load","update:error","update:loading"],setup(e,{emit:t,slots:a}){const n=l(e.loading),i=l(),r=l(),s=bo(),d=Ve(i),v=o(()=>e.scroller||d.value),m=()=>{u(()=>{if(n.value||e.finished||e.disabled||e.error||!1===(null==s?void 0:s.value))return;const{direction:a}=e,o=+e.offset,l=ce(v);if(!l.height||je(i))return;let c=!1;const u=ce(r);c="up"===a?l.top-u.top<=o:u.bottom-l.bottom<=o,c&&(n.value=!0,t("update:loading",!0),t("load"))})},f=()=>{if(e.finished){const t=a.finished?a.finished():e.finishedText;if(t)return h("div",{class:gs("finished-text")},[t])}},g=()=>{t("update:error",!1),m()},b=()=>{if(e.error){const t=a.error?a.error():e.errorText;if(t)return h("div",{role:"button",class:gs("error-text"),tabindex:0,onClick:g},[t])}},y=()=>{if(n.value&&!e.finished&&!e.disabled)return h("div",{class:gs("loading")},[a.loading?a.loading():h(aa,{class:gs("loading-icon")},{default:()=>[e.loadingText||bs("loading")]})])};return p(()=>[e.loading,e.finished,e.error],m),s&&p(s,e=>{e&&m()}),$(()=>{n.value=e.loading}),c(()=>{e.immediateCheck&&m()}),Et({check:m}),ke("scroll",m,{target:v,passive:!0}),()=>{var t;const o=null==(t=a.default)?void 0:t.call(a),l=h("div",{ref:r,class:gs("placeholder")},null);return h("div",{ref:i,role:"feed",class:gs(),"aria-busy":n.value},["down"===e.direction?o:l,y(),f(),b(),"up"===e.direction?o:l])}}})),[xs,ws]=vt("nav-bar");const ks=Bt(g({name:xs,props:{title:String,fixed:Boolean,zIndex:_,border:J,leftText:String,rightText:String,leftDisabled:Boolean,rightDisabled:Boolean,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean,clickable:J},emits:["clickLeft","clickRight"],setup(e,{emit:t,slots:a}){const o=l(),n=At(o,ws),i=a=>{e.leftDisabled||t("clickLeft",a)},r=a=>{e.rightDisabled||t("clickRight",a)},s=()=>{const{title:t,fixed:l,border:n,zIndex:s}=e,c=Xe(s),u=e.leftArrow||e.leftText||a.left,d=e.rightText||a.right;return h("div",{ref:o,style:c,class:[ws({fixed:l}),{[bt]:n,"van-safe-area-top":e.safeAreaInsetTop}]},[h("div",{class:ws("content")},[u&&h("div",{class:[ws("left",{disabled:e.leftDisabled}),e.clickable&&!e.leftDisabled?kt:""],onClick:i},[a.left?a.left():[e.leftArrow&&h(Kt,{class:ws("arrow"),name:"arrow-left"},null),e.leftText&&h("span",{class:ws("text")},[e.leftText])]]),h("div",{class:[ws("title"),"van-ellipsis"]},[a.title?a.title():t]),d&&h("div",{class:[ws("right",{disabled:e.rightDisabled}),e.clickable&&!e.rightDisabled?kt:""],onClick:r},[a.right?a.right():h("span",{class:ws("text")},[e.rightText])])])])};return()=>e.fixed&&e.placeholder?n(s):s()}})),[Ss,Cs]=vt("notice-bar");const Bs=Bt(g({name:Ss,props:{text:String,mode:String,color:String,delay:ae(1),speed:ae(60),leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null}},emits:["close","replay"],setup(e,{emit:t,slots:a}){let o,i=0,r=0;const s=l(),c=l(),u=n({show:!0,offset:0,duration:0}),d=a=>{"closeable"===e.mode&&(u.show=!1,t("close",a))},v=()=>{if(a["right-icon"])return a["right-icon"]();const t="closeable"===e.mode?"cross":"link"===e.mode?"arrow":void 0;return t?h(Kt,{name:t,class:Cs("right-icon"),onClick:d},null):void 0},m=()=>{u.offset=i,u.duration=0,ne(()=>{re(()=>{u.offset=-r,u.duration=(r+i)/+e.speed,t("replay")})})},f=()=>{const t=!1===e.scrollable&&!e.wrapable,o={transform:u.offset?`translateX(${u.offset}px)`:"",transitionDuration:`${u.duration}s`};return h("div",{ref:s,role:"marquee",class:Cs("wrap")},[h("div",{ref:c,style:o,class:[Cs("content"),{"van-ellipsis":t}],onTransitionend:m},[a.default?a.default():e.text])])},g=()=>{const{delay:t,speed:a,scrollable:l}=e,n=H(t)?1e3*+t:0;i=0,r=0,u.offset=0,u.duration=0,clearTimeout(o),o=setTimeout(()=>{if(!s.value||!c.value||!1===l)return;const e=ce(s).width,t=ce(c).width;(l||t>e)&&re(()=>{i=e,r=t,u.offset=-r,u.duration=r/+a})},n)};return Ot(g),we(g),ke("pageshow",g),Et({reset:g}),p(()=>[e.text,e.scrollable],g),()=>{const{color:t,wrapable:o,background:l}=e;return k(h("div",{role:"alert",class:Cs({wrapable:o}),style:{color:t,background:l}},[a["left-icon"]?a["left-icon"]():e.leftIcon?h(Kt,{class:Cs("left-icon"),name:e.leftIcon},null):void 0,f(),v()]),[[S,u.show]])}}})),[Ts,Ds]=vt("notify"),Os=["lockScroll","position","show","teleport","zIndex"];var Vs=g({name:Ts,props:L({},pa,{type:oe("danger"),color:String,message:_,position:oe("top"),className:K,background:String,lockScroll:Boolean}),emits:["update:show"],setup(e,{emit:t,slots:a}){const o=e=>t("update:show",e);return()=>h(Ta,y({class:[Ds([e.type]),e.className],style:{color:e.color,background:e.background},overlay:!1,duration:.2,"onUpdate:show":o},X(e,Os)),{default:()=>[a.default?a.default():e.message]})}});let As,Is;let Ps={type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,onOpened:void 0,duration:3e3,position:void 0,className:"",lockScroll:!1,background:void 0};const zs=()=>{Is&&Is.toggle(!1)};function $s(e){var t;if(F)return Is||({instance:Is}=vl({setup(){const{state:e,toggle:t}=pl();return()=>h(Vs,y(e,{"onUpdate:show":t}),null)}})),e=L({},Ps,R(t=e)?t:{message:t}),Is.open(e),clearTimeout(As),e.duration>0&&(As=setTimeout(zs,e.duration)),Is}const Es=Bt(Vs),[Ms,Ls]=vt("key"),Fs=h("svg",{class:Ls("collapse-icon"),viewBox:"0 0 30 24"},[h("path",{d:"M26 13h-2v2h2v-2zm-8-3h2V8h-2v2zm2-4h2V4h-2v2zm2 4h4V4h-2v4h-2v2zm-7 14 3-3h-6l3 3zM6 13H4v2h2v-2zm16 0H8v2h14v-2zm-12-3h2V8h-2v2zM28 0l1 1 1 1v15l-1 2H1l-1-2V2l1-1 1-1zm0 2H2v15h26V2zM6 4v2H4V4zm10 2h2V4h-2v2zM8 9v1H4V8zm8 0v1h-2V8zm-6-5v2H8V4zm4 0v2h-2V4z",fill:"currentColor"},null)]),Rs=h("svg",{class:Ls("delete-icon"),viewBox:"0 0 32 22"},[h("path",{d:"M28 0a4 4 0 0 1 4 4v14a4 4 0 0 1-4 4H10.4a2 2 0 0 1-1.4-.6L1 13.1c-.6-.5-.9-1.3-.9-2 0-1 .3-1.7.9-2.2L9 .6a2 2 0 0 1 1.4-.6zm0 2H10.4l-8.2 8.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7l8.2 8.4H28a2 2 0 0 0 2-2V4c0-1.1-.9-2-2-2zm-5 4a1 1 0 0 1 .7.3 1 1 0 0 1 0 1.4L20.4 11l3.3 3.3c.2.2.3.5.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3L19 12.4l-3.4 3.3a1 1 0 0 1-.6.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.2.1-.5.3-.7l3.3-3.3-3.3-3.3A1 1 0 0 1 14 7c0-.3.1-.5.3-.7A1 1 0 0 1 15 6a1 1 0 0 1 .6.3L19 9.6l3.3-3.3A1 1 0 0 1 23 6z",fill:"currentColor"},null)]);var Hs=g({name:Ms,props:{type:String,text:_,color:String,wider:Boolean,large:Boolean,loading:Boolean},emits:["press"],setup(e,{emit:t,slots:a}){const o=l(!1),n=ma(),i=e=>{n.start(e),o.value=!0},r=e=>{n.move(e),n.direction.value&&(o.value=!1)},s=l=>{o.value&&(a.default||He(l),o.value=!1,t("press",e.text,e.type))},c=()=>{if(e.loading)return h(aa,{class:Ls("loading-icon")},null);const t=a.default?a.default():e.text;switch(e.type){case"delete":return t||Rs;case"extra":return t||Fs;default:return t}};return()=>h("div",{class:Ls("wrapper",{wider:e.wider}),onTouchstartPassive:i,onTouchmovePassive:r,onTouchend:s,onTouchcancel:s},[h("div",{role:"button",tabindex:0,class:Ls([e.color,{large:e.large,active:o.value,delete:"delete"===e.type}])},[c()])])}});const[js,Ns]=vt("number-keyboard");const Ws=Bt(g({name:js,inheritAttrs:!1,props:{show:Boolean,title:String,theme:oe("default"),zIndex:_,teleport:[String,Object],maxlength:ae(1/0),modelValue:oe(""),transition:J,blurOnClose:J,showDeleteKey:J,randomKeyOrder:Boolean,closeButtonText:String,deleteButtonText:String,closeButtonLoading:Boolean,hideOnClickOutside:J,safeAreaInsetBottom:J,extraKey:{type:[String,Array],default:""}},emits:["show","hide","blur","input","close","delete","update:modelValue"],setup(e,{emit:t,slots:a,attrs:n}){const i=l(),r=()=>{const t=Array(9).fill("").map((e,t)=>({text:t+1}));return e.randomKeyOrder&&function(e){for(let t=e.length-1;t>0;t--){const a=Math.floor(Math.random()*(t+1)),o=e[t];e[t]=e[a],e[a]=o}}(t),t},s=o(()=>"custom"===e.theme?(()=>{const t=r(),{extraKey:a}=e,o=Array.isArray(a)?a:[a];return 0===o.length?t.push({text:0,wider:!0}):1===o.length?t.push({text:0,wider:!0},{text:o[0],type:"extra"}):2===o.length&&t.push({text:o[0],type:"extra"},{text:0},{text:o[1],type:"extra"}),t})():[...r(),{text:e.extraKey,type:"extra"},{text:0},{text:e.showDeleteKey?e.deleteButtonText:"",type:e.showDeleteKey?"delete":""}]),c=()=>{e.show&&t("blur")},u=()=>{t("close"),e.blurOnClose&&c()},d=()=>t(e.show?"show":"hide"),v=(a,o)=>{if(""===a)return void("extra"===o&&c());const l=e.modelValue;"delete"===o?(t("delete"),t("update:modelValue",l.slice(0,l.length-1))):"close"===o?u():l.length<+e.maxlength&&(t("input",a),t("update:modelValue",l+a))},m=()=>{if("custom"===e.theme)return h("div",{class:Ns("sidebar")},[e.showDeleteKey&&h(Hs,{large:!0,text:e.deleteButtonText,type:"delete",onPress:v},{default:a.delete}),h(Hs,{large:!0,text:e.closeButtonText,type:"close",color:"blue",loading:e.closeButtonLoading,onPress:v},null)])};return p(()=>e.show,a=>{e.transition||t(a?"show":"hide")}),e.hideOnClickOutside&&Se(i,c,{eventName:"touchstart"}),()=>{const t=(()=>{const{title:t,theme:o,closeButtonText:l}=e,n=a["title-left"],i=l&&"default"===o;if(t||i||n)return h("div",{class:Ns("header")},[n&&h("span",{class:Ns("title-left")},[n()]),t&&h("h2",{class:Ns("title")},[t]),i&&h("button",{type:"button",class:[Ns("close"),kt],onClick:u},[l])])})(),o=h(x,{name:e.transition?"van-slide-up":""},{default:()=>[k(h("div",y({ref:i,style:Xe(e.zIndex),class:Ns({unfit:!e.safeAreaInsetBottom,"with-title":!!t}),onAnimationend:d,onTouchstartPassive:Re},n),[t,h("div",{class:Ns("body")},[h("div",{class:Ns("keys")},[s.value.map(e=>{const t={};return"delete"===e.type&&(t.default=a.delete),"extra"===e.type&&(t.default=a["extra-key"]),h(Hs,{key:e.text,text:e.text,type:e.type,wider:e.wider,color:e.color,onPress:v},t)})]),m()])]),[[S,e.show]])]});return e.teleport?h(w,{to:e.teleport},{default:()=>[o]}):o}}})),[Ys,Us,qs]=vt("pagination"),Xs=(e,t,a)=>({number:e,text:t,active:a});const Zs=Bt(g({name:Ys,props:{mode:oe("multi"),prevText:String,nextText:String,pageCount:ae(0),modelValue:te(0),totalItems:ae(0),showPageSize:ae(5),itemsPerPage:ae(10),forceEllipses:Boolean,showPrevButton:J,showNextButton:J},emits:["change","update:modelValue"],setup(e,{emit:t,slots:a}){const l=o(()=>{const{pageCount:t,totalItems:a,itemsPerPage:o}=e,l=+t||Math.ceil(+a/+o);return Math.max(1,l)}),n=o(()=>{const t=[],a=l.value,o=+e.showPageSize,{modelValue:n,forceEllipses:i}=e;let r=1,s=a;const c=o<a;c&&(r=Math.max(n-Math.floor(o/2),1),s=r+o-1,s>a&&(s=a,r=s-o+1));for(let e=r;e<=s;e++){const a=Xs(e,e,e===n);t.push(a)}if(c&&o>0&&i){if(r>1){const e=Xs(r-1,"...");t.unshift(e)}if(s<a){const e=Xs(s+1,"...");t.push(e)}}return t}),i=(a,o)=>{a=et(a,1,l.value),e.modelValue!==a&&(t("update:modelValue",a),o&&t("change",a))};b(()=>i(e.modelValue));const r=()=>{const{mode:t,modelValue:o,showPrevButton:l}=e;if(!l)return;const n=a["prev-text"],r=1===o;return h("li",{class:[Us("item",{disabled:r,border:"simple"===t,prev:!0}),yt]},[h("button",{type:"button",disabled:r,onClick:()=>i(o-1,!0)},[n?n():e.prevText||qs("prev")])])},s=()=>{const{mode:t,modelValue:o,showNextButton:n}=e;if(!n)return;const r=a["next-text"],s=o===l.value;return h("li",{class:[Us("item",{disabled:s,border:"simple"===t,next:!0}),yt]},[h("button",{type:"button",disabled:s,onClick:()=>i(o+1,!0)},[r?r():e.nextText||qs("next")])])};return()=>h("nav",{role:"navigation",class:Us()},[h("ul",{class:Us("items")},[r(),"simple"===e.mode?h("li",{class:Us("page-desc")},[a.pageDesc?a.pageDesc():`${e.modelValue}/${l.value}`]):n.value.map(e=>h("li",{class:[Us("item",{active:e.active,page:!0}),yt]},[h("button",{type:"button","aria-current":e.active||void 0,onClick:()=>i(e.number,!0)},[a.page?a.page(e):e.text])])),s()])])}})),[Gs,Ks]=vt("password-input");const _s=Bt(g({name:Gs,props:{info:String,mask:J,value:oe(""),gutter:_,length:ae(6),focused:Boolean,errorInfo:String},emits:["focus"],setup(e,{emit:t}){const a=e=>{e.stopPropagation(),t("focus",e)},o=()=>{const t=[],{mask:a,value:o,gutter:l,focused:n}=e,i=+e.length;for(let e=0;e<i;e++){const i=o[e],r=0!==e&&!l,s=n&&e===o.length;let c;0!==e&&l&&(c={marginLeft:Ue(l)}),t.push(h("li",{class:[{[ht]:r},Ks("item",{focus:s})],style:c},[a?h("i",{style:{visibility:i?"visible":"hidden"}},null):i,s&&h("div",{class:Ks("cursor")},null)]))}return t};return()=>{const t=e.errorInfo||e.info;return h("div",{class:Ks()},[h("ul",{class:[Ks("security"),{[yt]:!e.gutter}],onTouchstartPassive:a},[o()]),t&&h("div",{class:Ks(e.errorInfo?"error-info":"info")},[t])])}}})),Js=Bt(Po);function Qs(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ec(e){return e instanceof Qs(e).Element||e instanceof Element}function tc(e){return e instanceof Qs(e).HTMLElement||e instanceof HTMLElement}function ac(e){return"undefined"!=typeof ShadowRoot&&(e instanceof Qs(e).ShadowRoot||e instanceof ShadowRoot)}var oc=Math.round;function lc(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function nc(e,t,a){void 0===t&&(t=!1),void 0===a&&(a=!1);var o=e.getBoundingClientRect(),l=1,n=1;t&&tc(e)&&(l=e.offsetWidth>0&&oc(o.width)/e.offsetWidth||1,n=e.offsetHeight>0&&oc(o.height)/e.offsetHeight||1);var i=(ec(e)?Qs(e):window).visualViewport,r=!!/^((?!chrome|android).)*safari/i.test(lc())&&a,s=(o.left+(r&&i?i.offsetLeft:0))/l,c=(o.top+(r&&i?i.offsetTop:0))/n,u=o.width/l,d=o.height/n;return{width:u,height:d,top:c,right:s+u,bottom:c+d,left:s,x:s,y:c}}function ic(e){var t=Qs(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function rc(e){return e?(e.nodeName||"").toLowerCase():null}function sc(e){return((ec(e)?e.ownerDocument:e.document)||window.document).documentElement}function cc(e){return Qs(e).getComputedStyle(e)}function uc(e){var t=cc(e),a=t.overflow,o=t.overflowX,l=t.overflowY;return/auto|scroll|overlay|hidden/.test(a+l+o)}function dc(e,t,a){void 0===a&&(a=!1);var o,l,n=tc(t),i=tc(t)&&function(e){var t=e.getBoundingClientRect(),a=oc(t.width)/e.offsetWidth||1,o=oc(t.height)/e.offsetHeight||1;return 1!==a||1!==o}(t),r=sc(t),s=nc(e,i,a),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(n||!n&&!a)&&(("body"!==rc(t)||uc(r))&&(c=(o=t)!==Qs(o)&&tc(o)?{scrollLeft:(l=o).scrollLeft,scrollTop:l.scrollTop}:ic(o)),tc(t)?((u=nc(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):r&&(u.x=function(e){return nc(sc(e)).left+ic(e).scrollLeft}(r))),{x:s.left+c.scrollLeft-u.x,y:s.top+c.scrollTop-u.y,width:s.width,height:s.height}}function pc(e){return"html"===rc(e)?e:e.assignedSlot||e.parentNode||(ac(e)?e.host:null)||sc(e)}function vc(e){return["html","body","#document"].indexOf(rc(e))>=0?e.ownerDocument.body:tc(e)&&uc(e)?e:vc(pc(e))}function mc(e,t){var a;void 0===t&&(t=[]);var o=vc(e),l=o===(null==(a=e.ownerDocument)?void 0:a.body),n=Qs(o),i=l?[n].concat(n.visualViewport||[],uc(o)?o:[]):o,r=t.concat(i);return l?r:r.concat(mc(pc(i)))}function fc(e){return["table","td","th"].indexOf(rc(e))>=0}function hc(e){return tc(e)&&"fixed"!==cc(e).position?e.offsetParent:null}function gc(e){for(var t=Qs(e),a=hc(e);a&&fc(a)&&"static"===cc(a).position;)a=hc(a);return a&&("html"===rc(a)||"body"===rc(a)&&"static"===cc(a).position)?t:a||function(e){var t=/firefox/i.test(lc());if(/Trident/i.test(lc())&&tc(e)&&"fixed"===cc(e).position)return null;var a=pc(e);for(ac(a)&&(a=a.host);tc(a)&&["html","body"].indexOf(rc(a))<0;){var o=cc(a);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||t&&"filter"===o.willChange||t&&o.filter&&"none"!==o.filter)return a;a=a.parentNode}return null}(e)||t}var bc="top",yc="bottom",xc="right",wc="left",kc="auto",Sc="start",Cc="end",Bc=[].concat([bc,yc,xc,wc],[kc]).reduce(function(e,t){return e.concat([t,t+"-"+Sc,t+"-"+Cc])},[]),Tc=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Dc(e){var t=new Map,a=new Set,o=[];function l(e){a.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!a.has(e)){var o=t.get(e);o&&l(o)}}),o.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){a.has(e.name)||l(e)}),o}function Oc(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),o=1;o<t;o++)a[o-1]=arguments[o];return[].concat(a).reduce(function(e,t){return e.replace(/%s/,t)},e)}var Vc='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',Ac=["name","enabled","phase","fn","effect","requires","options"];function Ic(e){return e.split("-")[0]}function Pc(e){return e.split("-")[1]}var zc="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",$c={placement:"bottom",modifiers:[],strategy:"absolute"};function Ec(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function Mc(e){void 0===e&&(e={});var t=e,a=t.defaultModifiers,o=void 0===a?[]:a,l=t.defaultOptions,n=void 0===l?$c:l;return function(e,t,a){void 0===a&&(a=n);var l,i,r={placement:"bottom",orderedModifiers:[],options:Object.assign({},$c,n),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],c=!1,u={state:r,setOptions:function(a){var l="function"==typeof a?a(r.options):a;d(),r.options=Object.assign({},n,r.options,l),r.scrollParents={reference:ec(e)?mc(e):e.contextElement?mc(e.contextElement):[],popper:mc(t)};var i=function(e){var t=Dc(e);return Tc.reduce(function(e,a){return e.concat(t.filter(function(e){return e.phase===a}))},[])}(function(e){var t=e.reduce(function(e,t){var a=e[t.name];return e[t.name]=a?Object.assign({},a,t,{options:Object.assign({},a.options,t.options),data:Object.assign({},a.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(o,r.options.modifiers)));(r.orderedModifiers=i.filter(function(e){return e.enabled}),function(e){e.forEach(function(t){[].concat(Object.keys(t),Ac).filter(function(e,t,a){return a.indexOf(e)===t}).forEach(function(a){switch(a){case"name":"string"!=typeof t.name&&console.error(Oc(Vc,String(t.name),'"name"','"string"','"'+String(t.name)+'"'));break;case"enabled":"boolean"!=typeof t.enabled&&console.error(Oc(Vc,t.name,'"enabled"','"boolean"','"'+String(t.enabled)+'"'));break;case"phase":Tc.indexOf(t.phase)<0&&console.error(Oc(Vc,t.name,'"phase"',"either "+Tc.join(", "),'"'+String(t.phase)+'"'));break;case"fn":"function"!=typeof t.fn&&console.error(Oc(Vc,t.name,'"fn"','"function"','"'+String(t.fn)+'"'));break;case"effect":null!=t.effect&&"function"!=typeof t.effect&&console.error(Oc(Vc,t.name,'"effect"','"function"','"'+String(t.fn)+'"'));break;case"requires":null==t.requires||Array.isArray(t.requires)||console.error(Oc(Vc,t.name,'"requires"','"array"','"'+String(t.requires)+'"'));break;case"requiresIfExists":Array.isArray(t.requiresIfExists)||console.error(Oc(Vc,t.name,'"requiresIfExists"','"array"','"'+String(t.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+t.name+'" modifier, valid properties are '+Ac.map(function(e){return'"'+e+'"'}).join(", ")+'; but "'+a+'" was provided.')}t.requires&&t.requires.forEach(function(a){null==e.find(function(e){return e.name===a})&&console.error(Oc('Popper: modifier "%s" requires "%s", but "%s" modifier is not available',String(t.name),a,a))})})})}((c=[].concat(i,r.options.modifiers),p=function(e){return e.name},v=new Set,c.filter(function(e){var t=p(e);if(!v.has(t))return v.add(t),!0}))),Ic(r.options.placement)===kc)&&(r.orderedModifiers.find(function(e){return"flip"===e.name})||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" ")));var c,p,v,m=cc(t);return[m.marginTop,m.marginRight,m.marginBottom,m.marginLeft].some(function(e){return parseFloat(e)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" ")),r.orderedModifiers.forEach(function(e){var t=e.name,a=e.options,o=void 0===a?{}:a,l=e.effect;if("function"==typeof l){var n=l({state:r,name:t,instance:u,options:o}),i=function(){};s.push(n||i)}}),u.update()},forceUpdate:function(){if(!c){var e=r.elements,t=e.reference,a=e.popper;if(Ec(t,a)){var o,l,n,i;r.rects={reference:dc(t,gc(a),"fixed"===r.options.strategy),popper:(o=a,l=nc(o),n=o.offsetWidth,i=o.offsetHeight,Math.abs(l.width-n)<=1&&(n=l.width),Math.abs(l.height-i)<=1&&(i=l.height),{x:o.offsetLeft,y:o.offsetTop,width:n,height:i})},r.reset=!1,r.placement=r.options.placement,r.orderedModifiers.forEach(function(e){return r.modifiersData[e.name]=Object.assign({},e.data)});for(var s=0,d=0;d<r.orderedModifiers.length;d++){if((s+=1)>100){console.error("Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.");break}if(!0!==r.reset){var p=r.orderedModifiers[d],v=p.fn,m=p.options,f=void 0===m?{}:m,h=p.name;"function"==typeof v&&(r=v({state:r,options:f,name:h,instance:u})||r)}else r.reset=!1,d=-1}}else console.error(zc)}},update:(l=function(){return new Promise(function(e){u.forceUpdate(),e(r)})},function(){return i||(i=new Promise(function(e){Promise.resolve().then(function(){i=void 0,e(l())})})),i}),destroy:function(){d(),c=!0}};if(!Ec(e,t))return console.error(zc),u;function d(){s.forEach(function(e){return e()}),s=[]}return u.setOptions(a).then(function(e){!c&&a.onFirstUpdate&&a.onFirstUpdate(e)}),u}}var Lc={passive:!0};var Fc={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Rc(e){var t,a=e.popper,o=e.popperRect,l=e.placement,n=e.variation,i=e.offsets,r=e.position,s=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,p=i.x,v=void 0===p?0:p,m=i.y,f=void 0===m?0:m,h="function"==typeof u?u({x:v,y:f}):{x:v,y:f};v=h.x,f=h.y;var g=i.hasOwnProperty("x"),b=i.hasOwnProperty("y"),y=wc,x=bc,w=window;if(c){var k=gc(a),S="clientHeight",C="clientWidth";if(k===Qs(a)&&"static"!==cc(k=sc(a)).position&&"absolute"===r&&(S="scrollHeight",C="scrollWidth"),l===bc||(l===wc||l===xc)&&n===Cc)x=yc,f-=(d&&k===w&&w.visualViewport?w.visualViewport.height:k[S])-o.height,f*=s?1:-1;if(l===wc||(l===bc||l===yc)&&n===Cc)y=xc,v-=(d&&k===w&&w.visualViewport?w.visualViewport.width:k[C])-o.width,v*=s?1:-1}var B,T=Object.assign({position:r},c&&Fc),D=!0===u?function(e){var t=e.x,a=e.y,o=window.devicePixelRatio||1;return{x:oc(t*o)/o||0,y:oc(a*o)/o||0}}({x:v,y:f}):{x:v,y:f};return v=D.x,f=D.y,s?Object.assign({},T,((B={})[x]=b?"0":"",B[y]=g?"0":"",B.transform=(w.devicePixelRatio||1)<=1?"translate("+v+"px, "+f+"px)":"translate3d("+v+"px, "+f+"px, 0)",B)):Object.assign({},T,((t={})[x]=b?f+"px":"",t[y]=g?v+"px":"",t.transform="",t))}var Hc=Mc({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,a=e.instance,o=e.options,l=o.scroll,n=void 0===l||l,i=o.resize,r=void 0===i||i,s=Qs(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return n&&c.forEach(function(e){e.addEventListener("scroll",a.update,Lc)}),r&&s.addEventListener("resize",a.update,Lc),function(){n&&c.forEach(function(e){e.removeEventListener("scroll",a.update,Lc)}),r&&s.removeEventListener("resize",a.update,Lc)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,a=e.name;t.modifiersData[a]=function(e){var t,a=e.reference,o=e.element,l=e.placement,n=l?Ic(l):null,i=l?Pc(l):null,r=a.x+a.width/2-o.width/2,s=a.y+a.height/2-o.height/2;switch(n){case bc:t={x:r,y:a.y-o.height};break;case yc:t={x:r,y:a.y+a.height};break;case xc:t={x:a.x+a.width,y:s};break;case wc:t={x:a.x-o.width,y:s};break;default:t={x:a.x,y:a.y}}var c=n?function(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}(n):null;if(null!=c){var u="y"===c?"height":"width";switch(i){case Sc:t[c]=t[c]-(a[u]/2-o[u]/2);break;case Cc:t[c]=t[c]+(a[u]/2-o[u]/2)}}return t}({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,a=e.options,o=a.gpuAcceleration,l=void 0===o||o,n=a.adaptive,i=void 0===n||n,r=a.roundOffsets,s=void 0===r||r,c=cc(t.elements.popper).transitionProperty||"";i&&["transform","top","right","bottom","left"].some(function(e){return c.indexOf(e)>=0})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',"\n\n",'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.","\n\n","We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "));var u={placement:Ic(t.placement),variation:Pc(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:l,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Rc(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Rc(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var a=t.styles[e]||{},o=t.attributes[e]||{},l=t.elements[e];tc(l)&&rc(l)&&(Object.assign(l.style,a),Object.keys(o).forEach(function(e){var t=o[e];!1===t?l.removeAttribute(e):l.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,a={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,a.popper),t.styles=a,t.elements.arrow&&Object.assign(t.elements.arrow.style,a.arrow),function(){Object.keys(t.elements).forEach(function(e){var o=t.elements[e],l=t.attributes[e]||{},n=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:a[e]).reduce(function(e,t){return e[t]="",e},{});tc(o)&&rc(o)&&(Object.assign(o.style,n),Object.keys(l).forEach(function(e){o.removeAttribute(e)}))})}},requires:["computeStyles"]}]});var jc={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,a=e.options,o=e.name,l=a.offset,n=void 0===l?[0,0]:l,i=Bc.reduce(function(e,a){return e[a]=function(e,t,a){var o=Ic(e),l=[wc,bc].indexOf(o)>=0?-1:1,n="function"==typeof a?a(Object.assign({},t,{placement:e})):a,i=n[0],r=n[1];return i=i||0,r=(r||0)*l,[wc,xc].indexOf(o)>=0?{x:r,y:i}:{x:i,y:r}}(a,t.rects,n),e},{}),r=i[t.placement],s=r.x,c=r.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=c),t.modifiersData[o]=i}};const[Nc,Wc]=vt("popover"),Yc=["overlay","duration","teleport","overlayStyle","overlayClass","closeOnClickOverlay"];const Uc=Bt(g({name:Nc,props:{show:Boolean,theme:oe("light"),overlay:Boolean,actions:ee(),actionsDirection:oe("vertical"),trigger:oe("click"),duration:_,showArrow:J,placement:oe("bottom"),iconPrefix:String,overlayClass:K,overlayStyle:Object,closeOnClickAction:J,closeOnClickOverlay:J,closeOnClickOutside:J,offset:{type:Array,default:()=>[0,8]},teleport:{type:[String,Object],default:"body"}},emits:["select","touchstart","update:show"],setup(e,{emit:t,slots:a,attrs:o}){let n;const r=l(),s=l(),d=l(),v=Za(()=>e.show,e=>t("update:show",e)),m=()=>({placement:e.placement,modifiers:[{name:"computeStyles",options:{adaptive:!1,gpuAcceleration:!1}},L({},jc,{options:{offset:e.offset}})]}),f=()=>{u(()=>{v.value&&(n?n.setOptions(m()):(n=s.value&&d.value?Hc(s.value,d.value.popupRef.value,m()):null,F&&(window.addEventListener("animationend",f),window.addEventListener("transitionend",f))))})},g=e=>{v.value=e},x=()=>{"click"===e.trigger&&(v.value=!v.value)},w=(t,o)=>a.action?a.action({action:t,index:o}):[t.icon&&h(Kt,{name:t.icon,classPrefix:e.iconPrefix,class:Wc("action-icon")},null),h("div",{class:[Wc("action-text"),{[bt]:"vertical"===e.actionsDirection}]},[t.text])],k=(a,o)=>{const{icon:l,color:n,disabled:i,className:r}=a;return h("div",{role:"menuitem",class:[Wc("action",{disabled:i,"with-icon":l}),{[gt]:"horizontal"===e.actionsDirection},r],style:{color:n},tabindex:i?void 0:0,"aria-disabled":i||void 0,onClick:()=>((a,o)=>{a.disabled||(t("select",a,o),e.closeOnClickAction&&(v.value=!1))})(a,o)},[w(a,o)])};return c(()=>{f(),b(()=>{var e;r.value=null==(e=d.value)?void 0:e.popupRef.value})}),i(()=>{n&&(F&&(window.removeEventListener("animationend",f),window.removeEventListener("transitionend",f)),n.destroy(),n=null)}),p(()=>[v.value,e.offset,e.placement],f),Se([s,r],()=>{v.value&&e.closeOnClickOutside&&(!e.overlay||e.closeOnClickOverlay)&&(v.value=!1)},{eventName:"touchstart"}),()=>{var t;return h(C,null,[h("span",{ref:s,class:Wc("wrapper"),onClick:x},[null==(t=a.reference)?void 0:t.call(a)]),h(Ta,y({ref:d,show:v.value,class:Wc([e.theme]),position:"",transition:"van-popover-zoom",lockScroll:!1,"onUpdate:show":g},o,ya(),X(e,Yc)),{default:()=>[e.showArrow&&h("div",{class:Wc("arrow")},null),h("div",{role:"menu",class:Wc("content",e.actionsDirection)},[a.default?a.default():e.actions.map(k)])]})])}}})),[qc,Xc]=vt("progress");const Zc=Bt(g({name:qc,props:{color:String,inactive:Boolean,pivotText:String,textColor:String,showPivot:J,pivotColor:String,trackColor:String,strokeWidth:_,percentage:{type:_,default:0,validator:e=>+e>=0&&+e<=100}},setup(e){const t=o(()=>e.inactive?void 0:e.color),a=e=>Math.min(Math.max(+e,0),100),l=()=>{const{textColor:o,pivotText:l,pivotColor:n,percentage:i}=e,r=a(i),s=null!=l?l:`${i}%`;if(e.showPivot&&s){const a={color:o,left:`${r}%`,transform:`translate(-${r}%,-50%)`,background:n||t.value};return h("span",{style:a,class:Xc("pivot",{inactive:e.inactive})},[s])}};return()=>{const{trackColor:o,percentage:n,strokeWidth:i}=e,r=a(n),s={background:o,height:Ue(i)},c={width:`${r}%`,background:t.value};return h("div",{class:Xc(),style:s},[h("span",{class:Xc("portion",{inactive:e.inactive}),style:c},null),l()])}}})),[Gc,Kc,_c]=vt("pull-refresh"),Jc=["pulling","loosing","success"];const Qc=Bt(g({name:Gc,props:{disabled:Boolean,modelValue:Boolean,headHeight:ae(50),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:_,successDuration:ae(500),animationDuration:ae(300)},emits:["change","refresh","update:modelValue"],setup(e,{emit:t,slots:a}){let o;const i=l(),r=l(),s=Ve(i),c=n({status:"normal",distance:0,duration:0}),d=ma(),v=()=>{if(50!==e.headHeight)return{height:`${e.headHeight}px`}},m=()=>"loading"!==c.status&&"success"!==c.status&&!e.disabled,f=(a,o)=>{const l=+(e.pullDistance||e.headHeight);c.distance=a,c.status=o?"loading":0===a?"normal":a<l?"pulling":"loosing",t("change",{status:c.status,distance:a})},g=()=>{const{status:t}=c;return"normal"===t?"":e[`${t}Text`]||_c(t)},b=()=>{const{status:e,distance:t}=c;if(a[e])return a[e]({distance:t});const o=[];return Jc.includes(e)&&o.push(h("div",{class:Kc("text")},[g()])),"loading"===e&&o.push(h(aa,{class:Kc("loading")},{default:g})),o},y=e=>{o=0===Pe(s.value),o&&(c.duration=0,d.start(e))},x=e=>{m()&&y(e)},w=()=>{o&&d.deltaY.value&&m()&&(c.duration=+e.animationDuration,"loosing"===c.status?(f(+e.headHeight,!0),t("update:modelValue",!0),u(()=>t("refresh"))):f(0))};return p(()=>e.modelValue,t=>{c.duration=+e.animationDuration,t?f(+e.headHeight,!0):a.success||e.successText?(c.status="success",setTimeout(()=>{f(0)},+e.successDuration)):f(0,!1)}),ke("touchmove",t=>{if(m()){o||y(t);const{deltaY:a}=d;d.move(t),o&&a.value>=0&&d.isVertical()&&(He(t),f((t=>{const a=+(e.pullDistance||e.headHeight);return t>a&&(t=t<2*a?a+(t-a)/2:1.5*a+(t-2*a)/4),Math.round(t)})(a.value)))}},{target:r}),()=>{var e;const t={transitionDuration:`${c.duration}ms`,transform:c.distance?`translate3d(0,${c.distance}px, 0)`:""};return h("div",{ref:i,class:Kc()},[h("div",{ref:r,class:Kc("track"),style:t,onTouchstartPassive:x,onTouchend:w,onTouchcancel:w},[h("div",{class:Kc("head"),style:v()},[b()]),null==(e=a.default)?void 0:e.call(a)])])}}})),[eu,tu]=vt("rate");const au=Bt(g({name:eu,props:{size:_,icon:oe("star"),color:String,count:ae(5),gutter:_,clearable:Boolean,readonly:Boolean,disabled:Boolean,voidIcon:oe("star-o"),allowHalf:Boolean,voidColor:String,touchable:J,iconPrefix:String,modelValue:te(0),disabledColor:String},emits:["change","update:modelValue"],setup(e,{emit:t}){const a=ma(),[n,i]=_a(),r=l(),s=o(()=>e.readonly||e.disabled),c=o(()=>s.value||!e.touchable),u=o(()=>Array(+e.count).fill("").map((t,a)=>function(e,t,a,o){if(e>=t)return{status:"full",value:1};if(e+.5>=t&&a&&!o)return{status:"half",value:.5};if(e+1>=t&&a&&o){const a=10**10;return{status:"half",value:Math.round((e-t+1)*a)/a}}return{status:"void",value:0}}(e.modelValue,a+1,e.allowHalf,e.readonly)));let d,p,v=Number.MAX_SAFE_INTEGER,m=Number.MIN_SAFE_INTEGER;const f=()=>{p=ce(r);const t=n.value.map(ce);d=[],t.forEach((t,a)=>{v=Math.min(t.top,v),m=Math.max(t.top,m),e.allowHalf?d.push({score:a+.5,left:t.left,top:t.top,height:t.height},{score:a+1,left:t.left+t.width/2,top:t.top,height:t.height}):d.push({score:a+1,left:t.left,top:t.top,height:t.height})})},g=(t,a)=>{for(let e=d.length-1;e>0;e--)if(a>=p.top&&a<=p.bottom){if(t>d[e].left&&a>=d[e].top&&a<=d[e].top+d[e].height)return d[e].score}else{const o=a<p.top?v:m;if(t>d[e].left&&d[e].top===o)return d[e].score}return e.allowHalf?.5:1},b=a=>{s.value||a===e.modelValue||(t("update:modelValue",a),t("change",a))},y=e=>{c.value||(a.start(e),f())},x=(t,o)=>{const{icon:l,size:n,color:r,count:s,gutter:c,voidIcon:u,disabled:d,voidColor:p,allowHalf:v,iconPrefix:m,disabledColor:y}=e,x=o+1,w="full"===t.status,k="void"===t.status,S=v&&t.value>0&&t.value<1;let C;c&&x!==+s&&(C={paddingRight:Ue(c)});return h("div",{key:o,ref:i(o),role:"radio",style:C,class:tu("item"),tabindex:d?void 0:0,"aria-setsize":s,"aria-posinset":x,"aria-checked":!k,onClick:t=>{f();let o=v?g(t.clientX,t.clientY):x;e.clearable&&a.isTap.value&&o===e.modelValue&&(o=0),b(o)}},[h(Kt,{size:n,name:w?l:u,class:tu("icon",{disabled:d,full:w}),color:d?y:w?r:p,classPrefix:m},null),S&&h(Kt,{size:n,style:{width:t.value+"em"},name:k?u:l,class:tu("icon",["half",{disabled:d,full:!k}]),color:d?y:k?p:r,classPrefix:m},null)])};return Ie(()=>e.modelValue),ke("touchmove",e=>{if(!c.value&&(a.move(e),a.isHorizontal()&&!a.isTap.value)){const{clientX:t,clientY:a}=e.touches[0];He(e),b(g(t,a))}},{target:r}),()=>h("div",{ref:r,role:"radiogroup",class:tu({readonly:e.readonly,disabled:e.disabled}),tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,"aria-readonly":e.readonly,onTouchstartPassive:y},[u.value.map(x)])}})),ou={figureArr:ee(),delay:Number,duration:te(2),isStart:Boolean,direction:oe("down"),height:te(40)},[lu,nu]=vt("rolling-text-item");var iu=g({name:lu,props:ou,setup(e){const t=o(()=>"down"===e.direction?e.figureArr.slice().reverse():e.figureArr),a=o(()=>`-${e.height*(e.figureArr.length-1)}px`),l=o(()=>({lineHeight:Ue(e.height)})),n=o(()=>({height:Ue(e.height),"--van-translate":a.value,"--van-duration":e.duration+"s","--van-delay":e.delay+"s"}));return()=>h("div",{class:nu([e.direction]),style:n.value},[h("div",{class:nu("box",{animate:e.isStart})},[Array.isArray(t.value)&&t.value.map(e=>h("div",{class:nu("item"),style:l.value},[e]))])])}});const[ru,su]=vt("rolling-text"),cu={startNum:te(0),targetNum:Number,textList:ee(),duration:te(2),autoStart:J,direction:oe("down"),stopOrder:oe("ltr"),height:te(40)};const uu=Bt(g({name:ru,props:cu,setup(e){const t=o(()=>Array.isArray(e.textList)&&e.textList.length),a=o(()=>t.value?e.textList[0].length:`${Math.max(e.startNum,e.targetNum)}`.length),n=t=>{const a=[];for(let o=0;o<e.textList.length;o++)a.push(e.textList[o][t]);return a},i=o(()=>t.value?new Array(a.value).fill(""):Qe(e.targetNum,a.value).split("")),r=o(()=>Qe(e.startNum,a.value).split("")),s=e=>{const t=+r.value[e],a=+i.value[e],o=[];for(let l=t;l<=9;l++)o.push(l);for(let l=0;l<=2;l++)for(let e=0;e<=9;e++)o.push(e);for(let l=0;l<=a;l++)o.push(l);return o},c=(t,a)=>"ltr"===e.stopOrder?.2*t:.2*(a-1-t),u=l(e.autoStart),d=()=>{u.value=!0};return p(()=>e.autoStart,e=>{e&&d()}),Et({start:d,reset:()=>{u.value=!1,e.autoStart&&ne(()=>d())}}),()=>h("div",{class:su()},[i.value.map((o,l)=>h(iu,{figureArr:t.value?n(l):s(l),duration:e.duration,direction:e.direction,isStart:u.value,height:e.height,delay:c(l,a.value)},null))])}})),du=Bt(di),[pu,vu,mu]=vt("search");const fu=Bt(g({name:pu,props:L({},nl,{label:String,shape:oe("square"),leftIcon:oe("search"),clearable:J,actionText:String,background:String,showAction:Boolean}),emits:["blur","focus","clear","search","cancel","clickInput","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:t,slots:a,attrs:o}){const n=Ka(),i=l(),r=()=>{a.action||(t("update:modelValue",""),t("cancel"))},s=a=>{13===a.keyCode&&(He(a),t("search",e.modelValue))},c=()=>e.id||`${n}-input`,u=()=>{if(a.label||e.label)return h("label",{class:vu("label"),for:c(),"data-allow-mismatch":"attribute"},[a.label?a.label():e.label])},d=()=>{if(e.showAction){const t=e.actionText||mu("cancel");return h("div",{class:vu("action"),role:"button",tabindex:0,onClick:r},[a.action?a.action():t])}},p=e=>t("blur",e),v=e=>t("focus",e),m=e=>t("clear",e),f=e=>t("clickInput",e),g=e=>t("clickLeftIcon",e),b=e=>t("clickRightIcon",e),x=Object.keys(nl),w=()=>{const l=L({},o,X(e,x),{id:c()});return h(il,y({ref:i,type:"search",class:vu("field",{"with-message":l.errorMessage}),border:!1,onBlur:p,onFocus:v,onClear:m,onKeypress:s,onClickInput:f,onClickLeftIcon:g,onClickRightIcon:b,"onUpdate:modelValue":e=>t("update:modelValue",e)},l),X(a,["left-icon","right-icon"]))};return Et({focus:()=>{var e;return null==(e=i.value)?void 0:e.focus()},blur:()=>{var e;return null==(e=i.value)?void 0:e.blur()}}),()=>{var t;return h("div",{class:vu({"show-action":e.showAction}),style:{background:e.background}},[null==(t=a.left)?void 0:t.call(a),h("div",{class:vu("content",e.shape)},[u(),w()]),d()])}}})),hu=[...va,"round","closeOnPopstate","safeAreaInsetBottom"],gu={qq:"qq",link:"link-o",weibo:"weibo",qrcode:"qr",poster:"photo-o",wechat:"wechat","weapp-qrcode":"miniprogram-o","wechat-moments":"wechat-moments"},[bu,yu,xu]=vt("share-sheet");const wu=Bt(g({name:bu,props:L({},pa,{title:String,round:J,options:ee(),cancelText:String,description:String,closeOnPopstate:J,safeAreaInsetBottom:J}),emits:["cancel","select","update:show"],setup(e,{emit:t,slots:a}){const o=e=>t("update:show",e),l=()=>{o(!1),t("cancel")},n=()=>{const t=a.title?a.title():e.title,o=a.description?a.description():e.description;if(t||o)return h("div",{class:yu("header")},[t&&h("h2",{class:yu("title")},[t]),o&&h("span",{class:yu("description")},[o])])},i=e=>{return(null==(t=e)?void 0:t.includes("/"))?h("img",{src:e,class:yu("image-icon")},null):h("div",{class:yu("icon",[e])},[h(Kt,{name:gu[e]||e},null)]);var t},r=(e,a)=>{const{name:o,icon:l,className:n,description:r}=e;return h("div",{role:"button",tabindex:0,class:[yu("option"),n,kt],onClick:()=>((e,a)=>t("select",e,a))(e,a)},[i(l),o&&h("span",{class:yu("name")},[o]),r&&h("span",{class:yu("option-description")},[r])])},s=(e,t)=>h("div",{class:yu("options",{border:t})},[e.map(r)]),c=()=>{const{options:t}=e;return Array.isArray(t[0])?t.map((e,t)=>s(e,0!==t)):s(t)},u=()=>{var t;const o=null!=(t=e.cancelText)?t:xu("cancel");if(a.cancel||o)return h("button",{type:"button",class:yu("cancel"),onClick:l},[a.cancel?a.cancel():o])};return()=>h(Ta,y({class:yu(),position:"bottom","onUpdate:show":o},X(e,hu)),{default:()=>[n(),c(),u()]})}})),[ku,Su]=vt("sidebar"),Cu=Symbol(ku);const Bu=Bt(g({name:ku,props:{modelValue:ae(0)},emits:["change","update:modelValue"],setup(e,{emit:t,slots:a}){const{linkChildren:o}=ve(Cu),l=()=>+e.modelValue;return o({getActive:l,setActive:e=>{e!==l()&&(t("update:modelValue",e),t("change",e))}}),()=>{var e;return h("div",{role:"tablist",class:Su()},[null==(e=a.default)?void 0:e.call(a)])}}})),[Tu,Du]=vt("sidebar-item");const Ou=Bt(g({name:Tu,props:L({},Mt,{dot:Boolean,title:String,badge:_,disabled:Boolean,badgeProps:Object}),emits:["click"],setup(e,{emit:t,slots:a}){const o=Ft(),{parent:l,index:n}=ue(Cu);if(!l)return;const i=()=>{e.disabled||(t("click",n.value),l.setActive(n.value),o())};return()=>{const{dot:t,badge:o,title:r,disabled:s}=e,c=n.value===l.getActive();return h("div",{role:"tab",class:Du({select:c,disabled:s}),tabindex:s?void 0:0,"aria-selected":c,onClick:i},[h(jt,y({dot:t,class:Du("text"),content:o},e.badgeProps),{default:()=>[a.title?a.title():r]})])}}})),[Vu,Au,Iu]=vt("signature"),Pu={tips:String,type:oe("png"),penColor:oe("#000"),lineWidth:te(3),clearButtonText:String,backgroundColor:oe(""),confirmButtonText:String};const zu=Bt(g({name:Vu,props:Pu,emits:["submit","clear","start","end","signing"],setup(e,{emit:t,slots:a}){const n=l(),i=l(),r=o(()=>n.value?n.value.getContext("2d"):null),s=!F||(()=>{var e;const t=document.createElement("canvas");return!!(null==(e=t.getContext)?void 0:e.call(t,"2d"))})();let u,d=0,v=0;const m=()=>{if(!r.value)return!1;r.value.beginPath(),r.value.lineWidth=e.lineWidth,r.value.strokeStyle=e.penColor,u=ce(n),t("start")},f=e=>{if(!r.value)return!1;He(e);const a=e.touches[0],o=a.clientX-((null==u?void 0:u.left)||0),l=a.clientY-((null==u?void 0:u.top)||0);r.value.lineCap="round",r.value.lineJoin="round",r.value.lineTo(o,l),r.value.stroke(),t("signing",e)},g=e=>{He(e),t("end")},b=t=>{t&&e.backgroundColor&&(t.fillStyle=e.backgroundColor,t.fillRect(0,0,d,v))},y=()=>{var a,o;const l=n.value;if(!l)return;const i=(t=>{const a=document.createElement("canvas");if(a.width=t.width,a.height=t.height,e.backgroundColor){const e=a.getContext("2d");b(e)}return t.toDataURL()===a.toDataURL()})(l),r=i?"":(null==(o=(a={jpg:()=>l.toDataURL("image/jpeg",.8),jpeg:()=>l.toDataURL("image/jpeg",.8)})[e.type])?void 0:o.call(a))||l.toDataURL(`image/${e.type}`);t("submit",{image:r,canvas:l})},x=()=>{r.value&&(r.value.clearRect(0,0,d,v),r.value.closePath(),b(r.value)),t("clear")},w=()=>{var e,t,a;if(s&&n.value){const o=n.value,l=F?window.devicePixelRatio:1;d=o.width=((null==(e=i.value)?void 0:e.offsetWidth)||0)*l,v=o.height=((null==(t=i.value)?void 0:t.offsetHeight)||0)*l,null==(a=r.value)||a.scale(l,l),b(r.value)}},k=()=>{if(r.value){const e=r.value.getImageData(0,0,d,v);w(),r.value.putImageData(e,0,0)}};return p(Ne,k),c(w),Et({resize:k,clear:x,submit:y}),()=>h("div",{class:Au()},[h("div",{class:Au("content"),ref:i},[s?h("canvas",{ref:n,onTouchstartPassive:m,onTouchmove:f,onTouchend:g},null):a.tips?a.tips():h("p",null,[e.tips])]),h("div",{class:Au("footer")},[h(na,{size:"small",onClick:x},{default:()=>[e.clearButtonText||Iu("clear")]}),h(na,{type:"primary",size:"small",onClick:y},{default:()=>[e.confirmButtonText||Iu("confirm")]})])])}})),[$u,Eu]=vt("skeleton-title");const Mu=Bt(g({name:$u,props:{round:Boolean,titleWidth:_},setup:e=>()=>h("h3",{class:Eu([{round:e.round}]),style:{width:Ue(e.titleWidth)}},null)}));var Lu=Mu;const[Fu,Ru]=vt("skeleton-avatar");const Hu=Bt(g({name:Fu,props:{avatarSize:_,avatarShape:oe("round")},setup:e=>()=>h("div",{class:Ru([e.avatarShape]),style:qe(e.avatarSize)},null)}));var ju=Hu;const Nu="100%",Wu={round:Boolean,rowWidth:{type:_,default:Nu}},[Yu,Uu]=vt("skeleton-paragraph");const qu=Bt(g({name:Yu,props:Wu,setup:e=>()=>h("div",{class:Uu([{round:e.round}]),style:{width:e.rowWidth}},null)}));var Xu=qu;const[Zu,Gu]=vt("skeleton");const Ku=Bt(g({name:Zu,inheritAttrs:!1,props:{row:ae(0),round:Boolean,title:Boolean,titleWidth:_,avatar:Boolean,avatarSize:_,avatarShape:oe("round"),loading:J,animate:J,rowWidth:{type:[Number,String,Array],default:Nu}},setup(e,{slots:t,attrs:a}){const o=()=>{if(e.avatar)return h(ju,{avatarShape:e.avatarShape,avatarSize:e.avatarSize},null)},l=()=>{if(e.title)return h(Lu,{round:e.round,titleWidth:e.titleWidth},null)},n=t=>{const{rowWidth:a}=e;return a===Nu&&t===+e.row-1?"60%":Array.isArray(a)?a[t]:a};return()=>{var i;return e.loading?h("div",y({class:Gu({animate:e.animate,round:e.round})},a),[t.template?t.template():h(C,null,[o(),h("div",{class:Gu("content")},[l(),Array(+e.row).fill("").map((t,a)=>h(Xu,{key:a,round:e.round,rowWidth:Ue(n(a))},null))])])]):null==(i=t.default)?void 0:i.call(t)}}})),[_u,Ju]=vt("skeleton-image");const Qu=Bt(g({name:_u,props:{imageSize:_,imageShape:oe("square")},setup:e=>()=>h("div",{class:Ju([e.imageShape]),style:qe(e.imageSize)},[h(Kt,{name:"photo",class:Ju("icon")},null)])})),[ed,td]=vt("slider");const ad=Bt(g({name:ed,props:{min:ae(0),max:ae(100),step:ae(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:_,buttonSize:_,activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}},emits:["change","dragEnd","dragStart","update:modelValue"],setup(e,{emit:t,slots:a}){let n,i,r;const s=l(),c=[l(),l()],u=l(),d=ma(),p=o(()=>Number(e.max)-Number(e.min)),v=o(()=>{const t=e.vertical?"width":"height";return{background:e.inactiveColor,[t]:Ue(e.barHeight)}}),m=t=>e.range&&Array.isArray(t),f=()=>{const{modelValue:t,min:a}=e;return m(t)?100*(t[1]-t[0])/p.value+"%":100*(t-Number(a))/p.value+"%"},g=o(()=>{const t=e.vertical?"height":"width",a={[t]:f(),background:e.activeColor};u.value&&(a.transition="none");return a[e.vertical?e.reverse?"bottom":"top":e.reverse?"right":"left"]=(()=>{const{modelValue:t,min:a}=e;return m(t)?100*(t[0]-Number(a))/p.value+"%":"0%"})(),a}),b=t=>{const a=+e.min,o=+e.max,l=+e.step;t=et(t,a,o);return ot(a,Math.round((t-a)/l)*l)},y=()=>{const t=e.modelValue;r=m(t)?t.map(b):b(t)},x=(a,o)=>{a=m(a)?(t=>{var a,o;const l=null!=(a=t[0])?a:Number(e.min),n=null!=(o=t[1])?o:Number(e.max);return l>n?[n,l]:[l,n]})(a).map(b):b(a),Z(a,e.modelValue)||t("update:modelValue",a),o&&!Z(a,r)&&t("change",a)},w=t=>{if(t.stopPropagation(),e.disabled||e.readonly)return;y();const{min:a,reverse:o,vertical:l,modelValue:n}=e,i=ce(s),r=l?i.height:i.width,c=Number(a)+(l?o?i.bottom-t.clientY:t.clientY-i.top:o?i.right-t.clientX:t.clientX-i.left)/r*p.value;if(m(n)){const[e,t]=n;x(c<=(e+t)/2?[c,t]:[e,c],!0)}else x(c,!0)},k=a=>{if(e.disabled||e.readonly)return;"start"===u.value&&t("dragStart",a),He(a,!0),d.move(a),u.value="dragging";const o=ce(s);let l=(e.vertical?d.deltaY.value:d.deltaX.value)/(e.vertical?o.height:o.width)*p.value;if(e.reverse&&(l=-l),m(r)){const t=e.reverse?1-n:n;i[t]=r[t]+l}else i=r+l;x(i)},S=a=>{e.disabled||e.readonly||("dragging"===u.value&&(x(i,!0),t("dragEnd",a)),u.value="")},C=t=>{if("number"==typeof t){return td("button-wrapper",["left","right"][t])}return td("button-wrapper",e.reverse?"left":"right")},B=(t,o)=>{const l="dragging"===u.value;if("number"==typeof o){const e=a[0===o?"left-button":"right-button"];let r;if(l&&Array.isArray(i)&&(r=i[0]>i[1]?1^n:n),e)return e({value:t,dragging:l,dragIndex:r})}return a.button?a.button({value:t,dragging:l}):h("div",{class:td("button"),style:qe(e.buttonSize)},null)},T=t=>{const a="number"==typeof t?e.modelValue[t]:e.modelValue;return h("div",{ref:c[null!=t?t:0],role:"slider",class:C(t),tabindex:e.disabled?void 0:0,"aria-valuemin":e.min,"aria-valuenow":a,"aria-valuemax":e.max,"aria-disabled":e.disabled||void 0,"aria-readonly":e.readonly||void 0,"aria-orientation":e.vertical?"vertical":"horizontal",onTouchstartPassive:a=>{"number"==typeof t&&(n=t),(t=>{e.disabled||e.readonly||(d.start(t),i=e.modelValue,y(),u.value="start")})(a)},onTouchend:S,onTouchcancel:S,onClick:Re},[B(a,t)])};return x(e.modelValue),Ie(()=>e.modelValue),c.forEach(e=>{ke("touchmove",k,{target:e})}),()=>h("div",{ref:s,style:v.value,class:td({vertical:e.vertical,disabled:e.disabled}),onClick:w},[h("div",{class:td("bar"),style:g.value},[e.range?[T(0),T(1)]:T()])])}})),[od,ld]=vt("space"),nd={align:String,direction:{type:String,default:"horizontal"},size:{type:[Number,String,Array],default:8},wrap:Boolean,fill:Boolean};function id(e=[]){const t=[];return e.forEach(e=>{Array.isArray(e)?t.push(...e):e.type===C?t.push(...id(e.children)):t.push(e)}),t.filter(e=>{var t;return!(e&&(e.type===V||e.type===C&&0===(null==(t=e.children)?void 0:t.length)||e.type===E&&""===e.children.trim()))})}const rd=Bt(g({name:od,props:nd,setup(e,{slots:t}){const a=o(()=>{var t;return null!=(t=e.align)?t:"horizontal"===e.direction?"center":""}),l=e=>"number"==typeof e?e+"px":e,n=t=>{const a={},o=`${l(Array.isArray(e.size)?e.size[0]:e.size)}`,n=`${l(Array.isArray(e.size)?e.size[1]:e.size)}`;return t?e.wrap?{marginBottom:n}:{}:("horizontal"===e.direction&&(a.marginRight=o),("vertical"===e.direction||e.wrap)&&(a.marginBottom=n),a)};return()=>{var o;const l=id(null==(o=t.default)?void 0:o.call(t));return h("div",{class:[ld({[e.direction]:e.direction,[`align-${a.value}`]:a.value,wrap:e.wrap,fill:e.fill})]},[l.map((e,t)=>h("div",{key:`item-${t}`,class:`${od}-item`,style:n(t===l.length-1)},[e]))])}}})),[sd,cd]=vt("steps"),ud={active:ae(0),direction:oe("horizontal"),activeIcon:oe("checked"),iconPrefix:String,finishIcon:String,activeColor:String,inactiveIcon:String,inactiveColor:String},dd=Symbol(sd);var pd=g({name:sd,props:ud,emits:["clickStep"],setup(e,{emit:t,slots:a}){const{linkChildren:o}=ve(dd);return o({props:e,onClickStep:e=>t("clickStep",e)}),()=>{var t;return h("div",{class:cd([e.direction])},[h("div",{class:cd("items")},[null==(t=a.default)?void 0:t.call(a)])])}}});const[vd,md]=vt("step");const fd=Bt(g({name:vd,setup(e,{slots:t}){const{parent:a,index:l}=ue(dd);if(!a)return;const n=a.props,i=()=>{const e=+n.active;return l.value<e?"finish":l.value===e?"process":"waiting"},r=()=>"process"===i(),s=o(()=>({background:"finish"===i()?n.activeColor:n.inactiveColor})),c=o(()=>r()?{color:n.activeColor}:"waiting"===i()?{color:n.inactiveColor}:void 0),u=()=>a.onClickStep(l.value),d=()=>{const{iconPrefix:e,finishIcon:a,activeIcon:o,activeColor:l,inactiveIcon:c}=n;return r()?t["active-icon"]?t["active-icon"]():h(Kt,{class:md("icon","active"),name:o,color:l,classPrefix:e},null):"finish"===i()&&(a||t["finish-icon"])?t["finish-icon"]?t["finish-icon"]():h(Kt,{class:md("icon","finish"),name:a,color:l,classPrefix:e},null):t["inactive-icon"]?t["inactive-icon"]():c?h(Kt,{class:md("icon"),name:c,classPrefix:e},null):h("i",{class:md("circle"),style:s.value},null)};return()=>{var e;const a=i();return h("div",{class:[mt,md([n.direction,{[a]:a}])]},[h("div",{class:md("title",{active:r()}),style:c.value,onClick:u},[null==(e=t.default)?void 0:e.call(t)]),h("div",{class:md("circle-container"),onClick:u},[d()]),h("div",{class:md("line"),style:s.value},null)])}}})),[hd,gd]=vt("stepper"),bd=(e,t)=>String(e)===String(t);const yd=Bt(g({name:hd,props:{min:ae(1),max:ae(1/0),name:ae(""),step:ae(1),theme:String,integer:Boolean,disabled:Boolean,showPlus:J,showMinus:J,showInput:J,longPress:J,autoFixed:J,allowEmpty:Boolean,modelValue:_,inputWidth:_,buttonSize:_,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,defaultValue:ae(1),decimalLength:_},emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(e,{emit:t}){const a=(t,a=!0)=>{const{min:o,max:l,allowEmpty:n,decimalLength:i}=e;return n&&""===t||(t=""===(t=at(String(t),!e.integer))?0:+t,t=Number.isNaN(t)?+o:t,t=a?Math.max(Math.min(+l,t),+o):t,H(i)&&(t=t.toFixed(+i))),t};let n;const i=l(),r=l((()=>{var o;const l=null!=(o=e.modelValue)?o:e.defaultValue,n=a(l);return bd(n,e.modelValue)||t("update:modelValue",n),n})()),s=o(()=>e.disabled||e.disableMinus||+r.value<=+e.min),c=o(()=>e.disabled||e.disablePlus||+r.value>=+e.max),d=o(()=>({width:Ue(e.inputWidth),height:Ue(e.buttonSize)})),v=o(()=>qe(e.buttonSize)),m=t=>{e.beforeChange?Ct(e.beforeChange,{args:[t],done(){r.value=t}}):r.value=t},f=()=>{if("plus"===n&&c.value||"minus"===n&&s.value)return void t("overlimit",n);const o="minus"===n?-e.step:+e.step,l=a(ot(+r.value,o));m(l),t(n)},g=t=>{const a=t.target,{value:o}=a,{decimalLength:l}=e;let n=at(String(o),!e.integer);if(H(l)&&n.includes(".")){const e=n.split(".");n=`${e[0]}.${e[1].slice(0,+l)}`}e.beforeChange?a.value=String(r.value):bd(o,n)||(a.value=n);const i=n===String(+n);m(i?+n:n)},b=a=>{var o;e.disableInput?null==(o=i.value)||o.blur():t("focus",a)},x=o=>{const l=o.target,n=a(l.value,e.autoFixed);l.value=String(n),r.value=n,u(()=>{t("blur",o),Fe()})};let w,C;const B=()=>{C=setTimeout(()=>{f(),B()},200)},T=t=>{e.longPress&&(clearTimeout(C),w&&He(t))},D=t=>{e.disableInput&&He(t)},O=t=>({onClick:e=>{He(e),n=t,f()},onTouchstartPassive:()=>{n=t,e.longPress&&(w=!1,clearTimeout(C),C=setTimeout(()=>{w=!0,f(),B()},500))},onTouchend:T,onTouchcancel:T});return p(()=>[e.max,e.min,e.integer,e.decimalLength],()=>{const e=a(r.value);bd(e,r.value)||(r.value=e)}),p(()=>e.modelValue,e=>{bd(e,r.value)||(r.value=a(e))}),p(r,a=>{t("update:modelValue",a),t("change",a,{name:e.name})}),Ie(()=>e.modelValue),()=>h("div",{role:"group",class:gd([e.theme])},[k(h("button",y({type:"button",style:v.value,class:[gd("minus",{disabled:s.value}),{[kt]:!s.value}],"aria-disabled":s.value||void 0},O("minus")),null),[[S,e.showMinus]]),k(h("input",{ref:i,type:e.integer?"tel":"text",role:"spinbutton",class:gd("input"),value:r.value,style:d.value,disabled:e.disabled,readonly:e.disableInput,inputmode:e.integer?"numeric":"decimal",placeholder:e.placeholder,autocomplete:"off","aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":r.value,onBlur:x,onInput:g,onFocus:b,onMousedown:D},null),[[S,e.showInput]]),k(h("button",y({type:"button",style:v.value,class:[gd("plus",{disabled:c.value}),{[kt]:!c.value}],"aria-disabled":c.value||void 0},O("plus")),null),[[S,e.showPlus]])])}})),xd=Bt(pd),[wd,kd,Sd]=vt("submit-bar");const Cd=Bt(g({name:wd,props:{tip:String,label:String,price:Number,tipIcon:String,loading:Boolean,currency:oe("¥"),disabled:Boolean,textAlign:String,buttonText:String,buttonType:oe("danger"),buttonColor:String,suffixLabel:String,placeholder:Boolean,decimalLength:ae(2),safeAreaInsetBottom:J},emits:["submit"],setup(e,{emit:t,slots:a}){const o=l(),n=At(o,kd),i=()=>{const{price:t,label:a,currency:o,textAlign:l,suffixLabel:n,decimalLength:i}=e;if("number"==typeof t){const e=(t/100).toFixed(+i).split("."),r=i?`.${e[1]}`:"";return h("div",{class:kd("text"),style:{textAlign:l}},[h("span",null,[a||Sd("label")]),h("span",{class:kd("price")},[o,h("span",{class:kd("price-integer")},[e[0]]),r]),n&&h("span",{class:kd("suffix-label")},[n])])}},r=()=>{var t;const{tip:o,tipIcon:l}=e;if(a.tip||o)return h("div",{class:kd("tip")},[l&&h(Kt,{class:kd("tip-icon"),name:l},null),o&&h("span",{class:kd("tip-text")},[o]),null==(t=a.tip)?void 0:t.call(a)])},s=()=>t("submit"),c=()=>{var t,l;return h("div",{ref:o,class:[kd(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[null==(t=a.top)?void 0:t.call(a),r(),h("div",{class:kd("bar")},[null==(l=a.default)?void 0:l.call(a),i(),a.button?a.button():h(na,{round:!0,type:e.buttonType,text:e.buttonText,class:kd("button",e.buttonType),color:e.buttonColor,loading:e.loading,disabled:e.disabled,onClick:s},null)])])};return()=>e.placeholder?n(c):c()}})),[Bd,Td]=vt("swipe-cell");const Dd=Bt(g({name:Bd,props:{name:ae(""),disabled:Boolean,leftWidth:_,rightWidth:_,beforeClose:Function,stopPropagation:Boolean},emits:["open","close","click"],setup(e,{emit:t,slots:a}){let i,r,s,c;const u=l(),d=l(),p=l(),v=n({offset:0,dragging:!1}),m=ma(),f=e=>e.value?ce(e).width:0,g=o(()=>H(e.leftWidth)?+e.leftWidth:f(d)),b=o(()=>H(e.rightWidth)?+e.rightWidth:f(p)),y=a=>{v.offset="left"===a?g.value:-b.value,i||(i=!0,t("open",{name:e.name,position:a}))},x=a=>{v.offset=0,i&&(i=!1,t("close",{name:e.name,position:a}))},w=t=>{e.disabled||(s=v.offset,m.start(t))},k=()=>{v.dragging&&(v.dragging=!1,(e=>{const t=Math.abs(v.offset),a=i?.85:.15,o="left"===e?g.value:b.value;o&&t>o*a?y(e):x(e)})(v.offset>0?"left":"right"),setTimeout(()=>{r=!1},0))},S=(a="outside",o)=>{c||(t("click",a),i&&!r&&(c=!0,Ct(e.beforeClose,{args:[{event:o,name:e.name,position:a}],done:()=>{c=!1,x(a)},canceled:()=>c=!1,error:()=>c=!1})))},C=e=>t=>{(r||i)&&t.stopPropagation(),r||S(e,t)},B=(e,t)=>{const o=a[e];if(o)return h("div",{ref:t,class:Td(e),onClick:C(e)},[o()])};return Et({open:y,close:x}),Se(u,e=>S("outside",e),{eventName:"touchstart"}),ke("touchmove",t=>{if(e.disabled)return;const{deltaX:a}=m;if(m.move(t),m.isHorizontal()){r=!0,v.dragging=!0;(!i||a.value*s<0)&&He(t,e.stopPropagation),v.offset=et(a.value+s,-b.value,g.value)}},{target:u}),()=>{var e;const t={transform:`translate3d(${v.offset}px, 0, 0)`,transitionDuration:v.dragging?"0s":".6s"};return h("div",{ref:u,class:Td(),onClick:C("cell"),onTouchstartPassive:w,onTouchend:k,onTouchcancel:k},[h("div",{class:Td("wrapper"),style:t},[B("left",d),null==(e=a.default)?void 0:e.call(a),B("right",p)])])}}})),[Od,Vd]=vt("tabbar"),Ad={route:Boolean,fixed:J,border:J,zIndex:_,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:ae(0),safeAreaInsetBottom:{type:Boolean,default:null}},Id=Symbol(Od);const Pd=Bt(g({name:Od,props:Ad,emits:["change","update:modelValue"],setup(e,{emit:t,slots:a}){const o=l(),{linkChildren:n}=ve(Id),i=At(o,Vd),r=()=>{var t;return null!=(t=e.safeAreaInsetBottom)?t:e.fixed},s=()=>{var t;const{fixed:l,zIndex:n,border:i}=e;return h("div",{ref:o,role:"tablist",style:Xe(n),class:[Vd({fixed:l}),{[xt]:i,"van-safe-area-bottom":r()}]},[null==(t=a.default)?void 0:t.call(a)])};return n({props:e,setActive:(a,o)=>{Ct(e.beforeChange,{args:[a],done(){t("update:modelValue",a),t("change",a),o()}})}}),()=>e.fixed&&e.placeholder?i(s):s()}})),[zd,$d]=vt("tabbar-item");const Ed=Bt(g({name:zd,props:L({},Mt,{dot:Boolean,icon:String,name:_,badge:_,badgeProps:Object,iconPrefix:String}),emits:["click"],setup(e,{emit:t,slots:a}){const l=Ft(),n=v().proxy,{parent:i,index:r}=ue(Id);if(!i)return;const s=o(()=>{var t;const{route:a,modelValue:o}=i.props;if(a&&"$route"in n){const{$route:t}=n,{to:a}=e,o=R(a)?a:{path:a};return t.matched.some(e=>{const t="path"in o&&o.path===e.path,a="name"in o&&o.name===e.name;return t||a})}return(null!=(t=e.name)?t:r.value)===o}),c=a=>{var o;s.value||i.setActive(null!=(o=e.name)?o:r.value,l),t("click",a)},u=()=>a.icon?a.icon({active:s.value}):e.icon?h(Kt,{name:e.icon,classPrefix:e.iconPrefix},null):void 0;return()=>{var t;const{dot:o,badge:l}=e,{activeColor:n,inactiveColor:r}=i.props,d=s.value?n:r;return h("div",{role:"tab",class:$d({active:s.value}),style:{color:d},tabindex:0,"aria-selected":s.value,onClick:c},[h(jt,y({dot:o,class:$d("icon"),content:l},e.badgeProps),{default:u}),h("div",{class:$d("text")},[null==(t=a.default)?void 0:t.call(a,{active:s.value})])])}}})),[Md,Ld]=vt("text-ellipsis");const Fd=Bt(g({name:Md,props:{rows:ae(1),dots:oe("..."),content:oe(""),expandText:oe(""),collapseText:oe(""),position:oe("end")},emits:["clickAction"],setup(e,{emit:t,slots:a}){const n=l(e.content),i=l(!1),s=l(!1),d=l(),v=l();let m=!1;const f=o(()=>i.value?e.collapseText:e.expandText),g=e=>{if(!e)return 0;const t=e.match(/^\d*(\.\d*)?/);return t?Number(t[0]):0},b=()=>{const t=(()=>{if(!d.value||!d.value.isConnected)return;const t=window.getComputedStyle(d.value),a=document.createElement("div");return Array.prototype.slice.apply(t).forEach(e=>{a.style.setProperty(e,t.getPropertyValue(e))}),a.style.position="fixed",a.style.zIndex="-9999",a.style.top="-9999px",a.style.height="auto",a.style.minHeight="auto",a.style.maxHeight="auto",a.innerText=e.content,document.body.appendChild(a),a})();if(!t)return void(m=!0);const{paddingBottom:o,paddingTop:l,lineHeight:i}=t.style,r=Math.ceil((Number(e.rows)+.5)*g(i)+g(l)+g(o));r<t.offsetHeight?(s.value=!0,n.value=((t,o)=>{var l,n;const{content:i,position:r,dots:s}=e,c=i.length,u=0+c>>1,d=a.action?null!=(n=null==(l=v.value)?void 0:l.outerHTML)?n:"":e.expandText,p=(a,l)=>{if(a[1]-a[0]<=1&&l[1]-l[0]<=1)return i.slice(0,a[0])+s+i.slice(l[1],c);const n=Math.floor((a[0]+a[1])/2),r=Math.ceil((l[0]+l[1])/2);return t.innerText=e.content.slice(0,n)+e.dots+e.content.slice(r,c),t.innerHTML+=d,t.offsetHeight>=o?p([a[0],n],[r,l[1]]):p([n,a[1]],[l[0],r])};return"middle"===e.position?p([0,u],[u,c]):(()=>{const e=(a,l)=>{if(l-a<=1)return"end"===r?i.slice(0,a)+s:s+i.slice(l,c);const n=Math.round((a+l)/2);return t.innerText="end"===r?i.slice(0,n)+s:s+i.slice(n,c),t.innerHTML+=d,t.offsetHeight>o?"end"===r?e(a,n):e(n,l):"end"===r?e(n,l):e(a,n)};return e(0,c)})()})(t,r)):(s.value=!1,n.value=e.content),document.body.removeChild(t)},y=(e=!i.value)=>{i.value=e},x=e=>{y(),t("clickAction",e)},w=()=>{const e=a.action?a.action({expanded:i.value}):f.value;return h("span",{ref:v,class:Ld("action"),onClick:x},[e])};return c(()=>{b(),a.action&&u(b)}),r(()=>{m&&(m=!1,b())}),p([Ne,()=>[e.content,e.rows,e.position]],b),Et({toggle:y}),()=>h("div",{ref:d,class:Ld()},[i.value?e.content:n.value,s.value?w():null])}})),[Rd]=vt("time-picker"),Hd=e=>/^([01]\d|2[0-3]):([0-5]\d):([0-5]\d)$/.test(e),jd=["hour","minute","second"];const Nd=Bt(g({name:Rd,props:L({},Pn,{minHour:ae(0),maxHour:ae(23),minMinute:ae(0),maxMinute:ae(59),minSecond:ae(0),maxSecond:ae(59),minTime:{type:String,validator:Hd},maxTime:{type:String,validator:Hd},columnsType:{type:Array,default:()=>["hour","minute"]}}),emits:["confirm","cancel","change","update:modelValue"],setup(e,{emit:t,slots:a}){const n=l(e.modelValue),i=l(),r=t=>{const a=t.split(":");return jd.map((t,o)=>e.columnsType.includes(t)?a[o]:"00")},s=o(()=>{let{minHour:t,maxHour:a,minMinute:o,maxMinute:l,minSecond:i,maxSecond:s}=e;if(e.minTime||e.maxTime){const c={hour:0,minute:0,second:0};e.columnsType.forEach((e,t)=>{var a;c[e]=null!=(a=n.value[t])?a:0});const{hour:u,minute:d}=c;if(e.minTime){const[a,l,n]=r(e.minTime);t=a,o=+u<=+t?l:"00",i=+u<=+t&&+d<=+o?n:"00"}if(e.maxTime){const[t,o,n]=r(e.maxTime);a=t,l=+u>=+a?o:"59",s=+u>=+a&&+d>=+l?n:"59"}}return e.columnsType.map(r=>{const{filter:c,formatter:u}=e;switch(r){case"hour":return En(+t,+a,r,u,c,n.value);case"minute":return En(+o,+l,r,u,c,n.value);case"second":return En(+i,+s,r,u,c,n.value);default:return[]}})});p(n,a=>{Z(a,e.modelValue)||t("update:modelValue",a)}),p(()=>e.modelValue,e=>{e=Mn(e,s.value),Z(e,n.value)||(n.value=e)},{immediate:!0});const c=(...e)=>t("change",...e),u=(...e)=>t("cancel",...e),d=(...e)=>t("confirm",...e);return Et({confirm:()=>{var e;return null==(e=i.value)?void 0:e.confirm()},getSelectedTime:()=>n.value}),()=>h(Ho,y({ref:i,modelValue:n.value,"onUpdate:modelValue":e=>n.value=e,columns:s.value,onChange:c,onCancel:u,onConfirm:d},X(e,zn)),a)}})),[Wd,Yd]=vt("tree-select");const Ud=Bt(g({name:Wd,props:{max:ae(1/0),items:ee(),height:ae(300),selectedIcon:oe("success"),mainActiveIndex:ae(0),activeId:{type:[Number,String,Array],default:0}},emits:["clickNav","clickItem","update:activeId","update:mainActiveIndex"],setup(e,{emit:t,slots:a}){const o=t=>Array.isArray(e.activeId)?e.activeId.includes(t):e.activeId===t,l=a=>h("div",{key:a.id,class:["van-ellipsis",Yd("item",{active:o(a.id),disabled:a.disabled})],onClick:()=>{if(a.disabled)return;let o;if(Array.isArray(e.activeId)){o=e.activeId.slice();const t=o.indexOf(a.id);-1!==t?o.splice(t,1):o.length<+e.max&&o.push(a.id)}else o=a.id;t("update:activeId",o),t("clickItem",a)}},[a.text,o(a.id)&&h(Kt,{name:e.selectedIcon,class:Yd("selected")},null)]),n=e=>{t("update:mainActiveIndex",e)},i=e=>t("clickNav",e),r=()=>{const t=e.items.map(e=>h(Ou,{dot:e.dot,badge:e.badge,class:[Yd("nav-item"),e.className],disabled:e.disabled,onClick:i},{title:()=>a["nav-text"]?a["nav-text"](e):e.text}));return h(Bu,{class:Yd("nav"),modelValue:e.mainActiveIndex,onChange:n},{default:()=>[t]})},s=()=>{if(a.content)return a.content();const t=e.items[+e.mainActiveIndex]||{};return t.children?t.children.map(l):void 0};return()=>h("div",{class:Yd(),style:{height:Ue(e.height)}},[r(),h("div",{class:Yd("content")},[s()])])}})),[qd,Xd,Zd]=vt("uploader");function Gd(e,t){return new Promise(a=>{if("file"===t)return void a();const o=new FileReader;o.onload=e=>{a(e.target.result)},"dataUrl"===t?o.readAsDataURL(e):"text"===t&&o.readAsText(e)})}function Kd(e,t){return G(e).some(e=>!!e.file&&(j(t)?t(e.file):e.file.size>+t))}const _d=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg|avif)/i;function Jd(e){return!!e.isImage||(e.file&&e.file.type?0===e.file.type.indexOf("image"):e.url?(t=e.url,_d.test(t)):"string"==typeof e.content&&0===e.content.indexOf("data:image"));var t}var Qd=g({props:{name:_,item:Q(Object),index:Number,imageFit:String,lazyLoad:Boolean,deletable:Boolean,reupload:Boolean,previewSize:[Number,String,Array],beforeDelete:Function},emits:["delete","preview","reupload"],setup(e,{emit:t,slots:a}){const o=()=>{const{status:t,message:a}=e.item;if("uploading"===t||"failed"===t){const e="failed"===t?h(Kt,{name:"close",class:Xd("mask-icon")},null):h(aa,{class:Xd("loading")},null),o=H(a)&&""!==a;return h("div",{class:Xd("mask")},[e,o&&h("div",{class:Xd("mask-message")},[a])])}},l=a=>{const{name:o,item:l,index:n,beforeDelete:i}=e;a.stopPropagation(),Ct(i,{args:[l,{name:o,index:n}],done:()=>t("delete")})},n=()=>t("preview"),i=()=>t("reupload"),r=()=>{if(e.deletable&&"uploading"!==e.item.status){const e=a["preview-delete"];return h("div",{role:"button",class:Xd("preview-delete",{shadow:!e}),tabindex:0,"aria-label":Zd("delete"),onClick:l},[e?e():h(Kt,{name:"cross",class:Xd("preview-delete-icon")},null)])}},s=()=>{if(a["preview-cover"]){const{index:t,item:o}=e;return h("div",{class:Xd("preview-cover")},[a["preview-cover"](L({index:t},o))])}},c=()=>{const{item:t,lazyLoad:a,imageFit:o,previewSize:l,reupload:r}=e;return Jd(t)?h(qn,{fit:o,src:t.objectUrl||t.content||t.url,class:Xd("preview-image"),width:Array.isArray(l)?l[0]:l,height:Array.isArray(l)?l[1]:l,lazyLoad:a,onClick:r?i:n},{default:s}):h("div",{class:Xd("file"),style:qe(e.previewSize)},[h(Kt,{class:Xd("file-icon"),name:"description"},null),h("div",{class:[Xd("file-name"),"van-ellipsis"]},[t.file?t.file.name:t.url]),s()])};return()=>h("div",{class:Xd("preview")},[c(),o(),r()])}});const ep=Bt(g({name:qd,props:{name:ae(""),accept:oe("image/*"),capture:String,multiple:Boolean,disabled:Boolean,readonly:Boolean,lazyLoad:Boolean,maxCount:ae(1/0),imageFit:oe("cover"),resultType:oe("dataUrl"),uploadIcon:oe("photograph"),uploadText:String,deletable:J,reupload:Boolean,afterRead:Function,showUpload:J,modelValue:ee(),beforeRead:Function,beforeDelete:Function,previewSize:[Number,String,Array],previewImage:J,previewOptions:Object,previewFullImage:J,maxSize:{type:[Number,String,Function],default:1/0}},emits:["delete","oversize","clickUpload","closePreview","clickPreview","clickReupload","update:modelValue"],setup(e,{emit:t,slots:a}){const o=l(),r=[],s=l(-1),c=l(!1),d=(t=e.modelValue.length)=>({name:e.name,index:t}),p=()=>{o.value&&(o.value.value="")},v=a=>{if(p(),Kd(a,e.maxSize)){if(!Array.isArray(a))return void t("oversize",a,d());{const o=function(e,t){const a=[],o=[];return e.forEach(e=>{Kd(e,t)?o.push(e):a.push(e)}),{valid:a,invalid:o}}(a,e.maxSize);if(a=o.valid,t("oversize",o.invalid,d()),!a.length)return}}if(a=n(a),s.value>-1){const o=[...e.modelValue];o.splice(s.value,1,a),t("update:modelValue",o),s.value=-1}else t("update:modelValue",[...e.modelValue,...G(a)]);e.afterRead&&e.afterRead(a,d())},m=t=>{const{maxCount:a,modelValue:o,resultType:l}=e;if(Array.isArray(t)){const e=+a-o.length;t.length>e&&(t=t.slice(0,e)),Promise.all(t.map(e=>Gd(e,l))).then(e=>{const a=t.map((t,a)=>{const o={file:t,status:"",message:"",objectUrl:URL.createObjectURL(t)};return e[a]&&(o.content=e[a]),o});v(a)})}else Gd(t,l).then(e=>{const a={file:t,status:"",message:"",objectUrl:URL.createObjectURL(t)};e&&(a.content=e),v(a)})},f=t=>{const{files:a}=t.target;if(e.disabled||!a||!a.length)return;const o=1===a.length?a[0]:[].slice.call(a);if(e.beforeRead){const t=e.beforeRead(o,d());if(!t)return void p();if(N(t))return void t.then(e=>{m(e||o)}).catch(p)}m(o)};let g;const b=()=>t("closePreview"),x=e=>{c.value=!0,s.value=e,u(()=>O())},w=()=>{c.value||(s.value=-1),c.value=!1},C=(o,l)=>{const n=["imageFit","deletable","reupload","previewSize","beforeDelete"],i=L(X(e,n),X(o,n,!0));return h(Qd,y({item:o,index:l,onClick:()=>t(e.reupload?"clickReupload":"clickPreview",o,d(l)),onDelete:()=>((a,o)=>{const l=e.modelValue.slice(0);l.splice(o,1),t("update:modelValue",l),t("delete",a,d(o))})(o,l),onPreview:()=>(t=>{if(e.previewFullImage){const a=e.modelValue.filter(Jd),o=a.map(e=>(e.objectUrl&&!e.url&&"failed"!==e.status&&(e.url=e.objectUrl,r.push(e.url)),e.url)).filter(Boolean);g=ns(L({images:o,startPosition:a.indexOf(t),onClose:b},e.previewOptions))}})(o),onReupload:()=>x(l)},X(e,["name","lazyLoad"]),i),X(a,["preview-cover","preview-delete"]))},B=()=>{if(e.previewImage)return e.modelValue.map(C)},T=e=>t("clickUpload",e),D=()=>{const t=e.modelValue.length<+e.maxCount,l=e.readonly?null:h("input",{ref:o,type:"file",class:Xd("input"),accept:e.accept,capture:e.capture,multiple:e.multiple&&-1===s.value,disabled:e.disabled,onChange:f,onClick:w},null);return a.default?k(h("div",{class:Xd("input-wrapper"),onClick:T},[a.default(),l]),[[S,t]]):k(h("div",{class:Xd("upload",{readonly:e.readonly}),style:qe(e.previewSize),onClick:T},[h(Kt,{name:e.uploadIcon,class:Xd("upload-icon")},null),e.uploadText&&h("span",{class:Xd("upload-text")},[e.uploadText]),l]),[[S,e.showUpload&&t]])},O=()=>{o.value&&!e.disabled&&o.value.click()};return i(()=>{r.forEach(e=>URL.revokeObjectURL(e))}),Et({chooseFile:O,reuploadFile:x,closeImagePreview:()=>{g&&g.close()}}),Ie(()=>e.modelValue),()=>h("div",{class:Xd()},[h("div",{class:Xd("wrapper",{disabled:e.disabled})},[B(),D()])])}})),[tp,ap]=vt("watermark");const op=Bt(g({name:tp,props:{gapX:te(0),gapY:te(0),image:String,width:te(100),height:te(100),rotate:ae(-22),zIndex:_,content:String,opacity:_,fullPage:J,textColor:oe("#dcdee0")},setup(e,{slots:t}){const o=l(),n=l(""),i=l(""),r=()=>{const a={transformOrigin:"center",transform:`rotate(${e.rotate}deg)`},o=e.width+e.gapX,l=e.height+e.gapY;return h("svg",{viewBox:`0 0 ${o} ${l}`,width:o,height:l,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",style:{padding:`0 ${e.gapX}px ${e.gapY}px 0`,opacity:e.opacity}},[e.image&&!t.content?h("image",{href:i.value,"xlink:href":i.value,x:"0",y:"0",width:e.width,height:e.height,style:a},null):h("foreignObject",{x:"0",y:"0",width:e.width,height:e.height},[h("div",{xmlns:"http://www.w3.org/1999/xhtml",style:a},[t.content?t.content():h("span",{style:{color:e.textColor}},[e.content])])])])},s=()=>{n.value&&URL.revokeObjectURL(n.value)},d=()=>{o.value&&(s(),n.value=(e=>{const t=new Blob([e],{type:"image/svg+xml"});return URL.createObjectURL(t)})(o.value.innerHTML))};return b(()=>{e.image&&(e=>{const t=document.createElement("canvas"),a=new Image;a.crossOrigin="anonymous",a.referrerPolicy="no-referrer",a.onload=()=>{t.width=a.naturalWidth,t.height=a.naturalHeight;const e=t.getContext("2d");null==e||e.drawImage(a,0,0),i.value=t.toDataURL()},a.src=e})(e.image)}),p(()=>[e.content,e.textColor,e.height,e.width,e.rotate,e.gapX,e.gapY],d),p(i,()=>{u(d)}),c(d),a(s),()=>{const t=L({backgroundImage:`url(${n.value})`},Xe(e.zIndex));return h("div",{class:ap({full:e.fullPage}),style:t},[h("div",{class:ap("wrapper"),ref:o},[r()])])}}}));var lp={install:function(e){[$t,sa,da,Ia,Il,rn,Wo,un,jt,mn,na,Wn,Gn,Qn,Xo,ai,Ql,jl,ri,mi,bi,ki,Si,Di,Pi,Mi,Ri,Ui,_i,lr,rr,br,wr,Vr,Ar,er,il,$r,Fr,Ko,Wr,qr,Gr,Kt,qn,is,ms,fs,ys,aa,st,ks,Bs,Es,Ws,ka,Zs,_s,Ho,Js,Uc,Ta,Zc,Qc,Kl,Ml,au,uu,du,fu,wu,Bu,Ou,zu,Ku,Hu,Qu,qu,Mu,ad,rd,fd,yd,xd,to,Cd,io,Dd,Co,kl,Do,Pd,Ed,Oo,Yl,Fd,Nd,yl,Ud,ep,op].forEach(t=>{t.install?e.use(t):t.name&&e.component(t.name,t)})},version:"4.9.21"};export{bl as a,gr as b,ns as c,$s as d,lp as s};
