import{l as e,r as t,c as r,f as a,o as i,L as s,k as l,Q as o,S as n,B as c,y as d,F as m,V as u,M as p,Z as h,N as v,O as y,A as w}from"./vendor-788d0564.js";import{i as f}from"./index-888eb83b.js";import{_ as b}from"./_plugin-vue_export-helper-1b428a4d.js";const g={class:"weather-detail"},S={class:"content"},x={class:"main-weather-card"},D={class:"location-header"},C={class:"location-text"},k={class:"air-quality-badge"},z={class:"temperature-display"},B={class:"main-temp"},F={class:"temp-number"},P={class:"temp-info"},Q={class:"weather-condition"},$={class:"temp-range"},E={class:"metrics-grid"},L={class:"metric-card pressure"},W={class:"metric-icon"},_={class:"metric-content"},M={class:"metric-value"},N={class:"metric-card humidity"},O={class:"metric-icon"},j={class:"metric-content"},A={class:"metric-value"},I={class:"metric-card fishing"},Z={class:"metric-icon"},q={class:"metric-content"},T={class:"metric-value fishing-value"},V={class:"chart-card"},G={class:"card-header"},H={class:"card-title"},J={class:"metric-selector"},K={class:"detailed-forecast"},R={class:"forecast-list"},U={class:"forecast-date"},X={class:"day-name"},Y={class:"date-number"},ee={class:"forecast-weather"},te={class:"weather-desc"},re={class:"forecast-temp"},ae={class:"temp-high"},ie={class:"temp-bar"},se={class:"temp-low"},le={class:"forecast-wind"},oe={class:"wind-info"},ne={class:"wind-direction"},ce={class:"wind-level"},de=b(e({__name:"WeatherDetail",setup(e){const b=p(),de=h().params.id;let me=null;const ue=t(),pe=t({name:"",id:de}),he=t({location:"武侯区",temperature:{current:31,high:31,low:21},description:"多云",airQuality:"空气优",comparison:"比今天热",wind:{direction:"东南风",speed:"3级"},humidity:65,pressure:1013,fishingIndex:"适宜"}),ve=t([{time:"17:00",temperature:28,pressure:1013,humidity:65},{time:"18:00",temperature:27,pressure:1014,humidity:67},{time:"19:00",temperature:26,pressure:1015,humidity:70},{time:"20:00",temperature:25,pressure:1016,humidity:72},{time:"21:00",temperature:24,pressure:1017,humidity:75},{time:"22:00",temperature:23,pressure:1018,humidity:78},{time:"23:00",temperature:22,pressure:1019,humidity:80},{time:"00:00",temperature:21,pressure:1020,humidity:82},{time:"01:00",temperature:20,pressure:1021,humidity:85},{time:"02:00",temperature:19,pressure:1022,humidity:87},{time:"03:00",temperature:19,pressure:1023,humidity:88},{time:"04:00",temperature:18,pressure:1024,humidity:90},{time:"05:00",temperature:19,pressure:1023,humidity:88},{time:"06:00",temperature:21,pressure:1022,humidity:85},{time:"07:00",temperature:23,pressure:1021,humidity:82},{time:"08:00",temperature:25,pressure:1020,humidity:78},{time:"09:00",temperature:27,pressure:1019,humidity:75},{time:"10:00",temperature:29,pressure:1018,humidity:70},{time:"11:00",temperature:31,pressure:1017,humidity:65},{time:"12:00",temperature:32,pressure:1016,humidity:62},{time:"13:00",temperature:33,pressure:1015,humidity:60},{time:"14:00",temperature:34,pressure:1014,humidity:58},{time:"15:00",temperature:33,pressure:1013,humidity:60},{time:"16:00",temperature:31,pressure:1012,humidity:63}]),ye=t(!0),we=t(!1),fe=t(!1),be=e=>{switch(e){case"temperature":ye.value=!ye.value;break;case"pressure":we.value=!we.value;break;case"humidity":fe.value=!fe.value}ge()},ge=()=>{if(!me)return;const e=[];ye.value&&e.push({name:"温度",data:ve.value.map(e=>e.temperature),type:"line",smooth:!0,lineStyle:{color:"#FF6B6B",width:3},itemStyle:{color:"#FF6B6B",borderColor:"#fff",borderWidth:2},symbol:"circle",symbolSize:6,areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(255, 107, 107, 0.3)"},{offset:1,color:"rgba(255, 107, 107, 0.05)"}]}},label:{show:!0,position:"top",formatter:"{c}°",color:"#FF6B6B",fontSize:11,offset:[0,-8]}}),we.value&&e.push({name:"气压",data:ve.value.map(e=>e.pressure),type:"line",smooth:!0,lineStyle:{color:"#4ECDC4",width:3},itemStyle:{color:"#4ECDC4",borderColor:"#fff",borderWidth:2},symbol:"circle",symbolSize:6,areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(78, 205, 196, 0.3)"},{offset:1,color:"rgba(78, 205, 196, 0.05)"}]}},label:{show:!0,position:"top",formatter:"{c}hPa",color:"#4ECDC4",fontSize:11,offset:[0,-8]}}),fe.value&&e.push({name:"湿度",data:ve.value.map(e=>e.humidity),type:"line",smooth:!0,lineStyle:{color:"#45B7D1",width:3},itemStyle:{color:"#45B7D1",borderColor:"#fff",borderWidth:2},symbol:"circle",symbolSize:6,areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(69, 183, 209, 0.3)"},{offset:1,color:"rgba(69, 183, 209, 0.05)"}]}},label:{show:!0,position:"top",formatter:"{c}%",color:"#45B7D1",fontSize:11,offset:[0,-8]}});const t={grid:{left:"8%",right:"8%",top:"15%",bottom:"20%",containLabel:!0},xAxis:{type:"category",data:ve.value.map(e=>e.time),axisLabel:{interval:0,fontSize:11,color:"#666",rotate:0,margin:8},axisLine:{lineStyle:{color:"#e4e7ed"}},axisTick:{alignWithLabel:!0,length:4}},yAxis:{show:!1},dataZoom:[{type:"inside",start:0,end:60,zoomOnMouseWheel:!1,moveOnMouseMove:!0,moveOnMouseWheel:!0}],series:e,tooltip:{trigger:"axis",formatter:e=>{let t='<div style="padding: 10px; border-radius: 6px;">';return t+=`<div style="font-weight: bold; margin-bottom: 6px; color: #333;">${e[0].name}</div>`,e.forEach(e=>{let r="";"温度"===e.seriesName?r="°C":"气压"===e.seriesName?r="hPa":"湿度"===e.seriesName&&(r="%"),t+=`<div style="color: ${e.color}; margin-bottom: 4px;">\n                        <span style="display: inline-block; width: 10px; height: 10px; background: ${e.color}; border-radius: 50%; margin-right: 8px;"></span>\n                        ${e.seriesName}: ${e.value}${r}\n                    </div>`}),t+="</div>",t},backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#e4e7ed",borderWidth:1,textStyle:{color:"#333",fontSize:12},shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.1)"}};me.setOption(t,!0)};r(()=>ve.value.map(e=>({time:e.time,temperature:e.temperature})));const Se=t([{date:"2024-08-30",weather:"小雨",temperature:{high:27,low:20},rainProbability:85,airQuality:"优",wind:{direction:"西北风",level:"1级"}},{date:"2024-08-31",weather:"多云",temperature:{high:27,low:21},rainProbability:null,airQuality:"优",wind:{direction:"西南风",level:"1级"}},{date:"2024-09-01",weather:"小雨",temperature:{high:30,low:21},rainProbability:null,airQuality:"优",wind:{direction:"东南风",level:"1级"}},{date:"2024-09-02",weather:"小雨",temperature:{high:31,low:23},rainProbability:null,airQuality:"优",wind:{direction:"北风",level:"2级"}},{date:"2024-09-03",weather:"多云",temperature:{high:30,low:23},rainProbability:80,airQuality:"优",wind:{direction:"东北风",level:"1级"}},{date:"2024-09-04",weather:"多云",temperature:{high:31,low:24},rainProbability:null,airQuality:"优",wind:{direction:"东风",level:"2级"}}]),xe=e=>{const t=(e.low-15)/25*100;return{left:`${t}%`,width:(e.high-15)/25*100-t+"%",background:"linear-gradient(90deg, #4A90E2 0%, #FFE066 100%)"}},De=()=>{me&&me.resize()},Ce=e=>{const t=new Date(e),r=new Date,a=new Date(r);a.setDate(r.getDate()+1);const i=new Date(r);if(i.setDate(r.getDate()-1),t.toDateString()===r.toDateString())return"今天";if(t.toDateString()===a.toDateString())return"明天";if(t.toDateString()===i.toDateString())return"昨天";return["周日","周一","周二","周三","周四","周五","周六"][t.getDay()]},ke=e=>{const t=new Date(e);return`${t.getMonth()+1}/${t.getDate()}`},ze=()=>{b.back()};return a(()=>{(async()=>{})(),ue.value&&(me=f(ue.value),ge()),window.addEventListener("resize",De)}),i(()=>{me&&(me.dispose(),me=null),window.removeEventListener("resize",De)}),(e,t)=>{var r;const a=v("van-nav-bar"),i=v("van-icon");return y(),s("div",g,[l(a,{title:(null==(r=pe.value)?void 0:r.name)||"天气详情","left-text":"返回","left-arrow":"",onClickLeft:ze,class:"custom-nav"},null,8,["title"]),o("div",S,[o("div",x,[o("div",D,[l(i,{name:"location",class:"location-icon"}),o("span",C,n(he.value.location),1),o("div",k,n(he.value.airQuality),1)]),o("div",z,[o("div",B,[o("span",F,n(he.value.temperature.current),1),t[3]||(t[3]=o("span",{class:"temp-symbol"},"°",-1))]),o("div",P,[o("div",Q,n(he.value.description),1),o("div",$,n(he.value.temperature.high)+"° / "+n(he.value.temperature.low)+"°",1)])])]),o("div",E,[o("div",L,[o("div",W,[l(i,{name:"dashboard"})]),o("div",_,[t[5]||(t[5]=o("div",{class:"metric-label"},"气压",-1)),o("div",M,[c(n(he.value.pressure),1),t[4]||(t[4]=o("span",{class:"unit"},"hPa",-1))])])]),o("div",N,[o("div",O,[l(i,{name:"water-o"})]),o("div",j,[t[7]||(t[7]=o("div",{class:"metric-label"},"湿度",-1)),o("div",A,[c(n(he.value.humidity),1),t[6]||(t[6]=o("span",{class:"unit"},"%",-1))])])]),o("div",I,[o("div",Z,[l(i,{name:"like"})]),o("div",q,[t[8]||(t[8]=o("div",{class:"metric-label"},"钓鱼指数",-1)),o("div",T,n(he.value.fishingIndex),1)])])]),o("div",V,[o("div",G,[o("h3",H,[l(i,{name:"chart-trending-o"}),t[9]||(t[9]=c(" 24小时趋势 ",-1))]),t[10]||(t[10]=o("span",{class:"chart-hint"},"← 滑动查看",-1))]),o("div",J,[o("div",{class:d(["metric-btn",{active:ye.value}]),onClick:t[0]||(t[0]=e=>be("temperature"))},[l(i,{name:"fire"}),t[11]||(t[11]=c(" 温度 ",-1))],2),o("div",{class:d(["metric-btn",{active:we.value}]),onClick:t[1]||(t[1]=e=>be("pressure"))},[l(i,{name:"underway"}),t[12]||(t[12]=c(" 气压 ",-1))],2),o("div",{class:d(["metric-btn",{active:fe.value}]),onClick:t[2]||(t[2]=e=>be("humidity"))},[l(i,{name:"water-o"}),t[13]||(t[13]=c(" 湿度 ",-1))],2)]),o("div",{ref_key:"chartContainer",ref:ue,class:"chart-container"},null,512)]),o("div",K,[t[14]||(t[14]=o("div",{class:"forecast-header"},[o("h3",null,"未来7天预报")],-1)),o("div",R,[(y(!0),s(m,null,u(Se.value.slice(0,7),(e,t)=>{var r,a,c;return y(),s("div",{key:e.date,class:d(["forecast-item",{today:1===t,tomorrow:2===t}])},[o("div",U,[o("div",X,n(Ce(e.date)),1),o("div",Y,n(ke(e.date)),1)]),o("div",ee,[l(i,{name:(c=e.weather,{"晴":"sunny-o","多云":"cloudy-o","阴":"weather-o","小雨":"weather-o","中雨":"weather-o","大雨":"weather-o","降雨":"weather-o","雷阵雨":"weather-o","日落":"sunny-o","夜间多云":"moon-o"}[c]||"sunny-o"),class:"weather-icon"},null,8,["name"]),o("span",te,n(e.weather),1)]),o("div",re,[o("span",ae,n(e.temperature.high)+"°",1),o("div",ie,[o("div",{class:"temp-range-bar",style:w(xe(e.temperature))},null,4)]),o("span",se,n(e.temperature.low)+"°",1)]),o("div",le,[l(i,{name:"replay",class:"wind-icon"}),o("div",oe,[o("div",ne,n((null==(r=e.wind)?void 0:r.direction)||"东南风"),1),o("div",ce,n((null==(a=e.wind)?void 0:a.level)||"1级"),1)])])],2)}),128))])])])])}}}),[["__scopeId","data-v-e5a063f9"]]);export{de as default};
