import{l as e,r as a,L as l,Q as o,k as s,R as t,M as n,N as i,O as r,B as u,S as c}from"./vendor-1eb17f0c.js";import{a as v}from"./vant-1b65eea4.js";import{_ as d}from"./_plugin-vue_export-helper-1b428a4d.js";const m={class:"login-page"},p={class:"login-form"},g={class:"login-actions"},f={class:"agreement"},_=d(e({__name:"Login",setup(e){const d=n(),_=a(""),b=a(""),h=a(!0),y=a(!1),V=a(0),k=()=>{if(!_.value)return void v("请先输入手机号");v("验证码已发送"),V.value=60;const e=setInterval(()=>{V.value--,V.value<=0&&clearInterval(e)},1e3)},x=async()=>{if(h.value){y.value=!0;try{if(await new Promise(e=>setTimeout(e,1e3)),"123456"===b.value){const e={id:"user_1",username:"钓鱼老司机",phone:_.value,avatar:"https://img.yzcdn.cn/vant/cat.jpeg",level:"expert",experience:2580,city:"北京",loginTime:(new Date).getTime()};localStorage.setItem("fishing_user",JSON.stringify(e)),localStorage.setItem("fishing_token","mock_token_"+Date.now()),v("登录成功"),d.replace("/home")}else v("验证码错误，请输入 123456")}catch(e){v("登录失败，请重试")}finally{y.value=!1}}else v("请先同意用户协议和隐私政策")};return(e,a)=>{const n=i("van-notice-bar"),v=i("van-field"),d=i("van-button"),w=i("van-cell-group"),I=i("van-form"),S=i("van-checkbox");return r(),l("div",m,[a[6]||(a[6]=o("div",{class:"logo-section"},[o("div",{class:"logo-icon"},"🎣"),o("h1",{class:"app-title"},"渔友圈"),o("p",{class:"app-subtitle"},"钓鱼爱好者的专属社交平台")],-1)),o("div",p,[s(n,{mode:"closeable",color:"#1989fa",background:"#ecf9ff","left-icon":"info-o"},{default:t(()=>a[3]||(a[3]=[u(" 测试提示：输入任意手机号 + 验证码 123456 即可登录 ",-1)])),_:1,__:[3]}),s(I,{onSubmit:x},{default:t(()=>[s(w,{inset:""},{default:t(()=>[s(v,{modelValue:_.value,"onUpdate:modelValue":a[0]||(a[0]=e=>_.value=e),name:"phone",label:"手机号",placeholder:"请输入手机号",rules:[{required:!0,message:"请输入手机号"}],maxlength:"11",type:"tel"},null,8,["modelValue"]),s(v,{modelValue:b.value,"onUpdate:modelValue":a[1]||(a[1]=e=>b.value=e),name:"code",label:"验证码",placeholder:"请输入验证码",rules:[{required:!0,message:"请输入验证码"}],maxlength:"6"},{button:t(()=>[s(d,{size:"small",type:"primary",disabled:V.value>0,onClick:k},{default:t(()=>[u(c(V.value>0?`${V.value}s`:"获取验证码"),1)]),_:1},8,["disabled"])]),_:1},8,["modelValue"])]),_:1}),o("div",g,[s(d,{type:"primary",size:"large",block:"",loading:y.value,"native-type":"submit"},{default:t(()=>a[4]||(a[4]=[u(" 立即登录 ",-1)])),_:1,__:[4]},8,["loading"])])]),_:1}),o("div",f,[s(S,{modelValue:h.value,"onUpdate:modelValue":a[2]||(a[2]=e=>h.value=e),"icon-size":"14px"},{default:t(()=>a[5]||(a[5]=[u(" 我已阅读并同意 ",-1),o("span",{class:"link"},"《用户协议》",-1),u(" 和 ",-1),o("span",{class:"link"},"《隐私政策》",-1)])),_:1,__:[5]},8,["modelValue"])])]),a[7]||(a[7]=o("div",{class:"bottom-decoration"},[o("div",{class:"wave-bg"},[o("svg",{viewBox:"0 0 1200 120",preserveAspectRatio:"none"},[o("path",{d:"M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z",fill:"var(--van-primary-color)",opacity:"0.1"})])])],-1))])}}}),[["__scopeId","data-v-0338ae2c"]]);export{_ as default};
