import{l as a,r as e,c as s,f as i,L as l,k as n,R as r,Q as c,S as t,A as o,M as d,N as u,O as v,F as h,V as y,y as k,u as f,X as p,W as R,B as m}from"./vendor-788d0564.js";import{a as E,b as g}from"./fishing-a433fcef.js";import{g as _,a as A}from"./fishUnlock-20be02ed.js";import{b,a as C}from"./vant-7a9d22a8.js";import{_ as I}from"./_plugin-vue_export-helper-1b428a4d.js";const T=[{id:"crucian_carp",name:"鲫鱼",icon:"🐟",lockedIcon:"",category:E.FRESHWATER,rarity:g.COMMON,description:"常见的淡水鱼类，适应性强，分布广泛",habitat:["湖泊","水库","河流"],season:["春季","秋季"]},{id:"grass_carp",name:"草鱼",icon:"🐟",lockedIcon:"",category:E.FRESHWATER,rarity:g.COMMON,description:"草食性鱼类，体型较大，肉质鲜美",habitat:["湖泊","水库","河流"],season:["夏季","秋季"]},{id:"common_carp",name:"鲤鱼",icon:"🐟",lockedIcon:"",category:E.FRESHWATER,rarity:g.COMMON,description:"经典的淡水鱼类，钓获难度适中",habitat:["湖泊","水库","河流"],season:["春季","秋季"]},{id:"silver_carp",name:"白鲢",icon:"🐟",lockedIcon:"",category:E.FRESHWATER,rarity:g.COMMON,description:"滤食性鱼类，体型较大",habitat:["湖泊","水库"],season:["夏季","秋季"]},{id:"bighead_carp",name:"花鲢",icon:"🐟",lockedIcon:"",category:E.FRESHWATER,rarity:g.COMMON,description:"头部较大，肉质鲜美",habitat:["湖泊","水库"],season:["夏季","秋季"]},{id:"white_striped_bass",name:"白条",icon:"🐟",lockedIcon:"",category:E.FRESHWATER,rarity:g.COMMON,description:"小型鱼类，数量众多",habitat:["河流","溪流"],season:["全年"]},{id:"black_fish",name:"黑鱼",icon:"🐟",lockedIcon:"",category:E.FRESHWATER,rarity:g.RARE,description:"肉食性鱼类，体型较大，钓获难度高",habitat:["湖泊","水库","河流"],season:["夏季","秋季"]},{id:"snakehead",name:"鳢鱼",icon:"🐟",lockedIcon:"",category:E.FRESHWATER,rarity:g.RARE,description:"凶猛的肉食性鱼类",habitat:["湖泊","水库"],season:["夏季","秋季"]},{id:"mandarin_fish",name:"鳜鱼",icon:"🐟",lockedIcon:"",category:E.FRESHWATER,rarity:g.RARE,description:"珍贵的淡水鱼类，肉质鲜美",habitat:["湖泊","水库"],season:["春季","秋季"]},{id:"perch",name:"鲈鱼",icon:"🐟",lockedIcon:"",category:E.FRESHWATER,rarity:g.RARE,description:"肉食性鱼类，钓获难度较高",habitat:["湖泊","水库"],season:["春季","秋季"]},{id:"chinese_sturgeon",name:"中华鲟",icon:"🐟",lockedIcon:"",category:E.FRESHWATER,rarity:g.EPIC,description:"国家一级保护动物，极其珍贵",habitat:["长江"],season:["春季"]},{id:"yangtze_sturgeon",name:"长江鲟",icon:"🐟",lockedIcon:"",category:E.FRESHWATER,rarity:g.EPIC,description:"长江特有物种，极其稀有",habitat:["长江"],season:["春季"]},{id:"sea_bass",name:"海鲈",icon:"🐟",lockedIcon:"",category:E.SALTWATER,rarity:g.RARE,description:"海水鱼类，肉质鲜美",habitat:["近海","海湾"],season:["春季","秋季"]},{id:"yellow_croaker",name:"黄鱼",icon:"🐟",lockedIcon:"",category:E.SALTWATER,rarity:g.COMMON,description:"常见的海水鱼类",habitat:["近海"],season:["春季","秋季"]},{id:"red_snapper",name:"红鲷",icon:"🐟",lockedIcon:"",category:E.SALTWATER,rarity:g.RARE,description:"珍贵的海水鱼类",habitat:["深海"],season:["全年"]}],M={[g.COMMON]:T.filter(a=>a.rarity===g.COMMON),[g.RARE]:T.filter(a=>a.rarity===g.RARE),[g.EPIC]:T.filter(a=>a.rarity===g.EPIC),[g.LEGENDARY]:T.filter(a=>a.rarity===g.LEGENDARY)};E.FRESHWATER,T.filter(a=>a.category===E.FRESHWATER),E.SALTWATER,T.filter(a=>a.category===E.SALTWATER),E.LAKE,T.filter(a=>a.category===E.LAKE),E.RIVER,T.filter(a=>a.category===E.RIVER);const O=a=>({[g.COMMON]:"常见",[g.RARE]:"稀有",[g.EPIC]:"史诗",[g.LEGENDARY]:"传说"}[a]),S={class:"fish-guide-page"},U={class:"progress-section"},W={class:"progress-header"},F={class:"progress-text"},L={class:"progress-bar"},N={class:"progress-percentage"},H={class:"filter-section"},w={class:"filter-tabs"},P={class:"fish-grid"},j=["onClick"],V={class:"fish-icon"},D={class:"fish-name"},G={key:0,class:"unlock-badge"},x={class:"fish-grid"},Y=["onClick"],K={class:"fish-icon"},$={class:"fish-name"},z={key:0,class:"unlock-badge"},B={class:"fish-grid"},Q=["onClick"],X={class:"fish-icon"},q={class:"fish-name"},J={key:0,class:"unlock-badge"},Z={class:"fish-grid"},aa=["onClick"],ea={class:"fish-icon"},sa={class:"fish-name"},ia={key:0,class:"unlock-badge"},la={key:0,class:"fish-detail"},na={class:"detail-header"},ra={class:"fish-info"},ca={class:"fish-icon-large"},ta={class:"fish-details"},oa={class:"detail-content"},da={key:0,class:"unlock-info"},ua={class:"info-item"},va={class:"value"},ha={class:"info-item"},ya={class:"value"},ka={key:1,class:"locked-info"},fa={key:2,class:"fish-description"},pa={key:3,class:"fish-habitat"},Ra={class:"habitat-tags"},ma={key:4,class:"fish-season"},Ea={class:"season-tags"},ga=I(a({__name:"FishGuide",setup(a){d();const E=e(""),I=e("all"),ga=e(!1),_a=e(!1),Aa=e(null),ba=[{name:"重置解锁进度",color:"#ee0a24"},{name:"关于图鉴",color:"#1989fa"}],Ca=s(()=>A("current_user")),Ia=s(()=>E.value?T.filter(a=>a.name.toLowerCase().includes(E.value.toLowerCase())):T),Ta=s(()=>M[g.COMMON]),Ma=s(()=>M[g.RARE]),Oa=s(()=>M[g.EPIC]),Sa=()=>{},Ua=a=>{I.value=a},Wa=a=>{Aa.value=a,ga.value=!0},Fa=()=>{_a.value=!0},La=async a=>{if("重置解锁进度"===a.name){await b({title:"确认重置",message:"这将清除所有解锁进度，确定要继续吗？"})&&C("重置功能开发中")}else"关于图鉴"===a.name&&C("图鉴功能说明开发中")};return i(()=>{}),(a,e)=>{const s=u("van-icon"),i=u("van-nav-bar"),d=u("van-search"),g=u("van-tab"),A=u("van-tabs"),b=u("van-tag"),C=u("van-popup"),T=u("van-action-sheet");return v(),l("div",S,[n(i,{title:"钓鱼图鉴","left-arrow":"",onClickLeft:e[0]||(e[0]=e=>a.$router.back())},{right:r(()=>[n(s,{name:"setting-o",onClick:Fa})]),_:1}),c("div",U,[c("div",W,[e[6]||(e[6]=c("h3",null,"解锁进度",-1)),c("span",F,t(Ca.value.totalUnlocked)+"/"+t(Ca.value.totalFish),1)]),c("div",L,[c("div",{class:"progress-fill",style:o({width:`${Ca.value.unlockPercentage}%`})},null,4)]),c("div",N,t(Ca.value.unlockPercentage)+"%",1)]),c("div",H,[n(d,{modelValue:E.value,"onUpdate:modelValue":e[1]||(e[1]=a=>E.value=a),placeholder:"搜索鱼类名称",onSearch:Sa},null,8,["modelValue"]),c("div",w,[n(A,{active:I.value,"onUpdate:active":e[2]||(e[2]=a=>I.value=a),onChange:Ua},{default:r(()=>[n(g,{title:"全部",name:"all"},{default:r(()=>[c("div",P,[(v(!0),l(h,null,y(Ia.value,a=>(v(),l("div",{key:a.id,class:k(["fish-card",{unlocked:f(_)("current_user",a.id).isUnlocked}]),onClick:e=>Wa(a)},[c("div",V,t(f(_)("current_user",a.id).isUnlocked?a.icon:""),1),c("div",D,t(a.name),1),c("div",{class:k(["fish-rarity",a.rarity])},t(f(O)(a.rarity)),3),f(_)("current_user",a.id).isUnlocked?(v(),l("div",G," ✓ ")):p("",!0)],10,j))),128))])]),_:1}),n(g,{title:"常见",name:"common"},{default:r(()=>[c("div",x,[(v(!0),l(h,null,y(Ta.value,a=>(v(),l("div",{key:a.id,class:k(["fish-card",{unlocked:f(_)("current_user",a.id).isUnlocked}]),onClick:e=>Wa(a)},[c("div",K,t(f(_)("current_user",a.id).isUnlocked?a.icon:""),1),c("div",$,t(a.name),1),c("div",{class:k(["fish-rarity",a.rarity])},t(f(O)(a.rarity)),3),f(_)("current_user",a.id).isUnlocked?(v(),l("div",z," ✓ ")):p("",!0)],10,Y))),128))])]),_:1}),n(g,{title:"稀有",name:"rare"},{default:r(()=>[c("div",B,[(v(!0),l(h,null,y(Ma.value,a=>(v(),l("div",{key:a.id,class:k(["fish-card",{unlocked:f(_)("current_user",a.id).isUnlocked}]),onClick:e=>Wa(a)},[c("div",X,t(f(_)("current_user",a.id).isUnlocked?a.icon:""),1),c("div",q,t(a.name),1),c("div",{class:k(["fish-rarity",a.rarity])},t(f(O)(a.rarity)),3),f(_)("current_user",a.id).isUnlocked?(v(),l("div",J," ✓ ")):p("",!0)],10,Q))),128))])]),_:1}),n(g,{title:"史诗",name:"epic"},{default:r(()=>[c("div",Z,[(v(!0),l(h,null,y(Oa.value,a=>(v(),l("div",{key:a.id,class:k(["fish-card",{unlocked:f(_)("current_user",a.id).isUnlocked}]),onClick:e=>Wa(a)},[c("div",ea,t(f(_)("current_user",a.id).isUnlocked?a.icon:""),1),c("div",sa,t(a.name),1),c("div",{class:k(["fish-rarity",a.rarity])},t(f(O)(a.rarity)),3),f(_)("current_user",a.id).isUnlocked?(v(),l("div",ia," ✓ ")):p("",!0)],10,aa))),128))])]),_:1})]),_:1},8,["active"])])]),n(C,{show:ga.value,"onUpdate:show":e[4]||(e[4]=a=>ga.value=a),position:"bottom",style:{height:"70%"}},{default:r(()=>{return[Aa.value?(v(),l("div",la,[c("div",na,[c("div",ra,[c("div",ca,t(f(_)("current_user",Aa.value.id).isUnlocked?Aa.value.icon:""),1),c("div",ta,[c("h3",null,t(Aa.value.name),1),c("div",{class:k(["fish-rarity-badge",Aa.value.rarity])},t(f(O)(Aa.value.rarity)),3)])]),n(s,{name:"cross",onClick:e[3]||(e[3]=a=>ga.value=!1)})]),c("div",oa,[f(_)("current_user",Aa.value.id).isUnlocked?(v(),l("div",da,[c("div",ua,[e[7]||(e[7]=c("span",{class:"label"},"首次钓获：",-1)),c("span",va,t((a=f(_)("current_user",Aa.value.id).firstCatchDate,a?a.toLocaleDateString():"未知")),1)]),c("div",ha,[e[8]||(e[8]=c("span",{class:"label"},"总钓获：",-1)),c("span",ya,t(f(_)("current_user",Aa.value.id).totalCatchCount)+"条",1)])])):(v(),l("div",ka,[...e[9]||(e[9]=[c("p",null,"尚未解锁此鱼类",-1),c("p",null,"钓获此鱼类即可解锁",-1)])])),Aa.value.description?(v(),l("div",fa,[e[10]||(e[10]=c("h4",null,"鱼类介绍",-1)),c("p",null,t(Aa.value.description),1)])):p("",!0),Aa.value.habitat?(v(),l("div",pa,[e[11]||(e[11]=c("h4",null,"栖息地",-1)),c("div",Ra,[(v(!0),l(h,null,y(Aa.value.habitat,a=>(v(),R(b,{key:a,type:"primary",plain:""},{default:r(()=>[m(t(a),1)]),_:2},1024))),128))])])):p("",!0),Aa.value.season?(v(),l("div",ma,[e[12]||(e[12]=c("h4",null,"最佳钓鱼季节",-1)),c("div",Ea,[(v(!0),l(h,null,y(Aa.value.season,a=>(v(),R(b,{key:a,type:"success",plain:""},{default:r(()=>[m(t(a),1)]),_:2},1024))),128))])])):p("",!0)])])):p("",!0)];var a}),_:1},8,["show"]),n(T,{show:_a.value,"onUpdate:show":e[5]||(e[5]=a=>_a.value=a),actions:ba,onSelect:La},null,8,["show"])])}}}),[["__scopeId","data-v-e7246027"]]);export{ga as default};
