import{l as h,r as u,L as C,Q as o,k as a,R as n,M as S,N as s,O as B,B as c,S as I}from"./vendor-38d0e5c9.js";import{a as i}from"./vant-d7f3bedd.js";import{_ as L}from"./_plugin-vue_export-helper-c27b6911.js";const N={class:"login-page"},T={class:"login-form"},z={class:"login-actions"},D={class:"agreement"},R=h({__name:"Login",setup(U){const g=S(),d=u(""),p=u(""),m=u(!0),v=u(!1),l=u(0),b=()=>{if(!d.value){i("请先输入手机号");return}i("验证码已发送"),l.value=60;const t=setInterval(()=>{l.value--,l.value<=0&&clearInterval(t)},1e3)},y=async()=>{if(!m.value){i("请先同意用户协议和隐私政策");return}v.value=!0;try{if(await new Promise(t=>setTimeout(t,1e3)),p.value==="123456"){const t={id:"user_1",username:"钓鱼老司机",phone:d.value,avatar:"https://img.yzcdn.cn/vant/cat.jpeg",level:"expert",experience:2580,city:"北京",loginTime:new Date().getTime()};localStorage.setItem("fishing_user",JSON.stringify(t)),localStorage.setItem("fishing_token","mock_token_"+Date.now()),i("登录成功"),g.replace("/home")}else i("验证码错误，请输入 123456")}catch{i("登录失败，请重试")}finally{v.value=!1}};return(t,e)=>{const x=s("van-notice-bar"),_=s("van-field"),f=s("van-button"),V=s("van-cell-group"),k=s("van-form"),w=s("van-checkbox");return B(),C("div",N,[e[6]||(e[6]=o("div",{class:"logo-section"},[o("div",{class:"logo-icon"},"🎣"),o("h1",{class:"app-title"},"渔友圈"),o("p",{class:"app-subtitle"},"钓鱼爱好者的专属社交平台")],-1)),o("div",T,[a(x,{mode:"closeable",color:"#1989fa",background:"#ecf9ff","left-icon":"info-o"},{default:n(()=>e[3]||(e[3]=[c(" 测试提示：输入任意手机号 + 验证码 123456 即可登录 ",-1)])),_:1,__:[3]}),a(k,{onSubmit:y},{default:n(()=>[a(V,{inset:""},{default:n(()=>[a(_,{modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=r=>d.value=r),name:"phone",label:"手机号",placeholder:"请输入手机号",rules:[{required:!0,message:"请输入手机号"}],maxlength:"11",type:"tel"},null,8,["modelValue"]),a(_,{modelValue:p.value,"onUpdate:modelValue":e[1]||(e[1]=r=>p.value=r),name:"code",label:"验证码",placeholder:"请输入验证码",rules:[{required:!0,message:"请输入验证码"}],maxlength:"6"},{button:n(()=>[a(f,{size:"small",type:"primary",disabled:l.value>0,onClick:b},{default:n(()=>[c(I(l.value>0?`${l.value}s`:"获取验证码"),1)]),_:1},8,["disabled"])]),_:1},8,["modelValue"])]),_:1}),o("div",z,[a(f,{type:"primary",size:"large",block:"",loading:v.value,"native-type":"submit"},{default:n(()=>e[4]||(e[4]=[c(" 立即登录 ",-1)])),_:1,__:[4]},8,["loading"])])]),_:1}),o("div",D,[a(w,{modelValue:m.value,"onUpdate:modelValue":e[2]||(e[2]=r=>m.value=r),"icon-size":"14px"},{default:n(()=>e[5]||(e[5]=[c(" 我已阅读并同意 ",-1),o("span",{class:"link"},"《用户协议》",-1),c(" 和 ",-1),o("span",{class:"link"},"《隐私政策》",-1)])),_:1,__:[5]},8,["modelValue"])])]),e[7]||(e[7]=o("div",{class:"bottom-decoration"},[o("div",{class:"wave-bg"},[o("svg",{viewBox:"0 0 1200 120",preserveAspectRatio:"none"},[o("path",{d:"M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z",fill:"var(--van-primary-color)",opacity:"0.1"})])])],-1))])}}});const O=L(R,[["__scopeId","data-v-0338ae2c"]]);export{O as default};
